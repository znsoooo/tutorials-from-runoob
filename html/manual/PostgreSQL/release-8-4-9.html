<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.145. 版本8.4.9</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-4-10.html" title="E.144. 版本8.4.10" /><link rel="next" href="release-8-4-8.html" title="E.146. 版本8.4.8" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.145. 版本8.4.9</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-4-10.html" title="E.144. 版本8.4.10">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-4-8.html" title="E.146. 版本8.4.8">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-4-9"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.145. 版本8.4.9</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-4-9.html#idp76773168">E.145.1. 迁移到版本8.4.9</a></span></dt><dt><span class="sect2"><a href="release-8-4-9.html#idp76774992">E.145.2. 变化</a></span></dt></dl></div><p><strong>发布日期：. </strong>2011-09-26</p><p>    该发布包含来自8.4.8的各种修复。关于8.4主要发布的新功能的信息，
参阅<a class="xref" href="release-8-4.html" title="E.154. 版本8.4">第 E.154 节</a>。
</p><div class="sect2" id="idp76773168"><div class="titlepage"><div><div><h3 class="title">E.145.1. 迁移到版本8.4.9</h3></div></div></div><p>    为运行8.4.X不需要备份/恢复。</p><p>   然而，如果你从8.4.8更早版本更新，参阅<a class="xref" href="release-8-4-8.html" title="E.146. 版本8.4.8">第 E.146 节</a>。</p></div><div class="sect2" id="idp76774992"><div class="titlepage"><div><div><h3 class="title">E.145.2. 变化</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    修复存在问题的热更新元组的索引错误(Tom Lane)</p><p>    这些错误可以导致重新索引系统目录后索引崩溃。
他们不认为会影响用户索引。</p></li><li class="listitem"><p>   修复GiST索引页分裂处理的多个错误(Heikki Linnakangas)</p><p>    发生的概率是很低的，但是可以导致索引失败。</p></li><li class="listitem"><p>    修复<code class="function">tsvector_concat()</code>中可能的缓冲区溢出(Tom Lane)</p><p>     该函数低估它的结果所需要的内存量，导致服务器崩溃。</p></li><li class="listitem"><p>     当处理<span class="quote">“<span class="quote">standalone</span>”</span>参数时，修复<code class="function">xml_recv</code>
 中崩溃(Tom Lane)</p></li><li class="listitem"><p>    使得<code class="function">pg_options_to_table</code>为没有值的选项返回NULL(Tom Lane)</p><p>    以前这种情况可以导致服务器崩溃。 </p></li><li class="listitem"><p>   避免在<code class="command">ANALYZE</code>和SJIS-2004编码转换中可能访问内存结尾(Noah Misch)</p><p>     这修复了一些概率很低的服务器崩溃情况。</p></li><li class="listitem"><p>    防止间歇性挂在启动进程和bgwriter进程的相互作用中(Simon Riggs)</p><p>     这影响了在非热备份情况中的恢复。</p></li><li class="listitem"><p>   修复relcache初始文件失效的竞态条件(Tom Lane)</p><p>    有一个Window，其中新的后台进程可以读一个陈旧的初始化文件，
但是忽略了告知它的数据是陈旧的无效消息。
    其结果在目录访问中是奇怪的错误，通常在启动之后
<span class="quote">“<span class="quote">无法读取文件中块0...</span>”</span>。</p></li><li class="listitem"><p>    修复在GiST索引扫描结尾的内存泄露(Tom Lane)</p><p>    执行许多单独GiST索引扫描的命令，
   比如包含很多行的表上新的基于排斥约束的GiST验证，
   由于这种泄露可能短暂地需要大量内存。</p></li><li class="listitem"><p>    修复元组存储可支持游标以及
plpgsql的<code class="literal">RETURN NEXT</code>命令中不正确的内存计算（可能导致内存膨胀）(Tom Lane)</p></li><li class="listitem"><p>     当建立一个大的，有损耗的位图时，修复性能问题(Tom Lane)</p></li><li class="listitem"><p>     修复唯一列的连接选择性估计(Tom Lane)</p><p>    这修复了可以导致连接结果大小的较差估计的错误的规划器探试。</p></li><li class="listitem"><p>     修复只出现在子select目标列中的嵌套PlaceHolderVar表达式(Tom Lane)</p><p>    这个错误可以导致错误的出现空的外部连接的输出。</p></li><li class="listitem"><p>    运行正确优化的嵌套的<code class="literal">EXISTS</code>查询(Tom Lane)</p></li><li class="listitem"><p>    修复数组和路径创建函数确保填充字节为零(Tom Lane)</p><p>这避免了规划器认为语义上相同的常数是不相等的一种情况，导致低劣的优化。</p></li><li class="listitem"><p>  修复<code class="command">EXPLAIN</code>以处理内部索引扫描子规划中控制结果节点(Tom Lane)</p><p>     这种忽视的通常状况是<span class="quote">“<span class="quote">bogus varno</span>”</span>错误。</p></li><li class="listitem"><p>     解决了打破WAL回放的gcc 4.6.0错误(Tom Lane)</p><p>     这可能会导致服务器崩溃后已提交事务损失。</p></li><li class="listitem"><p>    修复视图中<code class="literal">VALUES</code>备份错误(Tom Lane)</p></li><li class="listitem"><p>    不允许序列上<code class="literal">SELECT FOR UPDATE/SHARE</code>(Tom Lane)</p><p>     该操作不按预期运行并且导致错误。</p></li><li class="listitem"><p>    修复<code class="command">VACUUM</code>所以它总是更新<code class="literal">pg_class</code>.<code class="literal">reltuples</code>/<code class="literal">relpages</code> (Tom Lane)</p><p>    这将修复对于当vacuum表的时候autovacuum可能会越来越差的一些情况。 </p></li><li class="listitem"><p>    当计算哈希表大小时，防止整数溢出(Tom Lane)</p></li><li class="listitem"><p>    修复<code class="command">CLUSTER</code>可能尝试访问已删除TOAST数据(Tom Lane)</p></li><li class="listitem"><p> 
     修复为<span class="quote">“<span class="quote">peer</span>”</span>认证使用凭证控制消息的可能错误(Tom Lane)</p></li><li class="listitem"><p>     当需要多次往返时，修复SSPI登录(Ahmed Shinwari,Magnus Hagander)</p><p>    这个问题典型症状是在SSPI登录期间<span class="quote">“<span class="quote">不支持该函数请求</span>”</span>错误。</p></li><li class="listitem"><p>    如果<code class="filename">pg_hba.conf</code>包含<code class="literal">hostssl</code>，但是
SSL被禁用，抛出错误(Tom Lane)</p><p>    这一结论比默默忽略这些行的先前操作更加人性化。 </p></li><li class="listitem"><p>     修复<code class="function">pg_srand48</code>起源初始化中的typo (Andres Freund)</p><p>    这导致错误使用已提供的种子的所有位。
    在大多数平台上不使用这个功能（只有那些没有<code class="function">srandom</code>的），
以及来自任何情况下比预期更少随机种子似乎最小的潜在安全隐患。</p></li><li class="listitem"><p>     当<code class="literal">LIMIT</code>和<code class="literal">OFFSET</code>总数值超过2^63的时候，
 避免整数溢出(Heikki Linnakangas)</p></li><li class="listitem"><p>    添加溢出检查到<code class="function">generate_series()</code>
的<code class="type">int4</code>和<code class="type">int8</code>版本(Robert Haas)</p></li><li class="listitem"><p>    修复<code class="function">to_char()</code>中尾随零删除(Marti Raudsepp)</p><p>    带有<code class="literal">FM</code>的格式，并且小数点后没有数字位置中，
    小数点左边的零可能被错误地删除。</p></li><li class="listitem"><p>    修复<code class="function">pg_size_pretty()</code>以避免接近2^63的输入溢出(Tom Lane)</p></li><li class="listitem"><p>     削弱记录值中typmod匹配的plpgsql检查(Tom Lane)</p><p>    一个过分热情检查可能导致丢弃一直保持的长度修饰符。</p></li><li class="listitem"><p>  正确处理<span class="application">initdb</span>期间的区域名的引用(Heikki Linnakangas)</p><p>    这种情况可以产生一些Windows区域，比如<span class="quote">“<span class="quote">中华人民共和国</span>”</span>。</p></li><li class="listitem"><p>     从8.3更新期间修复<span class="application">pg_upgrade</span>保存toast表的relfrozenxid 
 (Bruce Momjian)</p><p>     如果不这样做可能导致<code class="filename">pg_clog</code>文件升级后很快被删除。</p></li><li class="listitem"><p>    在<span class="application">pg_ctl</span>中，
支持Windows上服务注册静止模式(MauMau)</p></li><li class="listitem"><p>   修复从不同文件<code class="literal">COPY</code>时脚本文件行数的<span class="application">psql</span>计数(Tom Lane)</p></li><li class="listitem"><p>    为<code class="varname">standard_conforming_strings</code>修复
<span class="application">pg_restore</span>的直接到数据库模式(Tom Lane)</p><p>   当从<code class="varname">standard_conforming_strings</code>设置为<code class="literal">on</code>的归档文件中直接恢复
   到数据库服务器时，<span class="application">pg_restore</span>可以发出错误命令。</p></li><li class="listitem"><p>   关于平行的<span class="application">pg_restore</span>不支持情况用户界面友好(Tom Lane)</p><p>     该变化确保了在采取的任何恢复操作之前这种情况被检测和报告。</p></li><li class="listitem"><p>     修复写入超越缓冲区末尾以及在<span class="application">libpq</span>的LDAP服务查找代码中的内存泄漏(Albe Laurenz)</p></li><li class="listitem"><p>    在<span class="application">libpq</span>中，当使用非阻塞I/O和SSL连接时避免错误(Martin Pihlak, Tom Lane)</p></li><li class="listitem"><p>     连接启动时提高libpq的错误处理(Tom Lane)</p><p>    特别是，在SSL连接启动时<code class="function">fork()</code>错误的服务器报告
的反应是明智的。</p></li><li class="listitem"><p>    提高SSL故障<span class="application">libpq</span>的错误报告(Tom Lane)</p></li><li class="listitem"><p>     当添加新元组到最初从服务器查询获得的<code class="structname">PGresult</code>时，
 修复<code class="function">PQsetvalue()</code>避免可能崩溃(Andrew Chernow)</p></li><li class="listitem"><p>    使得<span class="application">ecpglib</span>写入带有15位数字精度的<code class="type">double</code>值(Akira Kurosawa)</p></li><li class="listitem"><p>    在<span class="application">ecpglib</span>中，确保错误之后恢复<code class="literal">LC_NUMERIC</code>设置(Michael Meskes)</p></li><li class="listitem"><p>    提供上游修复加密的符号字符错误(CVE-2011-2483)(Tom Lane)</p><p>    <code class="filename">contrib/pg_crypto</code>的加密代码可以在
字符是有符号的（这是大多数）平台上提供错误结果，导致加密密码比它们所应该的更弱。</p></li><li class="listitem"><p>   修复<code class="filename">contrib/seg</code>中的内存泄露(Heikki Linnakangas)</p></li><li class="listitem"><p>    修复<code class="function">pgstatindex()</code>为空索引提供一致结果(Tom Lane)</p></li><li class="listitem"><p>    允许编译 perl 5.14 (Alex Hunsaker)</p></li><li class="listitem"><p>   为探测系统函数的存在更新配置脚本方法(Tom Lane)</p><p>     在8.3和8.2中使用的autoconf的版本可能被执行链接时优化的编译器愚弄。</p></li><li class="listitem"><p>     修复包含空格的编译安装文件路径的相关问题(Tom Lane)</p></li><li class="listitem"><p>    更新时区数据文件到为Canada, Egypt, Russia, Samoa和South Sudan中的DST变化规律的<span class="application">tzdata</span>发布2011i。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-4-10.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-4-8.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.144. 版本8.4.10 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.146. 版本8.4.8</td></tr></table></div></body></html>
