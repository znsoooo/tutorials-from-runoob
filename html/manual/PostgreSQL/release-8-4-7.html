<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.147. 版本8.4.7</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-4-8.html" title="E.146. 版本8.4.8" /><link rel="next" href="release-8-4-6.html" title="E.148. 版本8.4.6" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.147. 版本8.4.7</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-4-8.html" title="E.146. 版本8.4.8">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-4-6.html" title="E.148. 版本8.4.6">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-4-7"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.147. 版本8.4.7</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-4-7.html#idp76890656">E.147.1. 迁移到版本8.4.7</a></span></dt><dt><span class="sect2"><a href="release-8-4-7.html#idp76892208">E.147.2. 变化</a></span></dt></dl></div><p><strong>发布日期：. </strong>2011-01-31</p><p>    该发布包含8.4.6各种修复。关于8.4主要发布的新功能的各种信息，
参阅<a class="xref" href="release-8-4.html" title="E.154. 版本8.4">第 E.154 节</a>。</p><div class="sect2" id="idp76890656"><div class="titlepage"><div><div><h3 class="title">E.147.1. 迁移到版本8.4.7</h3></div></div></div><p>     运行8.4.X不需要备份/恢复。然而，如果你从8.4.2更早版本更新，
 参阅<a class="xref" href="release-8-4-2.html" title="E.152. 版本8.4.2">第 E.152 节</a>。</p></div><div class="sect2" id="idp76892208"><div class="titlepage"><div><div><h3 class="title">E.147.2. 变化</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    当<code class="command">EXPLAIN</code>尝试显示简单形式<code class="literal">CASE</code>表达式时，
避免错误(Tom Lane)
</p><p>    如果<code class="literal">CASE</code>的测试表达式是常量，规划器可以简化
<code class="literal">CASE</code>到困惑表达式显示代码形式，
导致<span class="quote">“<span class="quote">不希望的CASE WHEN子句</span>”</span>错误。 
</p></li><li class="listitem"><p>     修复分配给下标的现有范围的数组片段(Tom Lane) </p><p>    如果在新添加的下标和最早预先存在的下标之间存在差距，
该代码误算了许多需要从旧的数组无效的位图拷贝的项，
可能导致数据损坏或崩溃。</p></li><li class="listitem"><p>    在规划非常远的日期值时避免意外转换溢出(Tom Lane)</p><p>     <code class="type">date</code>类型支持比通过<code class="type">timestamp</code>类型表示的更广泛日期，
     但是规划器假设它完全可以将日期转换为timestamp。</p></li><li class="listitem"><p>    当<code class="varname">standard_conforming_strings</code>是on时，
为大对象(BLOBs)修复<span class="application">pg_restore</span>的
文本输出(Tom Lane)</p><p>    虽然直接存储到数据库正常工作，如果
<span class="application">pg_restore</span>要求SQL文本输出并且<code class="varname">standard_conforming_strings</code>
在源数据库中启用，字符串转义是不正确的。</p></li><li class="listitem"><p>    修复包含<code class="literal">... &amp; !(subexpression) | ...</code>的
<code class="type">tsquery</code>值的错误解析(Tom Lane)</p><p>    包含操作符这种组合的查询不能正确被执行。同样的错误
存在于<code class="filename">contrib/intarray</code>的<code class="type">query_int</code>类型和<code class="filename">contrib/ltree</code>的
    <code class="type">ltxtquery</code>类型中。</p></li><li class="listitem"><p>   修复<code class="type">query_int</code>类型的<code class="filename">contrib/intarray</code>的输入函数中
   的缓冲区溢出(Apple)</p><p>    这个错误是一个安全风险，因为该函数的返回地址可以被覆盖。
感谢 Apple Inc的安全团队报告这个问题并且提供修复(CVE-2010-4015)</p></li><li class="listitem"><p>    修复<code class="filename">contrib/seg</code>的GiST picksplit算法中的错误(Alexander Korotkov)</p><p>     这可能导致相当大的无效率，虽然在<code class="type">seg</code>列上的GiST索引中不是真的错误答案。
 如果你有这样一个索引，可以在安装这个更新之后考虑下<code class="command">REINDEX</code>它。
 （这与以前更新中<code class="filename">contrib/cube</code>中被修复的错误是相同的）。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-4-8.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-4-6.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.146. 版本8.4.8 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.148. 版本8.4.6</td></tr></table></div></body></html>
