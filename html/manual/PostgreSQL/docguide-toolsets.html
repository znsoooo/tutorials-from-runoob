<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>J.2. 工具集</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="docguide-docbook.html" title="J.1. DocBook" /><link rel="next" href="docguide-build.html" title="J.3. 编译文档" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">J.2. 工具集</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="docguide-docbook.html" title="J.1. DocBook">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="docguide.html" title="附录 J. 文档">上一级</a></td><th width="60%" align="center">附录 J. 文档</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="docguide-build.html" title="J.3. 编译文档">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="DOCGUIDE-TOOLSETS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">J.2. 工具集</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="docguide-toolsets.html#idp88619840">J.2.1. 在 Fedora、RHEL 和衍生品上安装</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#idp88621360">J.2.2. 在 FreeBSD 上安装</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#idp88634208">J.2.3. Debian 包</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#idp88636416">J.2.4. macOS</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#idp88638000">J.2.5. 从源代码手工安装</a></span></dt><dt><span class="sect2"><a href="docguide-toolsets.html#DOCGUIDE-TOOLSETS-CONFIGURE">J.2.6. 用<code class="command">configure</code>检测</a></span></dt></dl></div><p>   下面的工具用于处理此文档。如标注所示，有些工具可能是可选的。

   </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="ulink" href="http://www.oasis-open.org/docbook/" target="_top">DocBook DTD</a></span></dt><dd><p>       这是 DocBook 本身的定义。我们目前使用版本 4.2；你不能使用更新或者更早的版本。
	   你需要相同版本 DocBook DTD 的<acronym class="acronym">SGML</acronym>和<acronym class="acronym">XML</acronym>变体。
	   这些通常在单独的包中。
      </p></dd><dt><span class="term"><a class="ulink" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879 字符实体</a></span></dt><dd><p>       这是 DocBook SGML需要的，但是被独立发布，因为它们由 ISO 维护。
      </p></dd><dt><span class="term"><a class="ulink" href="https://github.com/docbook/wiki/wiki/DocBookXslStylesheets" target="_top">DocBook XSL 样式表</a></span></dt><dd><p>       这些包含了将 DocBook 源码转换到其他格式（如<acronym class="acronym">HTML</acronym>）所要用的处理指令。
      </p><p>       目前所需的最低版本为1.77.0，但建议使用最新版本以获得最佳效果。
      </p></dd><dt><span class="term"><a class="ulink" href="http://openjade.sourceforge.net" target="_top">OpenSP</a></span></dt><dd><p>       这是<acronym class="acronym">SGML</acronym>处理的基础包。请注意，我们不再需要OpenJade、
	   <acronym class="acronym">DSSSL</acronym>处理器，只有将SGML转换为XML的OpenSP包。
      </p></dd><dt><span class="term"><code class="command">xmllint</code>的<a class="ulink" href="http://xmlsoft.org/" target="_top">Libxml2</a></span></dt><dd><p>       这个库和它所包含的<code class="command">xmllint</code>工具被用来处理 XML。
       很多开发者将已经安装了<span class="application">Libxml2</span>，因为在编译
       PostgreSQL 代码时就已经用到它了。不过要注意，可能需要从一个独立的包中
       安装<code class="command">xmllint</code>。
      </p></dd><dt><span class="term"><code class="command">xsltproc</code>的<a class="ulink" href="http://xmlsoft.org/XSLT/" target="_top">Libxslt</a></span></dt><dd><p>       <code class="command">xsltproc</code>是一个XSLT处理器，
	   也就是使用XSLT样式表将XML转换为其他格式的程序。
      </p></dd><dt><span class="term"><a class="ulink" href="https://xmlgraphics.apache.org/fop/" target="_top">FOP</a></span></dt><dd><p>       这是一个将XML等转换为PDF的程序。
      </p></dd></dl></div><p>
  </p><p>   我们已经在文档中记录了几种安装处理此文档所需的各种工具的方法。它们将在下文中描述。也可能有这些工具的其他打包发布。请向文档邮件列表报告那些包的状态，我们就会在这里包括它们的信息。
  </p><p>   您可以避免在本地安装DocBook XML和DocBook XSLT样式表，
   因为所需文件将从网络下载并在本地缓存。事实上，
   如果您的操作系统软件包仅提供旧版本，尤其是样式表，或者根本没有可用软件包，
   则这可能是首选解决方案。有关更多信息，请参阅<code class="command">xmllint</code>
   和<code class="command">xsltproc</code>的<code class="option">--nonet</code>选项。
  </p><div class="sect2" id="idp88619840"><div class="titlepage"><div><div><h3 class="title">J.2.1. 在 Fedora、RHEL 和衍生品上安装</h3></div></div></div><p>    要安装所需的包，可使用：
</p><pre class="programlisting">yum install docbook-dtds docbook-style-xsl fop libxslt opensp</pre><p>
   </p></div><div class="sect2" id="idp88621360"><div class="titlepage"><div><div><h3 class="title">J.2.2. 在 FreeBSD 上安装</h3></div></div></div><p>    FreeBSD 文档计划本身就是 DocBook 的重度使用者，所以在 FreeBSD 中有一整套文档工具的<span class="quote">“<span class="quote">移植</span>”</span>可用也就不足为奇。要在 FreeBSD 中编译文档，你必须安装下面的移植。
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">textproc/docbook-sgml</code></p></li><li class="listitem"><p><code class="filename">textproc/docbook-xml</code></p></li><li class="listitem"><p><code class="filename">textproc/docbook-xsl</code></p></li><li class="listitem"><p><code class="filename">textproc/dsssl-docbook-modular</code></p></li><li class="listitem"><p><code class="filename">textproc/libxslt</code></p></li><li class="listitem"><p><code class="filename">textproc/fop</code></p></li><li class="listitem"><p><code class="filename">textproc/opensp</code></p></li></ul></div><p>
   </p><p>    要使用<code class="command">pkg</code>安装所需的软件包，请使用：
</p><pre class="programlisting">pkg install docbook-sgml docbook-xml docbook-xsl fop libxslt opensp</pre><p>
   </p><p>    从<code class="filename">doc</code>目录构建文档时，需要使用<code class="command">gmake</code>，
	因为所提供的makefile不适用于FreeBSD的<code class="command">make</code>。
   </p><p>    你可以在<a class="ulink" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/fdp-primer/tools.html" target="_top">FreeBSD 文档项目指导</a>中找到更多有关 FreeBSD 文档工具的信息。
   </p></div><div class="sect2" id="idp88634208"><div class="titlepage"><div><div><h3 class="title">J.2.3. Debian 包</h3></div></div></div><p>    <span class="productname">Debian GNU/Linux</span>也有一整套可以用的文档工具包。要安装，只需简单地使用：
</p><pre class="programlisting">apt-get install docbook docbook-xml docbook-xsl fop libxml2-utils opensp xsltproc</pre><p>
   </p></div><div class="sect2" id="idp88636416"><div class="titlepage"><div><div><h3 class="title">J.2.4. macOS</h3></div></div></div><p>    如果你使用 MacPorts，下面的命令可以帮你设置：
</p><pre class="programlisting">sudo port install docbook-sgml-4.2 docbook-xml-4.2 docbook-xsl fop libxslt opensp</pre><p>
   </p></div><div class="sect2" id="idp88638000"><div class="titlepage"><div><div><h3 class="title">J.2.5. 从源代码手工安装</h3></div></div></div><p>    DocBook 工具的手工安装过程有些复杂，因此如果你有预编译的包，最好还是用它们。我们在这里只描述一个标准的安装，使用合理的标准安装路径，并且没有<span class="quote">“<span class="quote">花哨</span>”</span>的特性。如果想了解细节，你应该学习相关包的文档，并且阅读<acronym class="acronym">SGML</acronym>介绍性材料。
   </p><div class="sect3" id="idp88640080"><div class="titlepage"><div><div><h4 class="title">J.2.5.1. 安装 OpenSP</h4></div></div></div><p>        OpenSP 的安装提供了一个 GNU 风格的<code class="literal">./configure; make; make install</code>编译过程。 你可以在 OpenSP 源代码包里找到详细内容。在一个 nutshell 中：
</p><pre class="synopsis">./configure --enable-default-catalog=/usr/local/etc/sgml/catalog
make
make install</pre><p>
        确保记住你放置<span class="quote">“<span class="quote">default catalog</span>”</span>的位置，后面将需要它。
		你也可以不用在意这一点，但是后面任何时候使用来自OpenSP的任何程序时，
		你将不得不把环境变量<code class="envar">SGML_CATALOG_FILES</code>设置为指向该文件
		（如果 OpenSP 已经安装，并且你想在本地安装剩余的工具链时，这也是个可选的方法）。
       </p></div><div class="sect3" id="idp88643712"><div class="titlepage"><div><div><h4 class="title">J.2.5.2. 安装 <span class="productname">DocBook</span> <acronym class="acronym">DTD</acronym> 工具箱</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>       获取<a class="ulink" href="http://www.docbook.org/sgml/4.2/docbook-4.2.zip" target="_top">DocBook V4.2 发布</a>。
      </p></li><li class="step"><p>       创建目录<code class="filename">/usr/local/share/sgml/docbook-4.2</code>并切换到其中（准确的路径可能不相干，但是在我们这里遵循的布局中它是合理的）。
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>mkdir /usr/local/share/sgml/docbook-4.2</code></strong>
<code class="prompt">$ </code><strong class="userinput"><code>cd /usr/local/share/sgml/docbook-4.2</code></strong></pre><p>
      </p></li><li class="step"><p>       解压：
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>unzip -a ...../docbook-4.2.zip</code></strong></pre><p>
       （压缩包会把它的文件解包到当前目录中）。
      </p></li><li class="step"><p>       编辑文件<code class="filename">/usr/local/share/sgml/catalog</code>（或者你在安装中告诉 jade 的任何东西）并且把类似下面一行的内容加入进去：
</p><pre class="programlisting">CATALOG "docbook-4.2/docbook.cat"</pre><p>
      </p></li><li class="step"><p>       下载<a class="ulink" href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879 字符实体压缩包</a>，解压它并且将文件放在与 DocBook 文件相同的目录中：
</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>cd /usr/local/share/sgml/docbook-4.2</code></strong>
<code class="prompt">$ </code><strong class="userinput"><code>unzip ...../ISOEnts.zip</code></strong></pre><p>
      </p></li><li class="step"><p>       在 DocBook 和 ISO 文件所在的目录中运行下列命令：
</p><pre class="programlisting">perl -pi -e 's/iso-(.*).gml/ISO\1/g' docbook.cat</pre><p>
       （这会修复 DocBook 目录文件中使用的名称和 ISO 字符实体文件的真实名称之间的混合）。
      </p></li></ol></div></div></div><div class="sect2" id="DOCGUIDE-TOOLSETS-CONFIGURE"><div class="titlepage"><div><div><h3 class="title">J.2.6. 用<code class="command">configure</code>检测</h3></div></div></div><p>   在你能编译文档之前，你需要运行<code class="filename">configure</code>脚本，就像你在编译<span class="productname">PostgreSQL</span>程序本身时所作的那样。检查运行末尾附近的输出，应该看起来像这样：
</p><pre class="screen"><code class="computeroutput">checking for onsgmls... onsgmls
checking for DocBook V4.2... yes
checking for dbtoepub... dbtoepub
checking for xmllint... xmllint
checking for xsltproc... xsltproc
checking for osx... osx
checking for fop... fop</code></pre><p>
   如果没有找到<code class="filename">onsgmls</code>或<code class="filename">nsgmls</code>，
   那么一些后续测试将被跳过。<code class="filename">nsgmls</code>是 OpenSP 包的一部分。
   如果它们没有被自动找到，你可以向 configure 传递环境变量<code class="envar">NSGMLS</code>
   来指出这些程序。如果没有找到<span class="quote">“<span class="quote">DocBook V4.2</span>”</span>，
   那么你就没有把 DocBook DTD 工具集安装在 OpenSP 能找到它的地方，
   或者你还没有正确地设置目录文件。见上文的安装提示。
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="docguide-docbook.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="docguide.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="docguide-build.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">J.1. DocBook </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> J.3. 编译文档</td></tr></table></div></body></html>
