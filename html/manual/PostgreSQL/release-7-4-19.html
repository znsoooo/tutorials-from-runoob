<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.265. 版本 7.4.19</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-7-4-20.html" title="E.264. 版本 7.4.20" /><link rel="next" href="release-7-4-18.html" title="E.266. 版本 7.4.18" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.265. 版本 7.4.19</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-7-4-20.html" title="E.264. 版本 7.4.20">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-7-4-18.html" title="E.266. 版本 7.4.18">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-7-4-19"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.265. 版本 7.4.19</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-7-4-19.html#idp82804928">E.265.1. 迁移到版本 7.4.19</a></span></dt><dt><span class="sect2"><a href="release-7-4-19.html#idp82806416">E.265.2. 修改列表</a></span></dt></dl></div><p><strong>发布日期：. </strong>2008-01-07</p><p>这个版本包含各种自7.4.18以来的修复，包括重大安全问题的修复。
关于7.4主版本的新特性的信息，请查阅<a class="xref" href="release-7-4.html" title="E.284. 版本 7.4">第 E.284 节</a>。</p><div class="sect2" id="idp82804928"><div class="titlepage"><div><div><h3 class="title">E.265.1. 迁移到版本 7.4.19</h3></div></div></div><p>运行7.4.X的用户不需要转储/恢复。不过，如果你是从一个早于7.4.11的版本升级而来，
请查看<a class="xref" href="release-7-4-11.html" title="E.273. 版本 7.4.11">第 E.273 节</a>。</p></div><div class="sect2" id="idp82806416"><div class="titlepage"><div><div><h3 class="title">E.265.2. 修改列表</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>阻止索引中的函数用用户的权限执行<code class="command">VACUUM</code>、<code class="command">ANALYZE</code>等 (Tom)</p><p>在索引表达式和部分索引判断中使用的函数在创建一个新的表条目时评估。
早就知道如果某人修改了一个不受信任的用户拥有的表，会造成特洛伊木马代码执行的风险。
（请注意，触发器、缺省、检查约束等，造成同样类型的风险。）但是索引中的函数造成额外的危险，
因为它们将被日常维护操作（如<code class="command">VACUUM FULL</code>）执行，
而它们在超级用户账户下通常是自动执行的。例如，
一个不法用户通过设置一个特洛伊木马索引定义并等待下一个日常清理，可以使用超级用户权限执行代码。
该修复为标准的维护操作安排了(包括<code class="command">VACUUM</code>、<code class="command">ANALYZE</code>、<code class="command">REINDEX</code>、
和<code class="command">CLUSTER</code>)作为表的所有者执行而不是调用的用户，
相同的权限切换机制早已为<code class="literal">SECURITY DEFINER</code>函数使用了。
为了阻止绕开这个安全措施，<code class="command">SET SESSION AUTHORIZATION</code>和<code class="command">SET ROLE</code>
现在禁止在<code class="literal">SECURITY DEFINER</code>内容中执行。 (CVE-2007-6600)</p></li><li class="listitem"><p>修复正则表达式包中的各种bug (Tom, Will Drewry)</p><p>适当配置的正则表达式模式可能会导致崩溃、无限或接近无限循环、和/或大量的内存消耗，
所有这些都造成从不受信任的源接受正则表达式搜索模式的应用拒绝服务的风险。
(CVE-2007-4769, CVE-2007-4772, CVE-2007-6067)</p></li><li class="listitem"><p>要求使用<code class="filename">/contrib/dblink</code>的非超级用户只使用密码认证作为安全措施 (Joe)</p><p>在7.4.18中出现的这个修复是不完全的，因为它只堵住了一些<code class="filename">dblink</code>函数的漏洞。
(CVE-2007-6601, CVE-2007-3278)</p></li><li class="listitem"><p>修复<code class="literal">WHERE false AND var IN (SELECT ...)</code>的某些情况下规划器失败 (Tom)</p></li><li class="listitem"><p>修复使用多字节数据库编码时<code class="function">translate()</code>中潜在的崩溃 (Tom)</p></li><li class="listitem"><p>修复PL/Python在长的异常消息时不崩溃 (Alvaro)</p></li><li class="listitem"><p><span class="application">ecpg</span>语法分析器修复 (Michael)</p></li><li class="listitem"><p>使<code class="filename">contrib/tablefunc</code>的<code class="function">crosstab()</code>
独立的将NULL rowid作为一个类别处理，而不是崩溃 (Joe)</p></li><li class="listitem"><p>修复<code class="type">tsvector</code>和<code class="type">tsquery</code>输出例程，以正确的转义反斜杠 (Teodor, Bruce)</p></li><li class="listitem"><p>修复<code class="function">to_tsvector()</code>在大的输入字符串上的崩溃 (Teodor)</p></li><li class="listitem"><p>当重新生成<code class="command">configure</code>脚本时，要求指定要使用的<span class="productname">Autoconf</span>的版本 (Peter)</p><p>这只影响开发者和打包者。这个修改是为了阻止未经测验的<span class="productname">Autoconf</span>
和<span class="productname">PostgreSQL</span>版本的组合的意外使用。
如果你实在是想要使用一个不同的<span class="productname">Autoconf</span>版本，
可以移除版本校验，但是结果如何就是你的责任了。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-7-4-20.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-7-4-18.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.264. 版本 7.4.20 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.266. 版本 7.4.18</td></tr></table></div></body></html>
