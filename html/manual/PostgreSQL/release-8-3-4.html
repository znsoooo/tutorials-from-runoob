<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.174. 版本8.3.4</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-3-5.html" title="E.173. 版本8.3.5" /><link rel="next" href="release-8-3-3.html" title="E.175. 版本8.3.3" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.174. 版本8.3.4</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-3-5.html" title="E.173. 版本8.3.5">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-3-3.html" title="E.175. 版本8.3.3">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-3-4"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.174. 版本8.3.4</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-3-4.html#idp78730752">E.174.1. 迁移到版本8.3.4</a></span></dt><dt><span class="sect2"><a href="release-8-3-4.html#idp78731664">E.174.2. 变化</a></span></dt></dl></div><p><strong>发布日期：. </strong>2008-09-22</p><p>   该发布包含来自8.3.3中各种修复。关于8.3主要发布中新特性信息，
   参阅<a class="xref" href="release-8-3.html" title="E.178. 版本8.3">第 E.178 节</a>。</p><div class="sect2" id="idp78730752"><div class="titlepage"><div><div><h3 class="title">E.174.1. 迁移到版本8.3.4</h3></div></div></div><p>    运行8.3.X不需要备份/恢复。然而，如果从8.3.1更早版本更新，参阅8.3.1发布说明。</p></div><div class="sect2" id="idp78731664"><div class="titlepage"><div><div><h3 class="title">E.174.2. 变化</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   修复btree WAL恢复编码中错误(Heikki)</p><p>    如果通过页拆分操作中途结束WAL，那么恢复失败。</p></li><li class="listitem"><p>    修复为HOT页修剪错误截断XID的潜在使用(Alvaro)</p><p>      这个错误产生通过<code class="command">VACUUM</code>查阅的系统目录损坏风险： 
死的元组版本可能太早被删除。
在实际数据库操作中的影响可能最小，
因为当检查目录的时候，该系统并不遵循MVCC规则，
但它可能会从<span class="application">pg_dump</span>或其它客户端程序输出中导致瞬时错误。
</p></li><li class="listitem"><p>   修复<code class="structfield">datfrozenxid</code>的潜在错误计算(Alvaro)</p><p>    这个错误可能解释了删除旧的<code class="structname">pg_clog</code>数据一些错误报告。</p></li><li class="listitem"><p>   在<code class="structname">pg_class</code>重新被索引之后修复不正确的HOT更新(Tom)</p><p>   如果在同一会话中<code class="literal">REINDEX TABLE pg_class</code>伴随<code class="literal">ALTER TABLE RENAME</code>或者
   <code class="literal">ALTER TABLE SET SCHEMA</code>命令，可能发生<code class="structname">pg_class</code>损坏。</p></li><li class="listitem"><p>     修复丢失的<span class="quote">“<span class="quote">combo cid</span>”</span>情况(Karl Schnaitter)  </p><p>
   这个错误使得行对于通过所有终止的多个子事务已经删除的事务不可见。 </p></li><li class="listitem"><p>     如果该表目前的检查在错误的时间被删除，
 那么避免自动清理崩溃(Alvaro)</p></li><li class="listitem"><p>  从32位到64位扩展本地锁计数器(Tom)</p><p>    该反馈是计数器可能在相当长事务中溢出，导致意想不到的<span class="quote">“<span class="quote">持有锁</span>”</span>错误。 </p></li><li class="listitem"><p>   修复GiST索引扫描期间元组的重复输出(Teodor)</p></li><li class="listitem"><p>    当修改任何一个表的时候，从头回收外键检查查询(Tom)</p><p>    之前，8.3可能尝试重新规划查询，但是可能操作之前生产的查询文本。
如果重命名表或者列，那么导致错误。 </p></li><li class="listitem"><p>    当视图包含一个简单的<code class="literal">UNION ALL</code>结构的时候，
修复丢失的权限检查(Heikki)</p><p>    正确检查引用表权限，但不是视图本身权限。</p></li><li class="listitem"><p>    在执行器启动中添加检查以确保通过<code class="command">INSERT</code>或者<code class="command">UPDATE</code>
产生的元组匹配目标表的当前行类型(Tom)</p><p>    这种情况在8.3中是不可能的，但是在以前版本中可以发生，所以检查似乎是谨慎的。</p></li><li class="listitem"><p>   修复<code class="command">DROP OWNED</code>期间可能的重复删除(Tom)</p><p>    这通常会导致奇怪错误比如<span class="quote">“<span class="quote">对于关系NNN缓存查找失败</span>”</span>。</p></li><li class="listitem"><p>    修复XML操作中若干内存泄露(Kris Jurka, Tom)</p></li><li class="listitem"><p>    为不可接受的目标数据类型修复<code class="function">xmlserialize()</code>正确改善误差(Tom)</p></li><li class="listitem"><p>    修复文本搜索配置文件解析中错误处理多字节字符的地方(Tom)</p><p>    配置文件中出现的某些字符总是引起<span class="quote">“<span class="quote">无效字节序列编码</span>”</span>错误。</p></li><li class="listitem"><p>   为文本搜索配置文件中报道的所有错误提供文件名和行号位置(Tom)</p></li><li class="listitem"><p>    修复<code class="literal">AT TIME ZONE</code>首先尝试解析它的时区参数为时区缩写，
并且如果失败，则尝试作为完整时区名，而不是之前的其它方式(Tom)</p><p>     时间戳输入函数一直按此顺序解决模棱两可的区域名称。
采用<code class="literal">AT TIME ZONE</code>这样做提高了一致性，并且修复了8.1引入的一个兼容性错误：
在模棱两可的情况下，我们现在操作和8.0以及以前的操作都是一样的，
因为在旧版本中<code class="literal">AT TIME ZONE</code>接受<span class="emphasis"><em>only</em></span>缩写。
</p></li><li class="listitem"><p>   当在64位平台上运行的时候，修复datetime输入函数以正确检测整数溢出(Tom)</p></li><li class="listitem"><p>    当显示有单位的配置参数的时候，防止单位换算期间整数溢出(Tom)</p></li><li class="listitem"><p>     改善写很长日志信息到syslog的性能(Tom) </p></li><li class="listitem"><p>    允许<code class="filename">pg_hba.conf</code>中LDAP URL的后缀部分空格(Tom)  </p></li><li class="listitem"><p>    修复<code class="literal">SELECT DISTINCT ON</code>查询上游标向后扫描中的错误(Tom)</p></li><li class="listitem"><p>     修复规划器错误可能不正确地推翻外部连接下面的<code class="literal">IS NULL</code>测试(Tom)  </p><p>
   在大写<code class="literal">OR</code>子句的基础上通过<code class="literal">IS NULL</code>测试同一关系触发。 
   </p></li><li class="listitem"><p>    修复嵌套子select表达式规划器错误(Tom)</p><p>    如果外部子select对父查询没有直接相关性，但内部确实如此，
可能不会为新的父查询行计算外部值。 </p></li><li class="listitem"><p>    修复规划器以估计产生布尔结果的<code class="literal">GROUP BY</code>表达式总是产生两组，
不管表达式的内容(Tom)</p><p>    比起规则<code class="literal">GROUP BY</code>评估某个布尔测试像<em class="replaceable"><code>col</code></em><code class="literal">IS NULL</code>来说
更加准确。 </p></li><li class="listitem"><p>     当<code class="literal">FOR</code>循环的目标变量是包含复合类型字段的记录，修复
 PL/pgSQL而不失败(Tom)</p></li><li class="listitem"><p>    修复PL/Tcl以正确操作Tcl 8.5，
并且更加小心数据编码发送的或者来自Tcl的(Tom)</p></li><li class="listitem"><p>   提高<code class="function">PQescapeBytea()</code>的性能(Rudolf Leitgeb)</p></li><li class="listitem"><p>    在Windows上，通过避免<span class="application">libpq</span>尝试发送超过64KB每个系统调用解决Microsoft错误(Magnus)</p></li><li class="listitem"><p>    修复<span class="application">ecpg</span>正确处理<code class="command">SET</code>命令中变量(Michael)</p></li><li class="listitem"><p>   在错误发送一个SQL命令之后完善<span class="application">pg_dump</span>和<span class="application">pg_restore</span>的错误报告(Tom)</p></li><li class="listitem"><p>    修复<span class="application">pg_ctl</span>以正确保存通过<code class="literal">restart</code>的postmaster命令行参数(Bruce)</p></li><li class="listitem"><p>   修复<span class="application">pg_standby</span>中错误的WAL文件截止点计算(Simon)</p></li><li class="listitem"><p>    （为 Argentina, Bahamas, Brazil, Mauritius, Morocco,Pakistan, Palestine和Paraguay中DST变化）
更新时区数据文件到 <span class="application">tzdata</span>发布2008f。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-3-5.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-3-3.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.173. 版本8.3.5 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.175. 版本8.3.3</td></tr></table></div></body></html>
