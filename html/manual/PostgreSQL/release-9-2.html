<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.82. 版本9.2</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-2-1.html" title="E.81. 版本9.2.1" /><link rel="next" href="release-9-1-24.html" title="E.83. 版本 9.1.24" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.82. 版本9.2</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-2-1.html" title="E.81. 版本9.2.1">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-9-1-24.html" title="E.83. 版本 9.1.24">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-9-2"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.82. 版本9.2</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-9-2.html#idp71741568">E.82.1. 概述</a></span></dt><dt><span class="sect2"><a href="release-9-2.html#idp71759568">E.82.2. 迁移到版本9.2</a></span></dt><dt><span class="sect2"><a href="release-9-2.html#idp71840288">E.82.3. 变化</a></span></dt></dl></div><p><strong>发布日期: </strong>2012-09-10</p><div class="sect2" id="idp71741568"><div class="titlepage"><div><div><h3 class="title">E.82.1. 概述</h3></div></div></div><p>    此版本主要集中在性能上的改进，但新的SQL功能不缺乏。工作在备份支持领域继续进行。主要功能包括：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    允许查询从索引中检索数据，避免堆访问(<em class="firstterm">索引扫描</em>)</p></li><li class="listitem"><p>    即使当使用预备语句时，允许规划器为特定参数值产生自定义规划</p></li><li class="listitem"><p>    提高规划器使用嵌套循环内部索引扫描的能力</p></li><li class="listitem"><p>     允许流复制转发数据到其他从属(<a class="link" href="warm-standby.html#CASCADING-REPLICATION" title="26.2.7. 级联复制"><em class="firstterm">级联复制</em></a>)</p></li><li class="listitem"><p>   允许<a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>执行来自备用服务器的基础备份</p></li><li class="listitem"><p>  添加<a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>工具以归档作为他们写入的WAL文件</p></li><li class="listitem"><p>    添加<a class="link" href="spgist.html" title="第 63 章 SP-GiST索引">SP-GiST</a> (空间划分GiST)索引访问方法</p></li><li class="listitem"><p>   添加<a class="link" href="rangetypes.html" title="8.17. 范围类型">range data types</a>支持</p></li><li class="listitem"><p>   添加<a class="link" href="datatype-json.html" title="8.14. JSON 类型"><code class="type">JSON</code></a>数据类型</p></li><li class="listitem"><p>     为视图增加<a class="link" href="sql-createview.html" title="CREATE VIEW"><code class="literal">security_barrier</code></a>选项</p></li><li class="listitem"><p>    允许<span class="application">libpq</span>连接字符串有<a class="link" href="libpq-connect.html#LIBPQ-CONNSTRING" title="33.1.1. 连接字符串"><acronym class="acronym">URI</acronym></a>的格式</p></li><li class="listitem"><p>    添加<a class="link" href="libpq-single-row-mode.html" title="33.5. 一行一行地检索查询结果">单行处理模式</a>到<span class="application">libpq</span>
更好的处理大的结果集</p></li></ul></div><p>    以上项的更多详情在下面的章节有介绍。</p></div><div class="sect2" id="idp71759568"><div class="titlepage"><div><div><h3 class="title">E.82.2. 迁移到版本9.2</h3></div></div></div><p>   使用<span class="application">pg_dump</span>转储/恢复，或者使用<span class="application">pg_upgrade</span>
   从任何以前版本中迁移数据。</p><p>   版本9.2包含可能影响与先前版本的兼容性的一些变化。
   观察下面的不兼容：</p><div class="sect3" id="idp71762272"><div class="titlepage"><div><div><h4 class="title">E.82.2.1. 系统目录</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   从<a class="link" href="catalog-pg-tablespace.html" title="51.54. pg_tablespace"><code class="structname">pg_tablespace</code></a>中删除<code class="structfield">spclocation</code>字段(Magnus Hagander)</p><p>      该字段实际上定义表空间位置的符号链接的复制，从而当移动表空间时，可能有遗漏错误风险。
在服务器关闭时，通过手动调节符号链接，这种变化允许删除表空间目录。
为了替换该字段，我们添加<a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表 9.63. 系统目录信息函数"><code class="function">pg_tablespace_location()</code></a>
允许符号链接查询。</p></li><li class="listitem"><p>    移动<code class="type">tsvector</code>最常见元素统计到新的<a class="link" href="view-pg-stats.html" title="51.87. pg_stats"><code class="structname">pg_stats</code></a>列(Alexander Korotkov)</p><p>    为了在<code class="structfield">most_common_vals</code>
    和<code class="structfield">most_common_freqs</code>的<code class="type">tsvector</code>列中可用的原先的数据
查询<code class="structfield">most_common_elems</code>和<code class="structfield">most_common_elem_freqs</code>。</p></li></ul></div></div><div class="sect3" id="idp71771184"><div class="titlepage"><div><div><h4 class="title">E.82.2.2. 函数</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   删除<a class="link" href="hstore.html" title="F.17. hstore">hstore</a>的<code class="literal">=&gt;</code>操作符(Robert Haas)</p><p>        用户应该使用<code class="function">hstore(text, text)</code>。
自<span class="productname">PostgreSQL</span> 9.0，
   当创建命名<code class="literal">=&gt;</code>的操作符，则发出一个警告消息。
   因为<acronym class="acronym">SQL</acronym>标准保留了另一个使用的标记。</p></li><li class="listitem"><p>   确保<a class="link" href="functions-xml.html#FUNCTIONS-XML-PROCESSING" title="9.14.3. 处理 XML"><code class="function">xpath()</code></a>在字符串值中转义特殊字符(Florian Pflug)</p><p>   倘若没有这个，那么对于结果可能不是有效的<acronym class="acronym">XML</acronym>。</p></li><li class="listitem"><p>   使用<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-DBOBJECT" title="9.26.7. 数据库对象管理函数"><code class="function">pg_relation_size()</code></a>
   并且如果该对象不存在则返回空(Phil Sorber)</p><p>     这可以防止查询调用这些函数从并发<code class="command">DROP</code>后立即返回错误。</p></li><li class="listitem"><p>   使用<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT" title="9.9.1. EXTRACT, date_part"><code class="function">EXTRACT(EPOCH FROM <em class="replaceable"><code>timestamp without time zone</code></em>)</code></a>从当地午夜测量时间，而不是<acronym class="acronym">UTC</acronym>午夜(Tom Lane)</p><p>      这一变化恢复在版本7.3中缺乏考虑的变化。
  从<acronym class="acronym">UTC</acronym>午夜测量是不一致的，
因为它使结果依赖于<a class="link" href="runtime-config-client.html#GUC-TIMEZONE"><code class="varname">timezone</code></a>设置，
这不应该有<code class="type">timestamp without time zone</code>的计算。以前的操作仍然可以通过映射输入
值到<code class="type">timestamp with time zone</code>可用。</p></li><li class="listitem"><p>   正确解析带有尾随<code class="literal">yesterday</code>,<code class="literal">today</code>和<code class="literal">tomorrow</code>的时间字符串(Dean Rasheed)</p><p>    先前<code class="literal">SELECT '04:00:00 yesterday'::timestamp</code>返回午夜时yesterday的日期。</p></li><li class="listitem"><p>    修复<a class="link" href="functions-formatting.html" title="9.8. 数据类型格式化函数"><code class="function">to_date()</code></a>和
    <code class="function">to_timestamp()</code>以封装不完整日期到2020(Bruce Momjian)</p><p>      先前，提供年以及不一致封装低于四位的年掩码。</p></li></ul></div></div><div class="sect3" id="idp71794128"><div class="titlepage"><div><div><h4 class="title">E.82.2.3. 对象修改</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      防止<a class="link" href="sql-alterdomain.html" title="ALTER DOMAIN"><code class="command">ALTER DOMAIN</code></a>工作于非域类型上(Peter Eisentraut)</p><p>      在非域类型上所有者和模式变化是可能的。</p></li><li class="listitem"><p>     在<a class="link" href="sql-createfunction.html" title="CREATE FUNCTION"><code class="command">CREATE FUNCTION</code></a>中
 不再强制小写过程语言名字(Robert Haas)</p><p>      当反引号语言标识符仍然是小写字母时，字符串和带引号的标识符不再强行向下。
因此，例如<code class="literal">CREATE FUNCTION ... LANGUAGE 'C'</code>将不再工作；
它必须拼写<code class="literal">'c'</code>，或更好地省略引号。</p></li><li class="listitem"><p>      改变外键执行触发器系统产生的名称(Tom Lane)</p><p>     这一变化确保在涉及自我参照的外键约束的情况下以正确的顺序触发触发器。</p></li></ul></div></div><div class="sect3" id="idp71801440"><div class="titlepage"><div><div><h4 class="title">E.82.2.4. 命令行工具</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   提供一致的反引号，变量扩张，
   以及<a class="link" href="app-psql.html" title="psql"><span class="application">psql</span></a>元命令参数中的引用子字符串操作(Tom Lane)</p><p>       以前，当不通过相邻文本空白分隔的时候。奇怪地处理这种引用。 
   例如<code class="literal">'FOO'BAR</code>作为<code class="literal">FOO BAR</code>被输出  
   （空间意外插入）并且<code class="literal">FOO'BAR'BAZ</code>输出不变（不删除期望的引用）。</p></li><li class="listitem"><p>   不再将<a class="link" href="app-clusterdb.html" title="clusterdb"><span class="application">clusterdb</span></a>表名看作双引号；
    不再将<a class="link" href="app-reindexdb.html" title="reindexdb"><span class="application">reindexdb</span></a>表和索引名看作双引号(Bruce Momjian)</p><p>       如果希望引用，那么用户现在必须在命令参数中包含双引号。</p></li><li class="listitem"><p>     <a class="link" href="app-createuser.html" title="createuser"><span class="application">createuser</span></a>缺省不再提示选项设置(Peter Eisentraut)</p><p>      使用<code class="option">--interactive</code>获得旧的操作。</p></li><li class="listitem"><p>    禁用<a class="link" href="app-dropuser.html" title="dropuser"><span class="application">dropuser</span></a>中的用户名提示，
    除非指定<code class="option">--interactive</code>(Peter Eisentraut)</p></li></ul></div></div><div class="sect3" id="idp71814384"><div class="titlepage"><div><div><h4 class="title">E.82.2.5. 服务器设置</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    添加服务器参数以指定<a class="link" href="runtime-config-connection.html#GUC-SSL-CA-FILE">服务器端<acronym class="acronym">SSL</acronym>文件位置</a></p><p>        这允许改变名字和文件位置，该文件先前作为<code class="filename">server.crt</code>、
        <code class="filename">server.key</code>、<code class="filename">root.crt</code>和数据目录中
        <code class="filename">root.crl</code>的硬编码。<span class="emphasis"><em>缺省时服务器将不再检查<code class="filename">root.crt</code>或者
        <code class="filename">root.crl</code></em></span>；加载这些文件，相关参数必须设置为非缺省值。</p></li><li class="listitem"><p>    删除<code class="varname">silent_mode</code>参数(Heikki Linnakangas)</p><p>  可以使用<code class="command">pg_ctl start -l postmaster.log</code>获得类似操作。</p></li><li class="listitem"><p>    删除不再需要的<code class="varname">wal_sender_delay</code>参数(Tom Lane)</p></li><li class="listitem"><p>    删除<code class="varname">custom_variable_classes</code>参数(Tom Lane)</p><p>    通过该设置提供的检查是含糊的。现在可以以任何类名作为任何设置前缀。</p></li></ul></div></div><div class="sect3" id="idp71825744"><div class="titlepage"><div><div><h4 class="title">E.82.2.6. 监控</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    重命名<a class="link" href="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE" title="表 28.2. 已收集统计信息的视图"><code class="structname">pg_stat_activity</code></a><code class="structfield">.procpid</code>
到<code class="structfield">pid</code>，匹配其他系统表(Magnus Hagander)</p></li><li class="listitem"><p>  创建一个单一的<code class="structfield">pg_stat_activity</code>列以报告进程状态(Scott Mead, Magnus Hagander)</p><p>    先前的<code class="structfield">query</code>和<code class="structfield">query_start</code>值现在仍然可用于空闲会话，
允许增强分析。</p></li><li class="listitem"><p>      当查询完成时，重命名<code class="structname">pg_stat_activity</code>.<code class="structfield">current_query</code>到
        <code class="structfield">query</code>，因为它是不清楚的(Magnus Hagander)</p></li><li class="listitem"><p>     改变所有<acronym class="acronym">SQL</acronym>级别统计时序值到以毫秒计的<code class="type">float8</code>列</p><p>     这种变化消除设计假设该值精确到微秒，没有更多的（因为<code class="type">float8</code>值可以是分数）。
受影响的列：<code class="structname">pg_stat_user_functions</code>.<code class="structfield">total_time</code>、
<code class="structname">pg_stat_user_functions</code>.<code class="structfield">self_time</code>
<code class="structname">pg_stat_xact_user_functions</code>.<code class="structfield">total_time</code>
和<code class="structname">pg_stat_xact_user_functions</code>.<code class="structfield">self_time</code>。
潜在这些列的统计函数现在返回<code class="type">float8</code>毫秒，而不是<code class="type">bigint</code>
微秒。现在以毫秒测量<code class="filename">contrib/pg_stat_statements</code>的<code class="structfield">total_time</code>列。</p></li></ul></div></div></div><div class="sect2" id="idp71840288"><div class="titlepage"><div><div><h3 class="title">E.82.3. 变化</h3></div></div></div><p>  下面你将发现在<span class="productname">PostgreSQL</span> 9.2和先前主要版本之间变化的详细情况。</p><div class="sect3" id="idp71841840"><div class="titlepage"><div><div><h4 class="title">E.82.3.1. 服务器</h4></div></div></div><div class="sect4" id="idp71842256"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.1. 性能</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    允许查询只从索引中检索数据，避免堆访问(Robert Haas, Ibrar Ahmed, Heikki Linnakangas, Tom Lane)</p><p>      此功能通常被称为<em class="firstterm">只索引扫描</em>。
      为了只包含对所有会话可见的元组堆页可以忽略堆访问，
      正如可见视图报道的；因此该效益主要适用于大多数静态数据。可见视图将损坏安全作为
      执行该功能的必要组成部分。</p></li><li class="listitem"><p>    增加<a class="link" href="spgist.html" title="第 63 章 SP-GiST索引">SP-GiST</a>(空间划分GiST)索引访问方法(Teodor Sigaev, Oleg Bartunov, Tom Lane)</p><p>       SP-GiST与GIST的灵活性相比较，但支持不平衡分段搜索结构而不是平衡树。
为了适当的问题，SP-GiST在索引编译时间和搜索时间上比GiST更快。</p></li><li class="listitem"><p>       允许组提交在重负载下有效工作(Peter Geoghegan, Simon Riggs, Heikki Linnakangas)</p><p>     此前，批量提交无效作为已增加的写入工作量，由于内部锁争用。 </p></li><li class="listitem"><p>      允许使用一个新的快速路径锁定机制管理未竞争锁(Robert Haas)</p></li><li class="listitem"><p>     减少创建虚拟事务ID锁的开销(Robert Haas)</p></li><li class="listitem"><p>    减少串行化隔离级别锁的开销(Dan Ports)</p></li><li class="listitem"><p>     提高PowerPC和Itanium spinlock性能(Manabu Ori, Robert Haas, Tom Lane)</p></li><li class="listitem"><p>    减少共享的无效缓存消息开销(Robert Haas)</p></li><li class="listitem"><p>     移动<code class="structname">PGPROC</code>共享内存数组频繁访问的成员到一个单独数组中(Pavan Deolasee, Heikki Linnakangas, Robert Haas)</p></li><li class="listitem"><p>    通过成批地添加元组到堆中提高<code class="command">COPY</code>性能(Heikki Linnakangas)</p></li><li class="listitem"><p>     通过产生内存分配开销少的树的几何数据类型提高GiST索引性能。</p></li><li class="listitem"><p>   提高GiST索引编译时间(Alexander Korotkov, Heikki  Linnakangas)</p></li><li class="listitem"><p>   允许提示位被迅速设置为临时的和未标记表(Robert Haas)</p></li><li class="listitem"><p>   允许通过内联进行排序，非<acronym class="acronym">SQL</acronym>可调用比较函数(Peter Geoghegan, Robert Haas, Tom Lane)</p></li><li class="listitem"><p>   增大基于<a class="link" href="runtime-config-resource.html#GUC-SHARED-BUFFERS"><code class="varname">shared_buffers</code></a>的CLOG缓冲区规模数量(Robert Haas, Simon Riggs, Tom Lane)</p></li><li class="listitem"><p>    当删除表或者数据库时，提高发生的缓冲池扫描性能(Jeff Janes, Simon Riggs)</p></li><li class="listitem"><p>     当许多表被删除或截断时，提高检查点的fsync请求阵列性能(Tom Lane)</p></li><li class="listitem"><p>      Windows上传递文件描述符安全码到子进程(Heikki Linnakangas)</p><p>    这允许Windows会话使用比以前更多的打开文件描述符。</p></li></ul></div></div><div class="sect4" id="idp71858672"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.2. 进程管理</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   创建一个执行检查点的专门后台进程(Simon Riggs)</p><p>     原先后端写进程执行脏页写入和检查点。分离成两个过程允许每个目标可预见地完成。</p></li><li class="listitem"><p>    通过快速唤醒walwriter提高异步提交操作(Simon Riggs)</p><p>     以前，<a class="link" href="runtime-config-wal.html#GUC-WAL-WRITER-DELAY"><code class="varname">wal_writer_delay</code></a>触发<acronym class="acronym">WAL</acronym>冲洗磁盘；
现在填充<acronym class="acronym">WAL</acronym>缓冲区也触发<acronym class="acronym">WAL</acronym>写入。</p></li><li class="listitem"><p>     在不活跃期间让bgwriter, walwriter，检查点，数据采集器，日志收集器和归档日志后端进程更有效睡眠(Peter Geoghegan, Tom Lane)</p><p>     当没什么事可做的时候，这一系列的变化会降低进程唤醒频率，大幅降低空闲服务器上的功耗。</p></li></ul></div></div><div class="sect4" id="idp71864544"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.3. 优化器</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许规划器生成特定参数的自定义规划，即使当使用预处理语句的时候(Tom Lane)</p><p>      以往，一个预备语句总是有一个单一的<span class="quote">“<span class="quote">通用</span>”</span>计划被用于所有的参数值，
     通常远不如用于包含显式恒定值的非预备语句规划。现在，规划器
  试图生成特定参数值的自定义规划。
一个通用计划将只能用在自定义规划多次证明没有任何好处的情况。
这种变化应该消除原先从预备语句使用中见到过的性能损失（包括PL/pgSQL中的非动态语句）。</p></li><li class="listitem"><p>     提高规划器使用嵌套循环内部索引扫描的能力(Tom Lane)</p><p>     新的<span class="quote">“<span class="quote">参数化路径</span>”</span>机制允许内部索引扫描使用超过扫描中一个连接水平的关系值。
     这可以大大提高语义限制（如外连接）允许的连接顺序的情况下的性能。</p></li><li class="listitem"><p>     提高对外部数据封装器的规划<acronym class="acronym">API</acronym> (Etsuro Fujita, Shigeru Hanada, Tom Lane)</p><p>     封装器现在可以为表提供多种访问<span class="quote">“<span class="quote">路径</span>”</span>，在连接规划中更加灵活。</p></li><li class="listitem"><p>     识别非表关系的自相矛盾限制分句(Tom Lane)</p><p>当<a class="link" href="runtime-config-query.html#GUC-CONSTRAINT-EXCLUSION"><code class="varname">constraint_exclusion</code></a> <code class="literal">打开</code>时，执行
这个检查。</p></li><li class="listitem"><p>     允许<code class="literal">indexed_col op ANY(ARRAY[...])</code>条件用于纯索引扫描并且仅仅索引扫描(Tom Lane)</p><p>     以前这样的条件只能用于位图索引扫描。</p></li><li class="listitem"><p>      在<code class="type">boolean</code>列上支持<code class="function">MIN</code>/<code class="function">MAX</code>索引优化(Marti Raudsepp) </p></li><li class="listitem"><p>    当估计设置行数时，解释了在<code class="command">SELECT</code>目标列中设置返回函数的原因(Tom Lane)</p></li><li class="listitem"><p>     修复规划器更可靠的处理带有重复列索引(Tom Lane)</p></li><li class="listitem"><p>    收集并且使用数组元素次数统计(Alexander Korotkov, Tom Lane)</p><p>     这种变化提高了数组<code class="literal">&lt;@</code>, <code class="literal">&amp;&amp;</code>和
     <code class="literal">@&gt;</code>操作符（数组容量和重叠部分）的选择性估计。</p></li><li class="listitem"><p>     允许收集外表的统计(Etsuro Fujita)</p></li><li class="listitem"><p>    提高使用部分索引的成本估计(Tom Lane)</p></li><li class="listitem"><p>       提高在子查询中引用列统计的规划器能力(Tom Lane)</p></li><li class="listitem"><p>   提高子查询使用<code class="literal">DISTINCT</code>的统计估计(Tom Lane)</p></li></ul></div></div><div class="sect4" id="idp71884448"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.4. 认证</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     不要把角色名字和 <a class="link" href="auth-pg-hba-conf.html" title="20.1. pg_hba.conf文件"><code class="filename">pg_hba.conf</code></a>中
 声明的<code class="literal">samerole</code>看作自动包含超级用户的(Andrew Dunstan)</p><p>      这使得它更容易使用组角色的<code class="literal">reject</code>行。</p></li><li class="listitem"><p>     调节<code class="filename">pg_hba.conf</code>过程更加一致地处理令牌解析(Brendan Jurd, Álvaro Herrera)</p></li><li class="listitem"><p>     不允许空<code class="filename">pg_hba.conf</code>文件(Tom Lane)</p><p>      这样做是为了更快速检测配置错误。</p></li><li class="listitem"><p>     使用超级用户权限意味着复制权限(Noah Misch)</p><p>     这样避免了需要明确地分配这类权限。</p></li></ul></div></div><div class="sect4" id="idp71892224"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.5. 监控</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      试图在后端崩溃期间记录当前查询字符串(Marti Raudsepp)</p></li><li class="listitem"><p>       使得自动清理I/O活动日志更加冗长(Greg Smith, Noah Misch)</p><p>     这条记录是通过<a class="link" href="runtime-config-autovacuum.html#GUC-LOG-AUTOVACUUM-MIN-DURATION"><code class="varname">log_autovacuum_min_duration</code></a>触发的。</p></li><li class="listitem"><p>      使<acronym class="acronym">WAL</acronym>回放尽快报告错误(Fujii Masao)</p><p>      一旦服务器到主模式只报告错误的情况。</p></li><li class="listitem"><p>       添加<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-BACKUP" title="9.26.3. 备份控制函数"><code class="function">pg_xlog_location_diff()</code></a>
   以简化WAL位置比较(Euler Taveira de Oliveira)</p><p>      这对于计算复制滞后是有用的。</p></li><li class="listitem"><p>      支持Windows上可配置的事件日志应用程序名称(MauMau, Magnus Hagander)</p><p>      这允许不同的情况下使用不同的标识符事件日志，
  通过设置<a class="link" href="runtime-config-logging.html#GUC-EVENT-SOURCE"><code class="varname">event_source</code></a>服务器参数，
  这类似于<a class="link" href="runtime-config-logging.html#GUC-SYSLOG-IDENT"><code class="varname">syslog_ident</code></a>工作方式。</p></li><li class="listitem"><p>     改变<span class="quote">“<span class="quote">意外的块结束</span>”</span>消息到<code class="literal">DEBUG1</code>级别，除非有一个已打开事务(Magnus Hagander)</p><p>      这种变化减少笨拙地关闭数据库连接应用导致的日志振动。</p></li></ul></div></div><div class="sect4" id="idp71903696"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.6. 统计视图</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     跟踪临时文件大小和<a class="link" href="monitoring-stats.html#PG-STAT-DATABASE-VIEW" title="表 28.11. pg_stat_database视图"><code class="structname">pg_stat_database</code></a>系统视图中的文件数(Tomas Vondra)</p></li><li class="listitem"><p>   添加一个死锁计数器到<code class="structname">pg_stat_database</code>系统视图(Magnus Hagander)</p></li><li class="listitem"><p>     添加服务器参数<a class="link" href="runtime-config-statistics.html#GUC-TRACK-IO-TIMING"><code class="varname">track_io_timing</code></a>跟踪I/O时序(Ants Aasma, Robert Haas)</p></li><li class="listitem"><p>    报告<a class="link" href="monitoring-stats.html#PG-STAT-BGWRITER-VIEW" title="表 28.10. pg_stat_bgwriter视图"><code class="structname">pg_stat_bgwriter</code></a>中的检查点定时信息(Greg Smith, Peter Geoghegan)</p></li></ul></div></div><div class="sect4" id="idp71909424"><div class="titlepage"><div><div><h5 class="title">E.82.3.1.7. 服务器设置</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    默默忽略<a class="link" href="runtime-config-client.html#GUC-SEARCH-PATH"><code class="varname">search_path</code></a>指定的不存在的模式(Tom Lane)</p><p>      这使得更加方便使用通用路径设置，可能包含一些不存在于数据库中的模式。</p></li><li class="listitem"><p>     允许超级用户设置<a class="link" href="runtime-config-locks.html#GUC-DEADLOCK-TIMEOUT"><code class="varname">deadlock_timeout</code></a>每个会话，
 而不是每个集群(Noah Misch)</p><p>      这允许为了可能涉及到死锁的事务减少<code class="varname">deadlock_timeout</code>，
  因此更快地检查故障。另外，增加该值可以用于减少由于死锁选择取消会话机会。</p></li><li class="listitem"><p>    添加服务器参数<a class="link" href="runtime-config-resource.html#GUC-TEMP-FILE-LIMIT"><code class="varname">temp_file_limit</code></a>限制每个会话临时文件空间使用率(Mark Kirkwood)</p></li><li class="listitem"><p>     在加载相关扩展之前允许超级用户<code class="command">SET</code>扩展的超级用户自定义变量(Tom Lane)  </p><p>     系统现在记得是否<code class="command">SET</code>通过超级用户被执行，
 因此当加载扩展时，可以执行适当的权限检查。</p></li><li class="listitem"><p>       添加<a class="link" href="app-postmaster.html" title="postmaster">postmaster</a> <code class="option">-C</code>选项查询配置参数(Bruce Momjian)</p><p>      允许<span class="application">pg_ctl</span>更好地处理<code class="envar">PGDATA</code>或者<code class="option">-D</code>指向配置目录的情况。</p></li><li class="listitem"><p>    以<code class="command">CREATE DATABASE</code>中隐含值替换空的区域名(Tom Lane)</p><p>    这可以防止服务器重启后不同地解释<code class="structname">pg_database</code>.<code class="structfield">datcollate</code>或者
    <code class="structfield">datctype</code>的情况。</p></li></ul></div><div class="sect5" id="idp71924528"><div class="titlepage"><div><div><h6 class="title">E.82.3.1.7.1. <code class="filename">postgresql.conf</code></h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      允许报告<code class="filename">postgresql.conf</code>中的多个错误，
  而不仅仅是第一个(Alexey Klyukin, Tom Lane)</p></li><li class="listitem"><p>    允许通过所有会话处理<code class="filename">postgresql.conf</code>的加载，即使有一些设置对特定会话是无效的(Alexey Klyukin)</p><p>     以前，这种无效会话值可能导致所有设置变化被该会话忽略。</p></li><li class="listitem"><p>     为配置文件添加一个<code class="literal">include_if_exists</code>功能(Greg Smith)</p><p>      这个和<code class="literal">include</code>一样运行，除了如果忽略该文件不会抛出错误外。</p></li><li class="listitem"><p>    在<span class="application">initdb</span>期间识别服务器时区，并且相应设置<code class="filename">postgresql.conf</code>项
    <a class="link" href="runtime-config-client.html#GUC-TIMEZONE"><code class="varname">timezone</code></a>和
    <a class="link" href="runtime-config-logging.html#GUC-LOG-TIMEZONE"><code class="varname">log_timezone</code></a></p><p> 
      这避免了服务器启动时昂贵的时区探测。</p></li><li class="listitem"><p>      修复<a class="link" href="view-pg-settings.html" title="51.85. pg_settings"><code class="structname">pg_settings</code></a>以
  报告Windows上<code class="filename">postgresql.conf</code>行号(Tom Lane)</p></li></ul></div></div></div></div><div class="sect3" id="idp71936800"><div class="titlepage"><div><div><h4 class="title">E.82.3.2. 备份和恢复</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许流复制转发数据到其他从属(<a class="link" href="warm-standby.html#CASCADING-REPLICATION" title="26.2.7. 级联复制"><em class="firstterm">级联复制</em></a>)(Fujii Masao)</p><p>     以前只有主服务器可以提供流复制日志文件到备用服务器。</p></li><li class="listitem"><p>    添加新的<a class="link" href="runtime-config-wal.html#GUC-SYNCHRONOUS-COMMIT"><code class="varname">synchronous_commit</code></a>
    模式<code class="literal">remote_write</code> (Fujii Masao, Simon Riggs)</p><p>     该模式等待备用服务器写事务数据到它自己的操作系统，但是不等待数据被刷新到备用磁盘。</p></li><li class="listitem"><p>    添加<a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>工具
    归档他们写入的WAL文件变化，而不是等待完成的WAL文件(Magnus Hagander)</p></li><li class="listitem"><p>    允许<a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>从
备用服务器上做基础备份(Jun Ishizuka, Fujii Masao)</p><p>     该功能允许基础备份工作从主服务器上被卸载。</p></li><li class="listitem"><p>     当<span class="application">pg_basebackup</span>在执行备份时，允许WAL文件流(Magnus Hagander)</p><p>     允许在主库上丢弃之前传递WAL文件到备库。</p></li></ul></div></div><div class="sect3" id="idp71947312"><div class="titlepage"><div><div><h4 class="title">E.82.3.3. 查询</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   如果断开客户端连接，取消运行的查询(Florian Pflug)</p><p>   如果在查询中后端监测客户端连接损坏，那么它现在将取消查询而不是尝试完成它。</p></li><li class="listitem"><p>    在行表达式运行时保留列名(Andrew Dunstan, Tom Lane)</p><p>    当行值被转换为<code class="type">hstore</code>或者<code class="type">json</code>类型时：结果值字段有期望名，那么该变化允许有更好结果。</p></li><li class="listitem"><p>     改善用于子-<code class="command">SELECT</code>结果的列标签(Marti Raudsepp)</p><p>    以前使用一般标签<code class="literal">?column?</code>。</p></li><li class="listitem"><p>      提高决定未知值类型的探索法(Tom Lane)</p><p>    当考虑多态操作符的时候，
长期规则是一个未知常量可能与现在应用它的操作者一端的值有同样类型，
而不仅仅操作符匹配。
</p></li><li class="listitem"><p>     关于创建映射或者来自域类型的警告(Robert Haas)</p><p>     这种投射没有影响。</p></li><li class="listitem"><p>    当行不能进行<code class="literal">CHECK</code>或者<code class="literal">NOT NULL</code>约束时，
显示行内容作为错误详细信息
(Jan Kundrát)</p><p>        当插入或者更新处理多行时，这将很容易识别哪行是有问题的。</p></li></ul></div></div><div class="sect3" id="idp71957376"><div class="titlepage"><div><div><h4 class="title">E.82.3.4. 对象操作</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    在并行<acronym class="acronym">DDL</acronym>中提供更可靠操作(Robert Haas, Noah Misch)</p><p>    该变化增加了锁定，它应该删除多种情况中<span class="quote">“<span class="quote">高速缓存查找失败</span>”</span>错误。
另外，不再可能添加关系到正在删除的模式中，先前导致不一致系统目录内容的情况。</p></li><li class="listitem"><p>      添加<code class="literal">CONCURRENTLY</code>选项到
  <a class="link" href="sql-dropindex.html" title="DROP INDEX"><code class="command">DROP INDEX</code></a>
      (Simon Riggs)</p><p>      允许索引删除不锁定其他会话。</p></li><li class="listitem"><p>    允许外部数据封装器有每一列选项(Shigeru Hanada)</p></li><li class="listitem"><p>     改进视图定义的输出(Andrew Dunstan)</p></li></ul></div><div class="sect4" id="idp71963520"><div class="titlepage"><div><div><h5 class="title">E.82.3.4.1. 约束</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许<a class="link" href="ddl-constraints.html" title="5.3. 约束"><code class="literal">CHECK</code></a>
       约束被声明为<code class="literal">NOT VALID</code>
   (Álvaro Herrera)</p><p>    添加<code class="literal">NOT VALID</code>约束不会导致扫描的表可以验证已存在行满足该约束。
随后，检查新添加或者更新的行。当考虑<code class="varname">constraint_exclusion</code>时，
规划器忽略这些约束。因为它不确定所有行可以满足该约束。
</p><p>   新的<code class="command">ALTER TABLE VALIDATE</code>命令允许为已存在
   行检查<code class="literal">NOT VALID</code>限制，之后被转换成普通约束。</p></li><li class="listitem"><p>     允许<code class="literal">CHECK</code>限制被声明为
 <code class="literal">NO INHERIT</code> (Nikhil Sontakke, Alex Hunsaker, Álvaro Herrera)</p><p>     这使得它们只在父表是可执行的，而不是子表。</p></li><li class="listitem"><p>     添加该能力到<a class="link" href="sql-altertable.html" title="ALTER TABLE">rename</a>约束(Peter Eisentraut)</p></li></ul></div></div><div class="sect4" id="idp71973488"><div class="titlepage"><div><div><h5 class="title">E.82.3.4.2. <code class="command">ALTER</code></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   减少重新编译表需要以及
   索引某个
   <a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE</code></a>... <code class="literal">ALTER COLUMN TYPE</code>操作(Noah Misch)</p><p>      增加<code class="type">varchar</code>或者<code class="type">varbit</code>列长度限制，或者完全删除限制，不再需要表重写。
  类似地，增加<code class="type">numeric</code>列允许的精度，或者改变约束的<code class="type">numeric</code>列到不受约束的<code class="type">numeric</code>，
  不再需要表重写。
  在涉及<code class="type">interval</code>、<code class="type">timestamp</code>和<code class="type">timestamptz</code>类型的相似情况中避免表重写。</p></li><li class="listitem"><p>   避免
   <a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE</code></a>在
   不必要的情况下验证外键约束(Noah Misch)</p></li><li class="listitem"><p>   增加<code class="literal">IF EXISTS</code>选项到一些<code class="command">ALTER</code>命令中(Pavel Stehule)</p><p>   比如
   <code class="command">ALTER FOREIGN TABLE IF EXISTS foo RENAME TO bar</code>。</p></li><li class="listitem"><p>     添加
 <a class="link" href="sql-alterforeigndatawrapper.html" title="ALTER FOREIGN DATA WRAPPER"><code class="command">ALTER FOREIGN DATA WRAPPER</code></a> ... <code class="literal">RENAME</code>
     和<a class="link" href="sql-alterserver.html" title="ALTER SERVER"><code class="command">ALTER SERVER</code></a> ... <code class="literal">RENAME</code> (Peter Eisentraut)</p></li><li class="listitem"><p>    添加
<a class="link" href="sql-alterdomain.html" title="ALTER DOMAIN"><code class="command">ALTER DOMAIN</code></a> ... <code class="literal">RENAME</code> (Peter Eisentraut)</p><p>    你可能已经使用
<code class="command">ALTER TYPE</code>重命名域。</p></li><li class="listitem"><p>    在不存在约束上为
<code class="command">ALTER DOMAIN</code> ... <code class="literal">DROP CONSTRAINT</code>抛出一个错误(Peter Eisentraut)</p><p>    一个<code class="literal">IF EXISTS</code>选项已被添加以提供先前操作。</p></li></ul></div></div><div class="sect4" id="idp71996352"><div class="titlepage"><div><div><h5 class="title">E.82.3.4.3. <a class="link" href="sql-createtable.html" title="CREATE TABLE"><code class="command">CREATE TABLE</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    允许<code class="command">CREATE TABLE (LIKE ...)</code>来自外表，视图和复合类型(Peter Eisentraut)</p><p>    比如，模式匹配视图的允许创建表。</p></li><li class="listitem"><p>    当拷贝索引注释时，修复<code class="command">CREATE TABLE (LIKE ...)</code>以避免索引名冲突(Tom Lane)</p></li><li class="listitem"><p>    修复<code class="command">CREATE TABLE</code> ... <code class="literal">AS EXECUTE</code>
    以处理<code class="literal">WITH NO DATA</code>和列名称规格(Tom Lane)</p></li></ul></div></div><div class="sect4" id="idp72003184"><div class="titlepage"><div><div><h5 class="title">E.82.3.4.4. 对象权限</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    为视图添加
<a class="link" href="sql-createview.html" title="CREATE VIEW"><code class="literal">security_barrier</code></a>选项(KaiGai Kohei, Robert Haas)</p><p>    该选项可以防止优化可能允许视图受保护数据暴露给用户，
比如推动涉及不安全函数的子句到视图的<code class="literal">WHERE</code>子句。
这种视图预期比普通视图执行更差。</p></li><li class="listitem"><p>  添加新的
  <a class="link" href="sql-createfunction.html" title="CREATE FUNCTION"><code class="literal">LEAKPROOF</code></a>函数属性以标记函
数可以安全地向下推进到<code class="literal">security_barrier</code>视图(KaiGai Kohei)</p></li><li class="listitem"><p>     增加数据类型权限支持(Peter Eisentraut)</p><p>    在类型和域上添加<acronym class="acronym">SQL</acronym>-一致<code class="literal">USAGE</code>权限支持。
其意图是可以限制哪个用户在类型上可以创建依赖，因为这种依赖
限制修改该类型的用户能力。
</p></li><li class="listitem"><p>     检查在
 <code class="command">SELECT INTO</code> / <code class="command">CREATE TABLE AS</code>中的
    <code class="command">INSERT</code>权限(KaiGai Kohei)</p><p>    因为通过<code class="command">SELECT INTO</code>
        或者<code class="command">CREATE TABLE AS</code>创建该对象，那么创建者通常有插入权限；
但是有一种不真的困境情况，
比如当<code class="literal">ALTER DEFAULT PRIVILEGES</code>已经删除该权限时。</p></li></ul></div></div></div><div class="sect3" id="idp72016448"><div class="titlepage"><div><div><h4 class="title">E.82.3.5. 实用操作</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许<a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>更容易忽略不能被锁定的页(Simon Riggs, Robert Haas)</p><p>     这种变化会大大降低<code class="command">VACUUM</code>获得<span class="quote">“<span class="quote">stuck</span>”</span>等待其他会话的发生率。</p></li><li class="listitem"><p>    使得<a class="link" href="sql-explain.html" title="EXPLAIN"><code class="command">EXPLAIN</code></a>
        <code class="literal">(BUFFERS)</code>计算脏块和写入的(Robert Haas)</p></li><li class="listitem"><p>    使得<code class="command">EXPLAIN ANALYZE</code>报告通过过滤步骤拒绝的行数(Marko Tiikkaja)</p></li><li class="listitem"><p>    当时间值是不想要的，允许<code class="command">EXPLAIN ANALYZE</code>避免时间开销(Tomas Vondra)</p><p>    通过设置新的<code class="literal">TIMING</code>选项到<code class="literal">FALSE</code>来完成。</p></li></ul></div></div><div class="sect3" id="idp72026704"><div class="titlepage"><div><div><h4 class="title">E.82.3.6. 数据类型</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>       添加支持<a class="link" href="rangetypes.html" title="8.17. 范围类型">range data types</a>
        (Jeff Davis, Tom Lane, Alexander Korotkov)</p><p>     一系列数据类型存储从属于它的基本数据类型的上限和下限。
 它支持类似包含，重叠和交叉的操作。
 </p></li><li class="listitem"><p>           添加<a class="link" href="datatype-json.html" title="8.14. JSON 类型"><code class="type">JSON</code></a>
        数据类型(Robert Haas)</p><p>     这种类型存储带有适当验证的<acronym class="acronym">JSON</acronym> (JavaScript对象表示法)数据。</p></li><li class="listitem"><p>      添加
  <a class="link" href="functions-json.html" title="9.15. JSON 函数和操作符"><code class="function">array_to_json()</code></a>
        和<code class="function">row_to_json()</code> (Andrew Dunstan)</p></li><li class="listitem"><p>    添加<a class="link" href="datatype-numeric.html#DATATYPE-SERIAL" title="8.1.4. 序数类型"><code class="type">SMALLSERIAL</code></a>
     数据类型(Mike Pultz)</p><p>     这就像<code class="type">SERIAL</code>，除了它以两个字节整数列(<code class="type">int2</code>)存储序列之外。</p></li><li class="listitem"><p>     允许<a class="link" href="sql-createdomain.html" title="CREATE DOMAIN">domains</a>被
 声明为<code class="literal">NOT VALID</code> (Álvaro Herrera)</p><p>    在域创建时间设置该选项，或者通过
<code class="command">ALTER DOMAIN</code> ... <code class="literal">ADD CONSTRAINT</code> ... <code class="literal">NOT VALID</code>. <code class="command">ALTER DOMAIN</code> ... <code class="literal">VALIDATE CONSTRAINT</code>充分验证该限制。</p></li><li class="listitem"><p>    为了<a class="link" href="datatype-money.html" title="8.2. 货币类型"><code class="type">money</code></a>数据类型支持更多的区域指定格式选项(Tom Lane)</p><p>    特别的，为了该值顺序，标志，以及货币输出中的货币符号纪念POSIX选项。另外，
确保千位分隔符只被插入到小数点左边，正如POSIX要求的。</p></li><li class="listitem"><p>    为<code class="type">macaddr</code>数据类型添加按位<span class="quote">“<span class="quote">and</span>”</span>、<span class="quote">“<span class="quote">or</span>”</span>和<span class="quote">“<span class="quote">not</span>”</span>操作符(Brendan Jurd)</p></li><li class="listitem"><p>     当提供一个标量值时，
 允许<a class="link" href="functions-xml.html#FUNCTIONS-XML-PROCESSING" title="9.14.3. 处理 XML"><code class="function">xpath()</code></a>返回
 单一元素<acronym class="acronym">XML</acronym>数组(Florian Pflug)</p><p>     先前，它返回空数组。这种变化也将导致<code class="function">xpath_exists()</code>为这种表达式返回真，而不是假。</p></li><li class="listitem"><p>    提高<acronym class="acronym">XML</acronym>错误处理以变得更健壮(Florian Pflug)</p></li></ul></div></div><div class="sect3" id="idp72050848"><div class="titlepage"><div><div><h4 class="title">E.82.3.7. 函数</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许非超级用户在其他会话从属于同一用户时使用
 <a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL" title="9.26.2. 服务器信号函数"><code class="function">pg_cancel_backend()</code></a>
     和<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL" title="9.26.2. 服务器信号函数"><code class="function">pg_terminate_backend()</code></a>
 (Magnus Hagander, Josh Kupershmidt, Dan Farina)</p><p>    以前只有超级用户被允许使用这些函数。</p></li><li class="listitem"><p>     允许事务快照的输入和输出(Joachim Wieland, Tom Lane)</p><p>这允许多个事务共享数据库状态的同一视图。快照是通过
<a class="link" href="functions-admin.html#FUNCTIONS-SNAPSHOT-SYNCHRONIZATION" title="9.26.5. 快照同步函数"><code class="function">pg_export_snapshot()</code></a>输出，通过
<a class="link" href="sql-set-transaction.html" title="SET TRANSACTION"><code class="command">SET TRANSACTION SNAPSHOT</code></a>输入。只有当前正在运行的事务快照可以被输入。</p></li><li class="listitem"><p>      支持表达式上的<a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表 9.63. 系统目录信息函数"><code class="literal">COLLATION FOR</code></a>(Peter Eisentraut)</p><p>     返回表达式排序规则的字符串表示。</p></li><li class="listitem"><p>     添加<a class="link" href="functions-info.html#FUNCTIONS-INFO-SCHEMA-TABLE" title="表 9.62. 模式可见性查询函数"><code class="function">pg_opfamily_is_visible()</code></a>
     (Josh Kupershmidt)</p></li><li class="listitem"><p>    添加适用于<code class="function">pg_xlog_location_diff()</code>的
	<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-DBSIZE" title="表 9.84. 数据库对象尺寸函数"><code class="function">pg_size_pretty()</code></a>
	的<code class="type">numeric</code>变体
     (Fujii Masao)</p></li><li class="listitem"><p>      添加<a class="link" href="functions-info.html#FUNCTIONS-INFO-SESSION-TABLE" title="表 9.60. 会话信息函数"><code class="function">pg_trigger_depth()</code></a>函数(Kevin Grittner)</p><p>     报告当前触发器调用深度。 </p></li><li class="listitem"><p>      允许
  <a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE" title="表 9.52. 通用聚集函数"><code class="function">string_agg()</code></a>
       处理<code class="type">bytea</code>值(Pavel Stehule)</p></li><li class="listitem"><p>   在一个较大的量化子表达式中发生后向引用的地方修复正则表达式(Tom Lane)</p><p>    比如<code class="literal">^(\w+)( \1)+$</code>。先前版本并不检查后向引用实际匹配第一次出现。</p></li></ul></div></div><div class="sect3" id="idp72070800"><div class="titlepage"><div><div><h4 class="title">E.82.3.8. <a class="link" href="information-schema.html" title="第 36 章 信息模式">信息模式</a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    添加信息模式视图
        <code class="structname">role_udt_grants</code>、<code class="structname">udt_privileges</code>
        和<code class="structname">user_defined_types</code> (Peter Eisentraut)</p></li><li class="listitem"><p>    添加复合类型属性到信息模式<code class="structname">element_types</code>视图(Peter Eisentraut)</p></li><li class="listitem"><p>     信息模式中实现<code class="structfield">interval_type</code>列(Peter Eisentraut)</p><p>     以前这些列读取为空。</p></li><li class="listitem"><p>     在信息模式<code class="structname">attributes</code>、<code class="structname">columns</code>、
     <code class="structname">domains</code>和<code class="structname">element_types</code>视图中实现排序规则相关列(Peter Eisentraut)</p></li><li class="listitem"><p>    在信息模式<code class="structname">table_privileges</code>视图中实现<code class="structfield">with_hierarchy</code>列
(Peter Eisentraut)</p></li><li class="listitem"><p>    增加序列<code class="literal">USAGE</code>权限显示到信息模式中(Peter Eisentraut)</p></li><li class="listitem"><p>     使信息模式显示缺省权限(Peter  Eisentraut)</p><p>     先前，非空缺省权限没有出现在视图中。</p></li></ul></div></div><div class="sect3" id="idp72081504"><div class="titlepage"><div><div><h4 class="title">E.82.3.9. 服务器端语言</h4></div></div></div><div class="sect4" id="idp72081920"><div class="titlepage"><div><div><h5 class="title">E.82.3.9.1. <a class="link" href="plpgsql.html" title="第 42 章 PL/pgSQL - SQL过程语言">PL/pgSQL</a>服务器端语言</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许PL/pgSQL <code class="command">OPEN</code>游标命令提供参数名(Yeb Havinga)</p></li><li class="listitem"><p>    添加<code class="command">GET STACKED DIAGNOSTICS</code> PL/pgSQL命令检索异常信息(Pavel Stehule)</p></li><li class="listitem"><p>     通过缓存类型信息加快PL/pgSQL数组赋值(Pavel Stehule)</p></li><li class="listitem"><p>     提高性能以及为长连续<code class="literal">ELSIF</code>子句内存损耗(Tom Lane)</p></li><li class="listitem"><p>    在PL/pgSQL错误消息中输出函数签名，而不仅仅是名字(Pavel Stehule)</p></li></ul></div></div><div class="sect4" id="idp72087872"><div class="titlepage"><div><div><h5 class="title">E.82.3.9.2. <a class="link" href="plpython.html" title="第 45 章 PL/Python - Python 过程语言">PL/Python</a>服务器端语言</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      添加PL/Python <acronym class="acronym">SPI</acronym>游标支持
  (Jan  Urbanski)</p><p>      这允许PL/Python读取部分结果集。</p></li><li class="listitem"><p>    添加结果元数据函数到PL/Python (Peter Eisentraut)</p><p>         具体地说，这增加了结果对象函数
        <code class="literal">.colnames</code>, <code class="literal">.coltypes</code>和
        <code class="literal">.coltypmods</code>。</p></li><li class="listitem"><p>     删除支持Python 2.2 (Peter Eisentraut)</p></li></ul></div></div><div class="sect4" id="idp72093888"><div class="titlepage"><div><div><h5 class="title">E.82.3.9.3. <a class="link" href="xfunc-sql.html" title="37.4. 查询语言（SQL）函数">SQL</a>服务器端语言</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许<acronym class="acronym">SQL</acronym>语言函数参照参数名(Matthew Draper)</p><p>     为了使用这个，仅仅命名函数参数，并且然后参考<acronym class="acronym">SQL</acronym>
 函数体中的参数名。</p></li></ul></div></div></div><div class="sect3" id="idp72096816"><div class="titlepage"><div><div><h4 class="title">E.82.3.10. 客户端应用</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    添加<a class="link" href="app-initdb.html" title="initdb"><span class="application">initdb</span></a>
        选项<code class="option">--auth-local</code>和<code class="option">--auth-host</code>
        (Peter Eisentraut)</p><p>    这允许
<code class="literal">local</code>和<code class="literal">host</code> <code class="filename">pg_hba.conf</code>认证设置的分散控制，
<code class="option">--auth</code>仍然控制着两个。</p></li><li class="listitem"><p>      添加<code class="option">--replication</code>/<code class="option">--no-replication</code>标记到
        <a class="link" href="app-createuser.html" title="createuser"><span class="application">createuser</span></a>以控制备份权限(Fujii Masao)</p></li><li class="listitem"><p>     添加<code class="option">--if-exists</code>选项到
 <a class="link" href="app-dropdb.html" title="dropdb"><span class="application">dropdb</span></a>和
<a class="link" href="app-dropuser.html" title="dropuser"><span class="application">dropuser</span></a> 
(Josh Kupershmidt)</p></li><li class="listitem"><p>     给出命令行工具以指定要连接数据库名字，
 如果<code class="literal">postgres</code>数据库连接失败，
 那么回退到<code class="literal">template1</code> (Robert Haas)</p></li></ul></div><div class="sect4" id="idp72110736"><div class="titlepage"><div><div><h5 class="title">E.82.3.10.1. <a class="link" href="app-psql.html" title="psql"><span class="application">psql</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     添加基于显示宽度的显示模式以自动扩展输出(Peter Eisentraut)</p><p>      增加<code class="literal">auto</code>选项到<code class="command">\x</code>命令，当正常
输出比屏幕宽的时候，会切换到扩展模式。</p></li><li class="listitem"><p>    允许脚本文件的包含是相对于它被调用的文件目录命名的(Gurjeet Singh)</p><p>     这是执行新的命令<code class="command">\ir</code>。</p></li><li class="listitem"><p> 
     在<span class="application">psql</span>变量名中添加支持非<acronym class="acronym">ASCII</acronym>字符(Tom Lane)</p></li><li class="listitem"><p>    添加支持主要版本特定<code class="filename">.psqlrc</code>文件(Bruce Momjian)</p><p>     <span class="application">psql</span>支持次要版本特定<code class="filename">.psqlrc</code>文件。</p></li><li class="listitem"><p>      提供环境变量覆盖<span class="application">psql</span>历史并且启动文件位置(Andrew Dunstan)</p><p>     如果设置，那么<code class="envar">PSQL_HISTORY</code>和<code class="envar">PSQLRC</code>决定这些文件名。</p></li><li class="listitem"><p>   添加<code class="command">\setenv</code>命令修改传递给子进程的环境变量(Andrew Dunstan)</p></li><li class="listitem"><p>     命名<code class="filename">.sql</code>扩展的<span class="application">psql</span>的临时编辑文件(Peter Eisentraut)</p><p>     这允许扩展敏感编辑者选择正确模式。</p></li><li class="listitem"><p>   允许<span class="application">psql</span>使用零字节字段并且记录分隔符(Peter Eisentraut)</p><p>    使用零字节(NUL)分隔符的各种shell工具，比如<span class="application">find</span>。</p></li><li class="listitem"><p>    使用<code class="command">\timing</code>选项报告查询失败时间(Magnus Hagander)</p><p>   以前只为成功查询报道时间。</p></li><li class="listitem"><p>   统一并固定<code class="command">\copy</code>和SQL <code class="command">COPY</code>的<span class="application">psql</span>处理(Noah Misch)</p><p>    这修复错误操作更加可预测并且设置<code class="command">\set ON_ERROR_ROLLBACK</code>。</p></li></ul></div></div><div class="sect4" id="idp72134048"><div class="titlepage"><div><div><h5 class="title">E.82.3.10.2. 信息命令</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   使得<code class="command">\d</code>在序列上显示拥有它的表/列名(Magnus Hagander)</p></li><li class="listitem"><p>   显示<code class="command">\d+</code>中列的统计目标(Magnus Hagander)</p></li><li class="listitem"><p>    显示<code class="command">\du</code>中角色密码截止日期(Fabrízio de Royes Mello)</p></li><li class="listitem"><p>   显示投射，转换，域和语言说明(Josh Kupershmidt)</p><p>      这些分别包含在<code class="command">\dC+</code>、
        <code class="command">\dc+</code>、<code class="command">\dD+</code>和<code class="command">\dL</code>输出中。</p></li><li class="listitem"><p>      显示<acronym class="acronym">SQL</acronym>/<acronym class="acronym">MED</acronym>对象说明(Josh Kupershmidt)</p><p>     这些分别包括在<code class="command">\des+</code>、
     <code class="command">\det+</code>输出，<code class="command">\dew+</code>外服务器，外
表，和外部数据封装器。</p></li><li class="listitem"><p>    改变<code class="command">\dd</code>仅显示没有自身反斜杠命令对象类型的说明(Josh Kupershmidt)
</p></li></ul></div></div><div class="sect4" id="idp72146624"><div class="titlepage"><div><div><h5 class="title">E.82.3.10.3. Tab实现</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     在<span class="application">psql</span> tab实现中，
 在大小写情况下依照新的
 <a class="link" href="app-psql.html#APP-PSQL-VARIABLES" title="变量"><code class="literal">COMP_KEYWORD_CASE</code></a>设置
实现<acronym class="acronym">SQL</acronym>关键字</p></li><li class="listitem"><p>    添加tab实现支持
        <code class="command">EXECUTE</code> (Andreas Karlsson)</p></li><li class="listitem"><p>    在<code class="command">GRANT</code>/<code class="command">REVOKE</code>中
添加角色引用的tab实现(Peter Eisentraut)</p></li><li class="listitem"><p>    当必要的时候，允许文件名的tab实现可以提供引用(Noah Misch)</p></li><li class="listitem"><p>    改变tab实现支持<code class="command">TABLE</code>也包含视图(Magnus Hagander)</p></li></ul></div></div><div class="sect4" id="idp72154832"><div class="titlepage"><div><div><h5 class="title">E.82.3.10.4. <a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   添加<code class="option">--exclude-table-data</code>选项到
        <span class="application">pg_dump</span> (Andrew Dunstan)</p><p>    这允许在每个表基础上备份表的定义而不是它的数据。</p></li><li class="listitem"><p>     添加<code class="option">--section</code>选项到<span class="application">pg_dump</span>
        和<span class="application">pg_restore</span> (Andrew Dunstan)</p><p>    有效值是<code class="literal">pre-data</code>、<code class="literal">data</code>
     和<code class="literal">post-data</code>。给定的该选项不止一次的选择两个或更多部分。</p></li><li class="listitem"><p>  使用
  <a class="link" href="app-pg-dumpall.html" title="pg_dumpall"><span class="application">pg_dumpall</span></a>首先备份
 所有角色，然后角色上的所有配置设置(Phil Sorber)</p><p>     这允许角色的配置设置提及其他没有产生错误的角色。</p></li><li class="listitem"><p>      如果在新的集群中丢失<code class="literal">postgres</code>数据库，那么允许
  <span class="application">pg_dumpall</span>避免错误(Robert Haas)</p></li><li class="listitem"><p>    按照用户名顺序备份外服务器用户映射(Peter Eisentraut)</p><p>     这有助于产生确定性备份文件。</p></li><li class="listitem"><p>       以可预见性顺序备份操作符(Peter Eisentraut)</p></li><li class="listitem"><p>    当扩展配置表通过<span class="application">pg_dump</span>被备份时，收紧规则(Tom Lane)</p></li><li class="listitem"><p>    使得<span class="application">pg_dump</span>发出更多有用的依赖信息(Tom Lane)</p><p>     包含在归档格式转储中的依赖关系以前使用非常有限，  
因为他们经常引用似乎
不在转储中的对象。
现在他们在转储对象之间
代表实际的依赖关系（可能是间接的）。</p></li><li class="listitem"><p>   当备份多个数据库对象时，提高<span class="application">pg_dump</span>的性能(Tom Lane)</p></li></ul></div></div></div><div class="sect3" id="idp72172976"><div class="titlepage"><div><div><h4 class="title">E.82.3.11. <a class="link" href="libpq.html" title="第 33 章 libpq - C 库"><span class="application">libpq</span></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>     允许<span class="application">libpq</span>连接
 字符串有<a class="link" href="libpq-connect.html#LIBPQ-CONNSTRING" title="33.1.1. 连接字符串"><acronym class="acronym">URI</acronym></a>
 的格式(Alexander Shulgin)</p><p>    该语法以<code class="literal">postgres://</code>开头。
这可以允许应用程序为URI表示数据库连接避免实现它们自身解析器。
</p></li><li class="listitem"><p>     添加<a class="link" href="libpq-connect.html#LIBPQ-CONNECT-SSLCOMPRESSION">连接选项</a>
 以禁用<acronym class="acronym">SSL</acronym>压缩
     (Laurenz Albe)</p><p>    这可以用于删除快速网络中<acronym class="acronym">SSL</acronym>压缩的开销。</p></li><li class="listitem"><p>     为了更好处理大的结果集添加
 <a class="link" href="libpq-single-row-mode.html" title="33.5. 一行一行地检索查询结果">单行处理模式</a></p><p>     此前，<span class="application">libpq</span>将
 其返回给应用程序之前总是收集内存中整个查询结果。</p></li><li class="listitem"><p>     添加<code class="literal">const</code>限定符
 到函数<code class="function">PQconnectdbParams</code>、<code class="function">PQconnectStartParams</code>
     和<code class="function">PQpingParams</code>的声明(Lionel Elie Mamane)</p></li><li class="listitem"><p>    允许<code class="filename">.pgpass</code>文件在密码域中包含转义字符(Robert Haas)</p></li><li class="listitem"><p>     当必须终止进程时，尝试库函数使用<code class="function">abort()</code>代替<code class="function">exit()</code>(Peter Eisentraut)</p><p>       这个选择并不妨碍使用正常退出代码程序，
   并产生一个可以由调用者捕捉的信号。</p></li></ul></div></div><div class="sect3" id="idp72189328"><div class="titlepage"><div><div><h4 class="title">E.82.3.12. 源码</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    删除封闭端口号(Peter Eisentraut)</p><p>    不再支持下列平台：dgux,
        nextstep, sunos4, svr4, ultrix4, univel, bsdi。</p></li><li class="listitem"><p>    添加使用
<a class="link" href="install-windows.html" title="第 17 章 在Windows上从源代码安装">MS Visual Studio 2010</a>支持编译(Brar Piening)</p></li><li class="listitem"><p>     启动使用MinGW-w64 32-位编译器进行编译(Lars Kanis)</p></li><li class="listitem"><p>    在安装期间安装<code class="filename">plpgsql.h</code>到<code class="filename">include/server</code>(Heikki Linnakangas) </p></li><li class="listitem"><p>     提高闩锁装置以包含postmaster终止的检测(Peter Geoghegan, Heikki Linnakangas, Tom Lane)</p><p>      后端进程先前必须意识到调查事件，这消除了主要原因之一。</p></li><li class="listitem"><p>     支持的地方使用C灵活数组元素(Peter Eisentraut)</p></li><li class="listitem"><p>      提高并行事务回归测试(<span class="application">isolationtester</span>) (Noah Misch)</p></li><li class="listitem"><p>     在当前目录中修改<span class="application">thread_test</span>创建它的测试文件，而不是<code class="filename">/tmp</code> (Bruce Momjian)</p></li><li class="listitem"><p>    提高flex和bison警告和错误报告(Tom Lane)</p></li><li class="listitem"><p>     添加内存屏障支持(Robert Haas)</p><p>      这是目前未使用的。</p></li><li class="listitem"><p>    修改pgindent使用typedef文件(Bruce Momjian)</p></li><li class="listitem"><p>        由于被发送到服务器添加处理消息钩子(Martin Pihlak)</p></li><li class="listitem"><p>   为<code class="command">DROP</code>命令添加对象访问钩(KaiGai Kohei)</p></li><li class="listitem"><p>    集中<code class="command">DROP</code>处理一些对象类型(KaiGai Kohei)</p></li><li class="listitem"><p>    添加<span class="application">pg_upgrade</span>测试套件(Peter Eisentraut)</p></li><li class="listitem"><p>     伴随<acronym class="acronym">TCL</acronym> 8.5.11 同步正则表达式代码
    并且改善内部处理(Tom Lane)</p></li><li class="listitem"><p>   移动<acronym class="acronym">CRC</acronym>表到libpgport，
   在一个单独的include文件中提供它们(Daniel Farina)</p></li><li class="listitem"><p>   为了用于主要发布声明
   创建添加选项到<span class="application">git_changelog</span> (Bruce Momjian)</p></li><li class="listitem"><p>     支持Linux的<code class="filename">/proc/self/oom_score_adj</code> API (Tom Lane)</p></li></ul></div></div><div class="sect3" id="idp72209376"><div class="titlepage"><div><div><h4 class="title">E.82.3.13. 额外模块</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   通过使用libpq的新单行处理模式提高<a class="link" href="dblink.html" title="F.11. dblink">dblink</a>的效率
   (Kyotaro Horiguchi, Marko Kreen)</p><p>      这个改进不适用于<code class="function">dblink_send_query()</code>/<code class="function">dblink_get_result()</code>。</p></li><li class="listitem"><p>    在<a class="link" href="file-fdw.html" title="F.15. file_fdw">file_fdw</a>中支持<code class="literal">force_not_null</code>选项(Shigeru Hanada)</p></li><li class="listitem"><p>       为<a class="link" href="pgarchivecleanup.html" title="pg_archivecleanup"><span class="application">pg_archivecleanup</span></a>实现
   演习模式(Gabriele Bartolini)</p><p>    这只输出已删除文件名。</p></li><li class="listitem"><p>   添加新的<a class="link" href="pgbench.html" title="pgbench">pgbench</a>切换<code class="option">--unlogged-tables</code>,
   <code class="option">--tablespace</code>和<code class="option">--index-tablespace</code> (Robert Haas)</p></li><li class="listitem"><p>     改变<a class="link" href="pgtestfsync.html" title="pg_test_fsync"><span class="application">pg_test_fsync</span></a>以测试
     一定量的时间，而不是固定周期数(Bruce Momjian)</p><p>     删除<code class="option">-o</code>/周期选项，并且添加<code class="option">-s</code>/秒。</p></li><li class="listitem"><p>     添加
 <a class="link" href="pgtesttiming.html" title="pg_test_timing"><span class="application">pg_test_timing</span></a>功能
以测量时钟一致性和时间开销
(Ants Aasma, Greg Smith)</p></li><li class="listitem"><p>      添加<a class="link" href="tcn.html" title="F.40. tcn">tcn</a>（触发变更通知）
模块在表变更上生成<code class="command">NOTIFY</code>事件(Kevin Grittner)</p></li></ul></div><div class="sect4" id="idp72226352"><div class="titlepage"><div><div><h5 class="title">E.82.3.13.1. <a class="link" href="pgupgrade.html" title="pg_upgrade"><span class="application">pg_upgrade</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>   调整<span class="application">pg_upgrade</span>环境变量(Bruce Momjian)</p><p>  重命名data,bin和以<code class="literal">PG</code>开头的port环境变量，
  支持<code class="envar">PGPORTOLD</code>/<code class="envar">PGPORTNEW</code>, 
  取代<code class="envar">PGPORT</code>。</p></li><li class="listitem"><p>   检查<span class="application">pg_upgrade</span>记录和错误报告(Bruce Momjian)</p><p>      创建四个附加的日志文件，并且成功时删除它们。
添加<code class="option">-r</code>/<code class="option">--retain</code>选项无条件的保留这些文件。同时
删除不必要的<span class="application">pg_upgrade</span>选项<code class="option">-g</code>/<code class="option">-G</code>/<code class="option">-l</code>选项，
固定日志文件的权限。</p></li><li class="listitem"><p>     使<span class="application">pg_upgrade</span>创建一个脚本增量
     生成更精确的优化统计(Bruce Momjian)</p><p>     这降低了升级后产生最小的集群统计所需要的时间。</p></li><li class="listitem"><p>    允许<span class="application">pg_upgrade</span>更新没有<code class="literal">postgres</code>数据库的旧的集群(Bruce Momjian) </p></li><li class="listitem"><p>     允许<span class="application">pg_upgrade</span>处理新的或旧的数据库丢失情况，只要它们是空的(Bruce Momjian)</p></li><li class="listitem"><p>   允许<span class="application">pg_upgrade</span>处理配置目录安装(Bruce Momjian)</p></li><li class="listitem"><p>    在<span class="application">pg_upgrade</span>中，添加<code class="option">-o</code>/<code class="option">-O</code>选项传递参数到服务器(Bruce Momjian)</p><p>    对配置目录安装有作用。</p></li><li class="listitem"><p>   改变<span class="application">pg_upgrade</span>使用缺省port 50432(Bruce Momjian)</p><p>     这有助于在更新期间避免意外的客户端连接。</p></li><li class="listitem"><p>    减少<span class="application">pg_upgrade</span>集群锁定(Bruce Momjian)</p><p>     具体来说，如果使用链接模式，那么只锁定旧的集群。  
     并且在存储模式之后执行。</p></li></ul></div></div><div class="sect4" id="idp72247088"><div class="titlepage"><div><div><h5 class="title">E.82.3.13.2. <a class="link" href="pgstatstatements.html" title="F.30. pg_stat_statements"><span class="application">pg_stat_statements</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    允许<span class="application">pg_stat_statements</span>通过SQL文本标准化聚合类似查询(Peter Geoghegan, Tom Lane)</p><p>      使用非参数化SQL应用程序的用户可以没有详细的日志分析监控查询性能。</p></li><li class="listitem"><p>    增加脏块和写入块计算以及读/写时间到<span class="application">pg_stat_statements</span> (Robert Haas, Ants Aasma)</p></li><li class="listitem"><p>  避免<span class="application">pg_stat_statements</span>来自
  <code class="command">PREPARE</code>和<code class="command">EXECUTE</code>命令的重复计算(Tom Lane)</p></li></ul></div></div><div class="sect4" id="idp72254048"><div class="titlepage"><div><div><h5 class="title">E.82.3.13.3. <a class="link" href="sepgsql.html" title="F.36. sepgsql">sepgsql</a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    在全局对象上支持<code class="literal">SECURITY LABEL</code>
(KaiGai Kohei, Robert Haas)</p><p>     具体来说，添加数据库安全标签，表空间，和角色。</p></li><li class="listitem"><p>     允许sepgsql接受数据库标签(KaiGai Kohei)</p></li><li class="listitem"><p>     在各种对象的创建过程中执行sepgsql权限检查(KaiGai Kohei)  </p></li><li class="listitem"><p>     添加<code class="function">sepgsql_setcon()</code>和相关函数以控制sepgsql安全域(KaiGai Kohei)</p></li><li class="listitem"><p>    添加sepgsql用户空间访问缓存以提高性能(KaiGai Kohei)</p></li></ul></div></div></div><div class="sect3" id="idp72259504"><div class="titlepage"><div><div><h4 class="title">E.82.3.14. 文档</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    使用网站上的样式表添加规则用以随意编译HTML文档(Magnus Hagander)</p><p>    使用<code class="command">gmake STYLE=website draft</code>.</p></li><li class="listitem"><p>    改善<code class="command">EXPLAIN</code>文档(Tom Lane)</p></li><li class="listitem"><p>       记录用户/数据库名通过命令行工具如<span class="application">vacuumdb</span>
   使用双引号保存(Bruce Momjian)</p></li><li class="listitem"><p>      记录通过客户端MD5认证返回的实际字符串(Cyan Ogilvie)</p></li><li class="listitem"><p>       反对在<code class="command">CREATE TEMP TABLE</code>中使用<code class="literal">GLOBAL</code>和<code class="literal">LOCAL</code> (Noah Misch)</p><p>     <span class="productname">PostgreSQL</span>早已把这些关键词看作没有操作，
并且继续这样做；但在未来他们可能意味着SQL标准的内容，
所以应用程序应避免使用它们。</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-2-1.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-1-24.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.81. 版本9.2.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.83. 版本 9.1.24</td></tr></table></div></body></html>
