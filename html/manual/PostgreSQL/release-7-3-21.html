<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.285. 版本 7.3.21</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-7-4.html" title="E.284. 版本 7.4" /><link rel="next" href="release-7-3-20.html" title="E.286. 版本 7.3.20" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.285. 版本 7.3.21</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-7-4.html" title="E.284. 版本 7.4">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-7-3-20.html" title="E.286. 版本 7.3.20">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-7-3-21"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.285. 版本 7.3.21</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-7-3-21.html#idp83563680">E.285.1. 迁移到版本 7.3.21</a></span></dt><dt><span class="sect2"><a href="release-7-3-21.html#idp83565328">E.285.2. 修改列表</a></span></dt></dl></div><p><strong>发布日期：. </strong>2008-01-07</p><p>这个版本包含7.3.20的各种补丁，包括重大安全问题的补丁。</p><p>预计这是7.3.X系列的最后一个<span class="productname">PostgreSQL</span>版本。鼓励用户尽快升级到一个新的版本分支。</p><div class="sect2" id="idp83563680"><div class="titlepage"><div><div><h3 class="title">E.285.1. 迁移到版本 7.3.21</h3></div></div></div><p>运行7.3.X的不需要转储/恢复。不过，如果从一个7.3.13更早的版本升级而来，
请查阅<a class="xref" href="release-7-3-13.html" title="E.293. 版本 7.3.13">第 E.293 节</a>。</p></div><div class="sect2" id="idp83565328"><div class="titlepage"><div><div><h3 class="title">E.285.2. 修改列表</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>阻止用户的权限运行<code class="command">VACUUM</code>, <code class="command">ANALYZE</code>等执行索引里的函数（Tom）。</p><p>应用于索引表达式和部分索引谓词的函数在建立一个新的表项时被评估。一直以来以为，
如果一个人修改了一个未被信任的用户的表，这造成了特洛伊木马代码扩展的风险。
（请注意，触发器、缺省、检查约束等造成相同类型的风险。）
但是索引里的函数造成额外的威胁，因为他们将被日常维护操作如<code class="command">VACUUM FULL</code>
执行，这些操作通常由一个超级用户账户自动执行。例如，
一个不法用户可以通过设置一个特洛伊木马索引定义并等待下一个日常清理，用超级用户权限执行代码。
修复标准维护操作（包括<code class="command">VACUUM</code>, <code class="command">ANALYZE</code>, <code class="command">REINDEX</code>,
和 <code class="command">CLUSTER</code>）的安排为作为表的所有者执行而不是调用用户，
使用<code class="literal">SECURITY DEFINER</code>函数已经使用的相同的权限切换机制。
为了阻止绕过这个安全措施，现在禁止<code class="command">SET SESSION AUTHORIZATION</code> 和 <code class="command">SET ROLE</code>
在<code class="literal">SECURITY DEFINER</code>环境中执行了。(CVE-2007-6600)</p></li><li class="listitem"><p>需要使用<code class="filename">/contrib/dblink</code>的非超级用户只使用口令认证，作为一个安全措施(Joe)。</p><p>在7.3.20里出现的修复是不完整的，因为它为了一些<code class="filename">dblink</code>函数堵塞了整个。
(CVE-2007-6601, CVE-2007-3278)</p></li><li class="listitem"><p>当使用一个多字节数据库编码时，修复<code class="function">translate()</code>里的潜在冲突。(Tom)</p></li><li class="listitem"><p>使得<code class="filename">contrib/tablefunc</code>的<code class="function">crosstab()</code>处理空rowid本身为一个类别，
而不是冲突。(Joe)</p></li><li class="listitem"><p>当重新生成<code class="command">configure</code>脚本时需要使用一个特定的<span class="productname">Autoconf</span>版本。(Peter)</p><p>这只影响开发者和打包者。这样做是为了阻止意外的使用未经检验的<span class="productname">Autoconf</span>
和<span class="productname">PostgreSQL</span>版本的组合。如果你真的想要使用一个不同的<span class="productname">Autoconf</span>
版本，你可以移除版本检查，但是结果如何你自己负责。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-7-4.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-7-3-20.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.284. 版本 7.4 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.286. 版本 7.3.20</td></tr></table></div></body></html>
