<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.166. 版本8.3.12</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-3-13.html" title="E.165. 版本8.3.13" /><link rel="next" href="release-8-3-11.html" title="E.167. 版本8.3.11" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.166. 版本8.3.12</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-3-13.html" title="E.165. 版本8.3.13">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-3-11.html" title="E.167. 版本8.3.11">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-3-12"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.166. 版本8.3.12</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-3-12.html#idp78365712">E.166.1. 迁移到版本8.3.12</a></span></dt><dt><span class="sect2"><a href="release-8-3-12.html#idp78366624">E.166.2. 变化</a></span></dt></dl></div><p><strong>发布日期：. </strong>2010-10-04</p><p>    该发布包含来自8.3.11的各种修复。
关于8.3主要发布的新特性信息，参阅<a class="xref" href="release-8-3.html" title="E.178. 版本8.3">第 E.178 节</a>。</p><div class="sect2" id="idp78365712"><div class="titlepage"><div><div><h3 class="title">E.166.1. 迁移到版本8.3.12</h3></div></div></div><p>    为运行8.3.X不需要备份/恢复。然而，如果从8.3.8更早版本更新，
参阅8.3.8发布说明。</p></div><div class="sect2" id="idp78366624"><div class="titlepage"><div><div><h3 class="title">E.166.2. 变化</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    为PL/Perl和PL/Tcl中每个调用SQL userid使用单独解析器 (Tom Lane)</p><p>     这种变化可以防止通过颠覆在同一会话下另一个SQL用户身份执行的
 （例如，<code class="literal">SECURITY DEFINER</code>函数内）Perl或Tcl的代码引起的安全问题。
 大多数的脚本语言提供可以执行的多种方式，比如重新定义通过目标函数调用的标准函数或操作符。
 如果没有这些变化，使用Perl或Tcl语言使用权的任何SQL用户本质上可以执行  
 目标函数所有者的SQL权限。</p><p>    这种变化的成本是在Perl和Tcl函数之间有意通讯变得更加困难。
为了提供一个安全出口，PL/PerlU和PL/TclU函数继续使用每个会话中解析器。
没有考虑安全问题，因为所有这些函数在数据库超级用户的信任级别中执行。</p><p>     这很可能是第三方的程序语言，声称可以提供可信认执行程序也有类似的安全问题。
 我们建议您联系依赖于安全关键目的的任何PL作者。 </p><p>   我们非常感谢Tim Bunce指出这个问题(CVE-2010-3433)</p></li><li class="listitem"><p>    避免在<code class="function">pg_get_expr()</code>中通过禁用它    
    打算用于不是系统目录列中的参数的可能崩溃(Heikki Linnakangas, Tom Lane)</p></li><li class="listitem"><p>   把退出代码128(<code class="literal">ERROR_WAIT_NO_CHILDREN</code>)作为Windows上非致命的(Magnus Hagander)</p><p>    在高负载下，Windows进程有时会在错误代码启动时失败。
之前postmaster将这个看作为恐慌条件，并且重新启动整个数据库，
但是这似乎是一种过度反应。 </p></li><li class="listitem"><p>    修复附加索引扫描中非严格的OR 连接子句的不正确用法(Tom Lane)</p><p>      这是在8.3分支中丢失的8.4修复的一个补丁。  
这纠正了8.3.8中引入的一个错误，它可能导致外连接不正确
结果，当内在关系是继承树或者<code class="literal">UNION ALL</code>子查询的时候。
</p></li><li class="listitem"><p>    修复<code class="literal">UNION ALL</code>成员关系的可能重复扫描(Tom Lane) </p></li><li class="listitem"><p>    修复<span class="quote">“<span class="quote">不能处理非计划子查询</span>”</span>错误(Tom Lane) </p><p>    当子选择包含扩展到包含另一子选择的表达式中连接别名引用的时候发生。</p></li><li class="listitem"><p>   修复该错误以标记缓存计划为瞬时的(Tom Lane) </p><p>      如果已准备好规划，当<code class="command">CREATE INDEX CONCURRENTLY</code>是所引用表中之一，
      它被认为是重新规划，一旦索引准备使用。这没有发生。
</p></li><li class="listitem"><p>    在一些偶然报告的btree错误情况中减少PANIC到ERROR，并且提供错误消息的更多细节(Tom Lane) </p><p>    这可能优化使用损坏索引系统鲁棒性。</p></li><li class="listitem"><p>    防止show_session_authorization()在autovacuum进程中崩溃(Tom Lane)</p></li><li class="listitem"><p>    防御函数返回setof记录，其中并非所有返回行都是同一行类型(Tom Lane)</p></li><li class="listitem"><p>    当散列按引用传递函数结果的时候，修复可能错误(Tao Ma, Tom Lane)</p></li><li class="listitem"><p>   优化join列中NULL的合并连接处理(Tom Lane)</p><p>    如果排序顺序是空排序高，那么合并连接完全达到第一个空时停止。</p></li><li class="listitem"><p>     当写它们的时候，注意fsync锁文件的内容（包含<code class="filename">postmaster.pid</code>和套接锁文件）(Tom Lane)</p><p>     如果postmaster启动后不久主机崩溃，这种忽略可能会导致损坏的锁文件内容。
这可能反过来防止后续试图随后启动postmaster，
直到锁文件被手动删除。</p></li><li class="listitem"><p>    当分配XID到大量嵌套子事务的时候，避免递归(Andres Freund, Robert Haas)</p><p>    如果有有限的堆栈空间，那么原代码可能导致崩溃。</p></li><li class="listitem"><p>    避免在walwriter进程中保持打开旧的WAL段(Magnus Hagander, Heikki Linnakangas)</p><p>    之前代码可能阻止删除不需要段。</p></li><li class="listitem"><p>    修复<code class="varname">log_line_prefix</code>的<code class="literal">%i</code>转义，
这可能在后端启动初期产生垃圾(Tom Lane)</p></li><li class="listitem"><p>    当启动归档的时候，修复<code class="command">ALTER TABLE ... SET TABLESPACE</code>中可能的数据损坏(Jeff Davis)</p></li><li class="listitem"><p>   允许<code class="command">CREATE DATABASE</code>和<code class="command">ALTER DATABASE ... SET TABLESPACE</code>通过查询取消被中断(Guillaume Lelarge)</p></li><li class="listitem"><p>    修复<code class="command">REASSIGN OWNED</code>以处理操作符类和族(Asko Tiidumaa)</p></li><li class="listitem"><p>    当比较两个空<code class="type">tsquery</code>值的时候，修复可能的核心转储(Tom Lane)</p></li><li class="listitem"><p>   修复包含<code class="literal">%</code>伴随<code class="literal">_</code>模式的<code class="literal">LIKE</code>的处理(Tom Lane)</p><p>   我们之前已经修复这个问题，但是仍然有一些不正确处理情况。</p></li><li class="listitem"><p>   在PL/Python中，防止来自<code class="function">PyCObject_AsVoidPtr</code>和<code class="function">PyCObject_FromVoidPtr</code>空指针结果(Peter Eisentraut)</p></li><li class="listitem"><p>  使得psql认为<code class="command">DISCARD ALL</code>作为不应该包含在autocommit-off模式事务块中的命令(Itagaki Takahiro)</p></li><li class="listitem"><p>    修复<span class="application">ecpg</span>以处理正确来自<code class="literal">RETURNING</code>子句的数据(Michael Meskes)</p></li><li class="listitem"><p>   完善包含已删除列的表的<code class="filename">contrib/dblink</code>的处理(Tom Lane)</p></li><li class="listitem"><p>   修复<code class="filename">contrib/dblink</code>中<span class="quote">“<span class="quote">重复连接名</span>”</span>错误后的连接泄露(Itagaki Takahiro)</p></li><li class="listitem"><p>   修复<code class="filename">contrib/dblink</code>以正确处理超过62字节的连接名(Itagaki Takahiro)</p></li><li class="listitem"><p>   添加<code class="function">hstore(text, text)</code>函数到<code class="filename">contrib/hstore</code> (Robert Haas)</p><p>      该函数代替已过时的<code class="literal">=&gt;</code>操作符。
它打补丁以便未来代码可用于旧的服务器版本。
请注意，该补丁在<code class="filename">contrib/hstore</code>被安装或重新安装在一个特定的数据库之后有效。
相反用户可能更愿意手动执行<code class="command">CREATE FUNCTION</code>&lt;命令&gt;。
</p></li><li class="listitem"><p>    更新编译基础设施和文档以反映从CVS到Git迁移的源代码库(Magnus Hagander and others)</p></li><li class="listitem"><p>   为了Egypt和Palestine中的DST变化更新时区数据文件到<span class="application">tzdata</span>发布2010l；
   同时为了Finland历史修正。</p><p>     这种变化还增加了两个Micronesian时区新的名称：
Pacific/Chuuk现在优于Pacific/Truk（并且首选缩写CHUT而非TRUT）
Pacific/Pohnpei优于Pacific/Ponape。 
</p></li><li class="listitem"><p>   采用Windows的<span class="quote">“<span class="quote">N. Central Asia标准时间</span>”</span>时区映射到Asia/Novosibirsk，而不是Asia/Almaty (Magnus Hagander)</p><p>    Microsoft改变了来自KB976098时区更新中该时区的DST操作。
Asia/Novosibirsk更好的匹配它的新操作。 
</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-3-13.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-3-11.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.165. 版本8.3.13 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.167. 版本8.3.11</td></tr></table></div></body></html>
