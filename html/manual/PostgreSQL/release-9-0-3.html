<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.128. 版本 9.0.3</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-0-4.html" title="E.127. 版本 9.0.4" /><link rel="next" href="release-9-0-2.html" title="E.129. 版本 9.0.2" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.128. 版本 9.0.3</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-0-4.html" title="E.127. 版本 9.0.4">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-9-0-2.html" title="E.129. 版本 9.0.2">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-9-0-3"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.128. 版本 9.0.3</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-9-0-3.html#idp75446528">E.128.1. 迁移到版本 9.0.3</a></span></dt><dt><span class="sect2"><a href="release-9-0-3.html#idp75447264">E.128.2. 修改列表</a></span></dt></dl></div><p><strong>发布日期：. </strong>2011-01-31</p><p>这个版本包含各种自9.0.2以来的修复。要想获得关于9.0主版本的新特性，
请参阅<a class="xref" href="release-9-0.html" title="E.131. 版本 9.0">第 E.131 节</a>。</p><div class="sect2" id="idp75446528"><div class="titlepage"><div><div><h3 class="title">E.128.1. 迁移到版本 9.0.3</h3></div></div></div><p>运行9.0.X版本的用户不需要转储/恢复。</p></div><div class="sect2" id="idp75447264"><div class="titlepage"><div><div><h3 class="title">E.128.2. 修改列表</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>在退出<span class="application">walreceiver</span>之前，确保所有接收到的WAL同步到磁盘 (Heikki Linnakangas)</p><p>否则备用服务器会重放一些未同步的WAL，想象的到，如果系统正好在此时崩溃，则会导致数据损坏。</p></li><li class="listitem"><p>避免<span class="application">walreceiver</span>中过度的同步活动 (Heikki Linnakangas)</p></li><li class="listitem"><p>需要时使<code class="command">ALTER TABLE</code>的唯一性和排除约束重新生效 (Noah Misch)</p><p>这在9.0中，由于试图在<code class="command">VACUUM FULL</code>和<code class="command">CLUSTER</code>期间抑制重新生效而坏掉了，
但是无意间也影响到了<code class="command">ALTER TABLE</code>。</p></li><li class="listitem"><p>为继承树的<code class="command">UPDATE</code>修复EvalPlanQual，该继承树中的表并不都是相似的 (Tom Lane)</p><p>表行类型（包括只在一些子表中出现的少量的字段）的任何变化都将使EvalPlanQual代码混乱，
导致错误行为甚至崩溃。因为EvalPlanQual只在并发更新到相同的行时执行，
该问题只能间歇的看到。</p></li><li class="listitem"><p>避免<code class="command">EXPLAIN</code>试图显示一个简单形式的<code class="literal">CASE</code>表达式时的失败 (Tom Lane)</p><p>如果<code class="literal">CASE</code>的测试表达式是一个常量，那么规划器将简化<code class="literal">CASE</code>
为一个困惑表达式显示代码的形式，导致<span class="quote">“<span class="quote">unexpected CASE WHEN clause</span>”</span>错误。</p></li><li class="listitem"><p>修复现有下标范围之前的数组切片的分配 (Tom Lane)</p><p>如果新添加的下标和原先存在的下标之间存在一个缺口，
代码错误估算了需要多少条目从老数组的空位图中拷贝，可能导致数据损坏或崩溃。</p></li><li class="listitem"><p>避免为了非常远的日期值在规划器中意外的转换溢出 (Tom Lane)</p><p><code class="type">date</code>类型比<code class="type">timestamp</code>类型支持更大范围的日期，
但是规划器假设它可以总是不受惩罚的转换一个日期为时间戳。</p></li><li class="listitem"><p>修复一个数组包含空条目时的PL/Python损坏 (Alex Hunsaker)</p></li><li class="listitem"><p>为定义一个数组维度的常量删除<span class="application">ecpg</span>的固定的长度限制 (Michael Meskes)</p></li><li class="listitem"><p>修复包含<code class="literal">... &amp; !(subexpression) | ...</code>
的<code class="type">tsquery</code>值的错误解析 (Tom Lane)</p><p>包含这些操作符的组合的查询没有正确的执行。相同的错误存在于<code class="filename">contrib/intarray</code>
的<code class="type">query_int</code>类型和<code class="filename">contrib/ltree</code>的<code class="type">ltxtquery</code>类型。</p></li><li class="listitem"><p>修复<code class="filename">contrib/intarray</code>的<code class="type">query_int</code>类型输入函数中的缓冲区溢出 (Apple)</p><p>这个错误是一个安全风险，因为该函数的返回地址会被重写。
感谢Apple Inc的安全团队报告这个问题并提供了该修复。 (CVE-2010-4015)</p></li><li class="listitem"><p>修复<code class="filename">contrib/seg</code>的GiST picksplit算法中的错误 (Alexander Korotkov)</p><p>这可能会导致大量的低效，尽管不是实际上错误的答案，在<code class="type">seg</code>字段上的GiST索引中。
如果你有这样的一个索引，那么考虑在安装这个更新之后<code class="command">REINDEX</code>它。
（这与之前更新的<code class="filename">contrib/cube</code>中修复的错误相同。）</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-0-4.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-0-2.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.127. 版本 9.0.4 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.129. 版本 9.0.2</td></tr></table></div></body></html>
