<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.180. 版本 8.2.22</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-2-23.html" title="E.179. 版本 8.2.23" /><link rel="next" href="release-8-2-21.html" title="E.181. 版本 8.2.21" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.180. 版本 8.2.22</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-2-23.html" title="E.179. 版本 8.2.23">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-2-21.html" title="E.181. 版本 8.2.21">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-2-22"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.180. 版本 8.2.22</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-2-22.html#idp79420464">E.180.1. 迁移到版本 8.2.22</a></span></dt><dt><span class="sect2"><a href="release-8-2-22.html#idp79421952">E.180.2. 修改列表</a></span></dt></dl></div><p><strong>发布日期：. </strong>2011-09-26</p><p>这个版本包含各种自8.2.21以来的修复。关于8.2主版本的新特性信息，
请查看<a class="xref" href="release-8-2.html" title="E.202. 版本 8.2">第 E.202 节</a>。</p><p><span class="productname">PostgreSQL</span>社区将在2011年12月停止对8.2.X版本系列发布更新。
建议用户尽快更新到一个新的版本分支。</p><div class="sect2" id="idp79420464"><div class="titlepage"><div><div><h3 class="title">E.180.1. 迁移到版本 8.2.22</h3></div></div></div><p>运行8.2.X的用户不需要转储/恢复。不过，如果你是从一个早于8.2.14的版本升级而来，
那么请查看<a class="xref" href="release-8-2-14.html" title="E.188. 版本 8.2.14">第 E.188 节</a>。</p></div><div class="sect2" id="idp79421952"><div class="titlepage"><div><div><h3 class="title">E.180.2. 修改列表</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>修复GiST索引页分裂处理中的多个错误 (Heikki Linnakangas)</p><p>发生的可能性很低，但是会导致索引损坏。</p></li><li class="listitem"><p>避免<code class="command">ANALYZE</code>中可能的访问关闭内存的结尾 (Noah Misch)</p><p>这修复了一个非常低可能的服务器崩溃情况。</p></li><li class="listitem"><p>修复relcache初始化文件失效中的竞态条件 (Tom Lane)</p><p>新的后端进程中有一个窗口会读取陈旧的初始化文件，
但是错过会告诉它该数据是陈旧的的inval消息。
结果会是目录访问中奇怪的失败，典型的是在启动后
<span class="quote">“<span class="quote">could not read block 0 in file ...</span>”</span>。</p></li><li class="listitem"><p>修复GiST索引扫描结束时的内存泄露 (Tom Lane)</p><p>执行许多独立GiST索引扫描的命令，比如在一个早已包含许多行的表上新建基于GiST的排除约束的验证，
由于这个泄露，可能会在瞬间需要大量的内存。</p></li><li class="listitem"><p>修复构建一个大型的、有损耗的位图时的性能问题 (Tom Lane)</p></li><li class="listitem"><p>修复数组和路径创建函数，确保填充字节是零 (Tom Lane)</p><p>这避免了一些规划器认为语义上相等的常数不等，导致欠佳的最优化的情况。</p></li><li class="listitem"><p>绕开中断WAL重放的gcc 4.6.0 bug (Tom Lane)</p><p>这可能导致在服务器崩溃后丢失已提交的事务。</p></li><li class="listitem"><p>修复一个视图中<code class="literal">VALUES</code>的转储bug (Tom Lane)</p></li><li class="listitem"><p>不允许在一个序列上<code class="literal">SELECT FOR UPDATE/SHARE</code> (Tom Lane)</p><p>这个操作不想预期的那样工作，并且会导致失败。</p></li><li class="listitem"><p>计算一个哈希表的大小时，防止整数溢出 (Tom Lane)</p></li><li class="listitem"><p>修复<span class="quote">“<span class="quote">peer</span>”</span>认证的证书控制消息中正在使用的潜在的bug (Tom Lane)</p></li><li class="listitem"><p>修复<code class="function">pg_srand48</code>种子的初始化中的打印错误 (Andres Freund)</p><p>这导致未能使用提供的种子的所有位。这个函数没有在大多数平台上使用
（只有那些没有<code class="function">srandom</code>的平台），并且在任何情况下，
比预期的随机少的多下种子似乎很小，有潜在的安全风险。</p></li><li class="listitem"><p>当<code class="literal">LIMIT</code>和<code class="literal">OFFSET</code>值的和超过2^63时，
避免整数溢出 (Heikki Linnakangas)</p></li><li class="listitem"><p>添加溢出检查到<code class="function">generate_series()</code>的<code class="type">int4</code>和<code class="type">int8</code>版本 (Robert Haas)</p></li><li class="listitem"><p>修复<code class="function">to_char()</code>中的尾随零的删除 (Marti Raudsepp)</p><p>在<code class="literal">FM</code>并且小数点后没有数字位的格式中，小数点左侧的零可能会被错误的删除。</p></li><li class="listitem"><p>修复<code class="function">pg_size_pretty()</code>，避免接近2^63的输入溢出 (Tom Lane)</p></li><li class="listitem"><p>修复从一个不同的文件<code class="literal">COPY</code>期间，<span class="application">psql</span>
的脚本文件行号的计数 (Tom Lane)</p></li><li class="listitem"><p>为<code class="varname">standard_conforming_strings</code>修复<span class="application">pg_restore</span>
的直接到数据库模式 (Tom Lane)</p><p>当从一个<code class="varname">standard_conforming_strings</code>设置为<code class="literal">on</code>
制作的归档文件中直接恢复到一个数据库服务器时，<span class="application">pg_restore</span>
可能发出不正确的命令。</p></li><li class="listitem"><p>修复<span class="application">libpq</span>的LDAP服务查找代码中的过去写缓冲区结束和内存泄露 (Albe Laurenz)</p></li><li class="listitem"><p>在<span class="application">libpq</span>中，避免使用非闭塞的I/O和SSL连接时的失败 (Martin Pihlak, Tom Lane)</p></li><li class="listitem"><p>改善连接启动期间libpq对失败的处理 (Tom Lane)</p><p>特别的，SSL连接启动期间响应<code class="function">fork()</code>失败的服务报告现在更加理智。</p></li><li class="listitem"><p>让<span class="application">ecpglib</span>用15位精度写<code class="type">double</code>值 (Akira Kurosawa)</p></li><li class="listitem"><p>为blowfish带符号字符bug应用逆向修复 (CVE-2011-2483)</p><p><code class="filename">contrib/pg_crypto</code>的blowfish加密代码在字符是有符号的平台上
（大多数是这样）会给出错误的结果，导致加密的口令比应该的要弱。</p></li><li class="listitem"><p>修复<code class="filename">contrib/seg</code>中的内存泄露 (Heikki Linnakangas)</p></li><li class="listitem"><p>修复<code class="function">pgstatindex()</code>，为空索引给出一致的结果 (Tom Lane)</p></li><li class="listitem"><p>允许使用perl 5.14建立 (Alex Hunsaker)</p></li><li class="listitem"><p>为系统函数存在的检测更新配置脚本的方法 (Tom Lane)</p><p>我们在8.3和8.2中使用的autoconf版本会被执行连接时优化的编译器愚弄。</p></li><li class="listitem"><p>修复建立和安装文件路径包含空格的各种问题 (Tom Lane)</p></li><li class="listitem"><p>更新时区数据文件到<span class="application">tzdata</span>版本2011i，
因为DST规律在Canada、Egypt、Russia、Samoa和South Sudan发生了改变。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-2-23.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-2-21.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.179. 版本 8.2.23 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.181. 版本 8.2.21</td></tr></table></div></body></html>
