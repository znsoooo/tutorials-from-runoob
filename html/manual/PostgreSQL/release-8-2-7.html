<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.195. 版本 8.2.7</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-2-8.html" title="E.194. 版本 8.2.8" /><link rel="next" href="release-8-2-6.html" title="E.196. 版本 8.2.6" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.195. 版本 8.2.7</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-2-8.html" title="E.194. 版本 8.2.8">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-2-6.html" title="E.196. 版本 8.2.6">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-2-7"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.195. 版本 8.2.7</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-2-7.html#idp79899296">E.195.1. 迁移到版本 8.2.7</a></span></dt><dt><span class="sect2"><a href="release-8-2-7.html#idp79900864">E.195.2. 修改列表</a></span></dt></dl></div><p><strong>发布日期：. </strong>2008-03-17</p><p>这个版本包含各种自8.2.6以来的修复。关于8.2主版本的新特性信息，
请查看<a class="xref" href="release-8-2.html" title="E.202. 版本 8.2">第 E.202 节</a>。</p><div class="sect2" id="idp79899296"><div class="titlepage"><div><div><h3 class="title">E.195.1. 迁移到版本 8.2.7</h3></div></div></div><p>运行8.2.X的用户不需要转储/恢复。不过，如果你受下列描述的Windows环境问题影响，
你可能需要在升级之后<code class="command">REINDEX</code>在文本字段上的索引。</p></div><div class="sect2" id="idp79900864"><div class="titlepage"><div><div><h3 class="title">E.195.2. 修改列表</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>为认为不同字符组合为相等的Windows环境修复字符串比较 (Tom)</p><p>这个修复只应用于Windows并且是在使用UTF-8数据库编码时。
两年前为所有其他情况作了相同的修复，但是使用UTF-8的Windows使用一个单独的代码路径，
所以没有更新。如果你正在使用一个认为一些不相同的字符串相等的环境，
你可能需要<code class="command">REINDEX</code>，以修复文本字段上现存的索引。</p></li><li class="listitem"><p>修复在不同的系统目录上并发<code class="command">VACUUM FULL</code>操作之间潜在的死锁 (Tom)</p></li><li class="listitem"><p>修复长期存在的<code class="command">LISTEN</code>/<code class="command">NOTIFY</code>竞态条件 (Tom)</p><p>在稀有情况下，一个刚刚执行了<code class="command">LISTEN</code>的会话可能不会获得一个通知，
即使预期应该有一个，因为观察到并发事务执行<code class="command">NOTIFY</code>在稍后提交。</p><p>该修复的一个副作用是一个已经执行了还未提交的<code class="command">LISTEN</code>
命令的事务对于该<code class="command">LISTEN</code>将不会看到任何<code class="structname">pg_listener</code>中的行，
而它应该看到；以前它能看到。这个行为从未记录过，但是有可能有一些应用依赖于老的行为。</p></li><li class="listitem"><p>不允许<code class="command">LISTEN</code>和<code class="command">UNLISTEN</code>在一个预备事务中 (Tom)</p><p>以前是允许的，但是尝试这样做会有各种不愉快的结果，尤其是只要<code class="command">UNLISTEN</code>
保持未提交，那么原始的后端就不会退出。</p></li><li class="listitem"><p>不允许在一个预备事务中删除一个临时表 (Heikki)</p><p>这在8.1中正确的禁用了，但是在8.2中无意的打破了检查。</p></li><li class="listitem"><p>修复一个错误发生在查询使用哈希索引期间时的罕见崩溃 (Heikki)</p></li><li class="listitem"><p>修复某些设置返回函数使用中的内存泄露 (Neil)</p></li><li class="listitem"><p>修复公元前2月29的日期时间值的输入 (Tom)</p><p>以前的代码关于哪年是闰年是错误的。</p></li><li class="listitem"><p>修复<code class="command">ALTER OWNER</code>的一些变体中的<span class="quote">“<span class="quote">未识别的节点类型</span>”</span>错误 (Tom)</p></li><li class="listitem"><p>确保退出一个锁等待时，<code class="structname">pg_stat_activity</code>.<code class="structfield">waiting</code>标记被清除了 (Tom)</p></li><li class="listitem"><p>修复Windows Vista上进程权限的处理 (Dave, Magnus)</p><p>特别的，这个修复允许作为管理员用户启动服务器。</p></li><li class="listitem"><p>更新时区数据文件到<span class="application">tzdata</span>版本2008a（特别的，最近智利的变化）；
调整时区缩写<code class="literal">VET</code> (Venezuela)意为UTC-4:30，不是UTC-4:00 (Tom)</p></li><li class="listitem"><p>修复<span class="application">pg_ctl</span>，正确的从命令行选项中提取主进程的端口号 (Itagaki Takahiro, Tom)</p><p>以前，<code class="literal">pg_ctl start -w</code>会在错误的端口尝试连接主进程，导致启动失败的错误报告。</p></li><li class="listitem"><p>使用<code class="option">-fwrapv</code>来防御最近的<span class="application">gcc</span>版本中可能的错误优化 (Tom)</p><p>在使用<span class="application">gcc</span> 4.3或更高版本建立<span class="productname">PostgreSQL</span>时，这是必要的。</p></li><li class="listitem"><p>正确的强制<code class="varname">statement_timeout</code>值比<code class="literal">INT_MAX</code>微秒（大约35分钟）更长 (Tom)</p><p>这个错误只影响使用<code class="option">--enable-integer-datetimes</code>的建立。</p></li><li class="listitem"><p>修复常量折叠简化一个子查询时，<span class="quote">“<span class="quote">意外的 PARAM_SUBLINK ID</span>”</span>规划器错误 (Tom)</p></li><li class="listitem"><p>修复约束排除处理<code class="literal">IS NULL</code>和<code class="literal">NOT</code>表达式中的逻辑错误 (Tom)</p><p>规划器有时会由于NULL结果的可能性排除不应该被排除的分区。</p></li><li class="listitem"><p>修复另一个导致<span class="quote">“<span class="quote">未能建立一个 N-way 连接</span>”</span>规划器错误的原因 (Tom)</p><p>这在利用一个连接子句之前必须强制一个缺乏子句的连接的情况下会发生。</p></li><li class="listitem"><p>修复外连接规划中不正确的常数传播 (Tom)</p><p>规划器有时不正确的推断一个变量会被迫等于一个常量，导致错误的查询结果。</p></li><li class="listitem"><p>修复<code class="literal">ORDER BY</code>和<code class="literal">GROUP BY</code>中常量表达式的显示 (Tom)</p><p>明确计算的常量会不正确的显示。这会导致，例如转储或重载期间视图定义的损坏。</p></li><li class="listitem"><p>修复<span class="application">libpq</span>，在COPY OUT期间正确的处理NOTICE消息 (Tom)</p><p>这个失败只有在一个用户定义数据类型的输出例程发出一个NOTICE时能观察到，
但是不保证它不会由于其他的原因而发生。</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-2-8.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-2-6.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.194. 版本 8.2.8 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.196. 版本 8.2.6</td></tr></table></div></body></html>
