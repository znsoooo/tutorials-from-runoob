<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.177. 版本8.3.1</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-3-2.html" title="E.176. 版本8.3.2" /><link rel="next" href="release-8-3.html" title="E.178. 版本8.3" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.177. 版本8.3.1</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-3-2.html" title="E.176. 版本8.3.2">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-3.html" title="E.178. 版本8.3">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-3-1"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.177. 版本8.3.1</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-3-1.html#idp78866528">E.177.1. 迁移到版本8.3.1</a></span></dt><dt><span class="sect2"><a href="release-8-3-1.html#idp78868240">E.177.2. 变化</a></span></dt></dl></div><p><strong>发布日期：. </strong>2008-03-17</p><p>    该发布包含来自8.3.0的各种修复。关于8.3主要发布中新特性信息，
参阅<a class="xref" href="release-8-3.html" title="E.178. 版本8.3">第 E.178 节</a>。</p><div class="sect2" id="idp78866528"><div class="titlepage"><div><div><h3 class="title">E.177.1. 迁移到版本8.3.1</h3></div></div></div><p>   运行8.3.X不需要备份/恢复。然而，如果你受到下面描述的Windows区域问题的影响。
   在更新之后你可能需要文本列上<code class="command">REINDEX</code>索引。
   </p></div><div class="sect2" id="idp78868240"><div class="titlepage"><div><div><h3 class="title">E.177.2. 变化</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    修复认为不同字符组合是相同的Windows区域的字符串比较(Tom)
    </p><p>    当使用UTF-8数据库编码的时候，此修复程序仅适用于Windows。
相同的修复程序解决了2年前所有其他情况，但是使用UTF-8的Windows使用
未被更新的单独代码路径。如果你正使用认为非相同字符串是相同的区域，
你可能需要<code class="command">REINDEX</code>以修复文本列上现有索引。</p></li><li class="listitem"><p>    修复<code class="command">VACUUM FULL</code>中极端情况错误(Tom)</p><p>      8.2中介绍了不同的系统目录中并发<code class="command">VACUUM FULL</code>操作之间的
潜在死锁。这已得到纠正。8.3执行的更糟糕，
因为死锁可能出现在关键代码部分，使其PANIC而不仅仅是ERROR条件。</p><p>    此外，<code class="command">VACUUM FULL</code>通过清理系统目录中途失败可能会导致并发数据库会话中缓存损坏。</p><p>   当处理没有活元组页的时候，
   8.3中介绍的另外一个<code class="command">VACUUM FULL</code>可能导致崩溃或者内存不足报告。
   </p></li><li class="listitem"><p>    修复涉及<code class="type">character</code>或者<code class="type">bit</code>列的外键检查错误操作(Tom)</p><p>    如果引用列不同除兼容类型（比如<code class="type">varchar</code>），那么错误强制约束。</p></li><li class="listitem"><p>    在无操作外键检查中避免不必要死锁错误(Stephan Szabo, Tom)</p></li><li class="listitem"><p>     当重新规划预备查询的时候，修复可能的核心转储(Tom)</p><p>   该错误只影响协议级别预备操作，而不是SQL <code class="command">PREPARE</code>，
   因此常常被认为JDBC, DBI以及大量使用预备语句的其它客户端驱动程序。</p></li><li class="listitem"><p>   当重新规划调用SPI使用函数的查询时，修复可能错误(Tom)</p></li><li class="listitem"><p>   修复逐行比较涉及不同数据类型列中的错误(Tom)</p></li><li class="listitem"><p>    修复长期存在的<code class="command">LISTEN</code>/<code class="command">NOTIFY</code>竞态条件(Tom)</p><p>  在极少数情况中执行<code class="command">LISTEN</code>的会话中可能无法得到通知，即使可以被预计，因为
  执行<code class="command">NOTIFY</code>的并发事务被观察后提交。</p><p>    该修复的负面效果是已经执行尚未提交的<code class="command">LISTEN</code>命令的事务
将不能看到任何<code class="structname">pg_listener</code>中<code class="command">LISTEN</code>行,
应该选择查看；之前可能会。这种操作从来没有记录一种方式或者其它，
但是可能某些应用程序依赖于旧操作。 </p></li><li class="listitem"><p>   在一个预备事务中不允许<code class="command">LISTEN</code>和<code class="command">UNLISTEN</code>(Tom)</p><p>    之前这是被允许的，但是尝试执行它有各种不好的结果，尤其是原始后台不能退出
只要<code class="command">UNLISTEN</code>没有提交。</p></li><li class="listitem"><p>   不允许删除预备事务中临时表(Heikki)</p><p>  8.1中不允许，但是在8.2和8.3中无意中损坏了该检查。</p></li><li class="listitem"><p>     当在使用哈希索引的查询中发生错误的时候，修复罕见崩溃(Heikki)</p></li><li class="listitem"><p>   修复<code class="type">tsquery</code>值的不正确比较(Teodor)</p></li><li class="listitem"><p>    修复单字节编码中非ASCII字符<code class="literal">LIKE</code>不正确操作(Rolf Jentsch)</p></li><li class="listitem"><p>    禁用<code class="function">xmlvalidate</code> (Tom)</p><p>    该函数应该在8.3版本之前删除，但是无意中留在源代码中。它造成小的安全风险，
因为未授权用户可以使用它读取访问服务器任何文件的前几个字符。
</p></li><li class="listitem"><p>     修复集合返回函数的某些用法的内存泄露(Neil)</p></li><li class="listitem"><p>   使用<code class="function">encode(<em class="replaceable"><code>bytea</code></em>, 'escape')</code>转换所有
   高位字节值到<code class="literal">\</code><em class="replaceable"><code>nnn</code></em>八进制转义序列(Tom) </p><p>    当数据库编码是多字节时，有必要避免编码问题。
这种变化可能为预期从<code class="function">encode</code>中指定结果的应用中产生兼容问题。</p></li><li class="listitem"><p>   修复公元前2月29号日期时间值的输入(Tom) </p><p>    关于哪一年是闰年前者编码是错误的。</p></li><li class="listitem"><p>     修复<code class="command">ALTER OWNER</code>的一些变量中<span class="quote">“<span class="quote">未知节点类型</span>”</span>错误(Tom) </p></li><li class="listitem"><p>    避免<code class="command">CREATE TABLE LIKE INCLUDING INDEXES</code>中表空间权限错误(Tom)</p></li><li class="listitem"><p>    当中断锁等待的时候，确保<code class="structname">pg_stat_activity</code>.<code class="structfield">waiting</code>标志被清除(Tom)</p></li><li class="listitem"><p>    修复Windows Vista上进程权限的处理(Dave, Magnus)</p><p>    特别是，这个修复允许作为管理员用户启动服务器。</p></li><li class="listitem"><p>    更新时区数据文件到<span class="application">tzdata</span>发布2008a（尤其是，最近Chile变化）；
调整时区缩写<code class="literal">VET</code> (Venezuela)意味着UTC-4:30, not UTC-4:00 (Tom)</p></li><li class="listitem"><p>    修复数组<span class="application">ecpg</span>问题(Michael) </p></li><li class="listitem"><p>    修复<span class="application">pg_ctl</span>以正确从命令行选项中提取postmaster的端口号(Itagaki Takahiro, Tom)</p><p>   之前，<code class="literal">pg_ctl start -w</code>可能尝试联系错误端口上postmaster，
   导致启动错误的虚假报告。</p></li><li class="listitem"><p>   使用<code class="option">-fwrapv</code>防御最近<span class="application">gcc</span>版本中可能的错误优化(Tom) </p><p>    当使用<span class="application">gcc</span> 4.3或者更高版本编译<span class="productname">PostgreSQL</span>的时候，
这是必要的。</p></li><li class="listitem"><p>   启动使用MSVC 编译<code class="filename">contrib/uuid-ossp</code>(Hiroshi Saito)</p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-3-2.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-3.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.176. 版本8.3.2 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.178. 版本8.3</td></tr></table></div></body></html>
