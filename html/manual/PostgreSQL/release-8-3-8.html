<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.170. 版本8.3.8</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-8-3-9.html" title="E.169. 版本8.3.9" /><link rel="next" href="release-8-3-7.html" title="E.171. 版本8.3.7" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.170. 版本8.3.8</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-8-3-9.html" title="E.169. 版本8.3.9">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-8-3-7.html" title="E.171. 版本8.3.7">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-8-3-8"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.170. 版本8.3.8</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-8-3-8.html#idp78551424">E.170.1. 迁移到版本8.3.8</a></span></dt><dt><span class="sect2"><a href="release-8-3-8.html#idp78553424">E.170.2. 变化</a></span></dt></dl></div><p><strong>发布日期：. </strong>2009-09-09</p><p>    该发布包含来自8.3.7中各种修复。关于8.3主要发布中新特性信息，
参阅<a class="xref" href="release-8-3.html" title="E.178. 版本8.3">第 E.178 节</a>。</p><div class="sect2" id="idp78551424"><div class="titlepage"><div><div><h3 class="title">E.170.1. 迁移到版本8.3.8</h3></div></div></div><p>    运行8.3.X不需要备份/恢复。然而，如果你在<code class="type">interval</code>列上有
任何哈希索引，你必须在更新到8.3.8之后<code class="command">REINDEX</code>它们。
另外，如果你从8.3.5更早版本更新，参阅8.3.5发布说明。</p></div><div class="sect2" id="idp78553424"><div class="titlepage"><div><div><h3 class="title">E.170.2. 变化</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>    修复Windows共享内存分配代码(Tsutomu Yamada, Magnus)</p><p>   该错误导致经常报道的<span class="quote">“<span class="quote">无法重新连接到共享内存</span>”</span>错误消息。</p></li><li class="listitem"><p>    在<code class="function">pg_start_backup()</code>期间强制WAL段切换(Heikki)</p><p>    这避免了可能使得基础备份无法使用的一种情况。</p></li><li class="listitem"><p>    在安全定义函数中不允许<code class="command">RESET ROLE</code>和
<code class="command">RESET SESSION AUTHORIZATION</code>(Tom, Heikki)</p><p>   这包含了之前补丁中忽略的一种情况，即在安全定义函数中不允许<code class="command">SET ROLE</code>和
   <code class="command">SET SESSION AUTHORIZATION</code> (参阅CVE-2007-6600)</p></li><li class="listitem"><p>   使得已加载的加载模块的<code class="command">LOAD</code>为空操作(Tom)</p><p>   之前，<code class="command">LOAD</code>尝试卸载并且重新加载模块，但是这是不安全的并且不是所有都有用。</p></li><li class="listitem"><p>   在LDAP身份认证期间不允许空密码(Magnus)</p></li><li class="listitem"><p>     修复在外部层聚合函数的参数中的子SELECT处理(Tom)</p></li><li class="listitem"><p>     修复从排序或物化规划节点输出中获取整行值相关联的错误(Tom)</p></li><li class="listitem"><p>   避免<code class="varname">synchronize_seqscans</code>改变滚动结果和<code class="literal">WITH HOLD</code>游标(Tom) </p></li><li class="listitem"><p>    当在AND或者OR列表中有超过100子句的时候，
恢复规划器改变无效部分索引和限制排除优化(Tom)
</p></li><li class="listitem"><p>   为数据类型<code class="type">interval</code>修复哈希计算(Tom)</p><p>     为区间值上哈希连接纠正错误结果。
这也改变了区间列哈希索引的内容。
如果您有任何这样的索引，你必须更新后<code class="command">REINDEX</code>它们。</p></li><li class="listitem"><p>   将<code class="function">to_char(..., 'TH')</code>作为带有<code class="literal">'HH'</code>/<code class="literal">'HH12'</code> 后缀的大写字母序数(Heikki)</p><p>   它之前作为<code class="literal">'th'</code> (小写)被处理。</p></li><li class="listitem"><p>    当<em class="replaceable"><code>x</code></em>超过2百万，并且整数日期在使用中的时候，
修复<code class="literal">INTERVAL '<em class="replaceable"><code>x</code></em> ms'</code>溢出(Alex Hunsaker)</p></li><li class="listitem"><p>   修复点和线段之间距离的计算(Tom)</p><p>    这导致来自一些几何算子的不正确结果。</p></li><li class="listitem"><p>   修复<code class="type">money</code>数据类型以便在货币量没有小数位数的情况下执行，比如Japan(Itagaki Takahiro)</p></li><li class="listitem"><p>    修复模式包含<code class="literal">%_</code>情况下的<code class="literal">LIKE</code> (Tom)</p></li><li class="listitem"><p>   正确四舍五入日期输入比如<code class="literal">00:12:57.9999999999999999999999999999</code> (Tom)</p></li><li class="listitem"><p>    修复XML操作中内存泄露(Tom)</p></li><li class="listitem"><p>     修复GiST R-tree操作符类中页面分割点的错误选择(Teodor)</p></li><li class="listitem"><p>   确保<span class="quote">“<span class="quote">fast shutdown</span>”</span>请求将强制终止打开会话，
   即使<span class="quote">“<span class="quote">smart shutdown</span>”</span>已经在进行中(Fujii Masao)</p></li><li class="listitem"><p>    当输入值（基本）按排序顺序时，避免批量插入到GIN索引中性能下降(Tom)</p></li><li class="listitem"><p>    在PL/pgSQL中的某些情况下正确执行NOT NULL域限制(Tom)</p></li><li class="listitem"><p>    修复plperl初始化中可移植性问题(Andrew Dunstan)</p></li><li class="listitem"><p>   如果<code class="filename">postgresql.conf</code>是空的，修复<span class="application">pg_ctl</span>不进入
   无限循环(Jeff Davis)</p></li><li class="listitem"><p>    当有许多大对象的时候，提高<span class="application">pg_dump</span>的效率(Tamas Vincze)</p></li><li class="listitem"><p>    使用<code class="literal">SIGUSR1</code>而不是<code class="literal">SIGQUIT</code>作为<span class="application">pg_standby</span>故障信号(Heikki)</p></li><li class="listitem"><p>    使用<span class="application">pg_standby</span>的<code class="literal">maxretries</code>选项作为记录(Fujii Masao)</p></li><li class="listitem"><p>    当键或者值太长而不适合它的数据结构的时候，而不是默默地截断它，
那么<code class="filename">contrib/hstore</code>抛出一个错误。</p></li><li class="listitem"><p>    修复<code class="filename">contrib/xml2</code>的<code class="function">xslt_process()</code>用来正确处理参数的最大数（20）(Tom)</p></li><li class="listitem"><p>   提高<span class="application">libpq</span>代码鲁棒性以恢复<code class="command">COPY FROM STDIN</code>中错误(Tom)</p></li><li class="listitem"><p>   当安装两个库的时候，避免包含readline和editline头文件冲突(Zdenek Kotala)</p></li><li class="listitem"><p>    为Bangladesh, Egypt, Jordan, Pakistan,
      Argentina/San_Luis, Cuba, Jordan（历史修正） Mauritius, Morocco, Palestine, Syria, Tunisia
  中DST变化更新时区数据文件到<span class="application">tzdata</span> 发布2009l。
  </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-8-3-9.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-8-3-7.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.169. 版本8.3.9 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.171. 版本8.3.7</td></tr></table></div></body></html>
