<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.20. 版本 9.5</title><link rel="stylesheet" type="text/css" href="../../0/stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-5-1.html" title="E.19. 版本 9.5.1" /><link rel="next" href="release-9-4-15.html" title="E.21. 版本 9.4.15" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.20. 版本 9.5</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-5-1.html" title="E.19. 版本 9.5.1">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="附录 E. 版本说明">上一级</a></td><th width="60%" align="center">附录 E. 版本说明</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.1 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="release-9-4-15.html" title="E.21. 版本 9.4.15">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-9-5"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.20. 版本 9.5</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-9-5.html#idp66056480">E.20.1. 概述</a></span></dt><dt><span class="sect2"><a href="release-9-5.html#idp66071024">E.20.2. 迁移到版本 9.5</a></span></dt><dt><span class="sect2"><a href="release-9-5.html#idp66120192">E.20.3. 变化</a></span></dt></dl></div><p><strong>发布日期. </strong>2016-01-07</p><div class="sect2" id="idp66056480"><div class="titlepage"><div><div><h3 class="title">E.20.1. 概述</h3></div></div></div><p>




    <span class="productname">PostgreSQL</span> 9.5中的主要改进包括：
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      允许<a class="link" href="sql-insert.html#SQL-ON-CONFLICT" title="ON CONFLICT 子句"><code class="command">INSERT</code></a>
      将生成约束冲突转换为<code class="command">UPDATE</code>或者忽略
     </p></li><li class="listitem"><p>      添加<code class="literal">GROUP BY</code>分析特征<a class="link" href="queries-table-expressions.html#QUERIES-GROUPING-SETS" title="7.2.4. GROUPING SETS、CUBE和ROLLUP"><code class="literal">GROUPING SETS</code></a>、
      <a class="link" href="queries-table-expressions.html#QUERIES-GROUPING-SETS" title="7.2.4. GROUPING SETS、CUBE和ROLLUP"><code class="literal">CUBE</code></a>和
      <a class="link" href="queries-table-expressions.html#QUERIES-GROUPING-SETS" title="7.2.4. GROUPING SETS、CUBE和ROLLUP"><code class="literal">ROLLUP</code></a>
     </p></li><li class="listitem"><p>


      添加<a class="link" href="ddl-rowsecurity.html" title="5.7. 行安全性策略">行级安全控制</a>
     </p></li><li class="listitem"><p>
      创建用于跟踪<a class="link" href="replication-origins.html" title="第 49 章 复制进度追踪">复制进程</a>的机制，
      包括在逻辑复制期间识别各个变化的起源的方法
     </p></li><li class="listitem"><p>



      添加<a class="link" href="brin.html" title="第 65 章 BRIN 索引">块范围索引</a> (<acronym class="acronym">BRIN</acronym>)
     </p></li><li class="listitem"><p>

      大幅提高了排序的性能
     </p></li><li class="listitem"><p>

      多CPU机器的主要性能改进
     </p></li></ul></div><p>

    上述项目在下面的部分中更详细地解释。
   </p></div><div class="sect2" id="idp66071024"><div class="titlepage"><div><div><h3 class="title">E.20.2. 迁移到版本 9.5</h3></div></div></div><p>    那些希望从任意以前的版本中迁移数据的用户需要使用
    <a class="xref" href="app-pg-dumpall.html" title="pg_dumpall"><span class="refentrytitle"><span class="application">pg_dumpall</span></span></a>或使用<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>
    转储/恢复。
   </p><p>    版本9.5包含一些可能影响与以前版本兼容性的修改。
    注意下列的不兼容：
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      调整<a class="link" href="sql-syntax-lexical.html#SQL-PRECEDENCE" title="4.1.6. 操作符优先级">操作符优先级</a>
      以匹配<acronym class="acronym">SQL</acronym>标准 (Tom Lane)
     </p><p>      <code class="literal">&lt;=</code>、<code class="literal">&gt;=</code>和<code class="literal">&lt;&gt;</code>
      的优先级已经减少到与<code class="literal">&lt;</code>、<code class="literal">&gt;</code>
      和<code class="literal">=</code>匹配。<code class="literal">IS</code>测试的优先级（例如，
      <em class="replaceable"><code>x</code></em> <code class="literal">IS NULL</code>）已经减少到刚好低于这六个比较运算符。
      此外，以<code class="literal">NOT</code>开头的多关键字运算符现在具有其基本运算符的优先级
      （例如，<code class="literal">NOT BETWEEN</code>现在具有与<code class="literal">BETWEEN</code>相同的优先级），
      而在它们具有不一致的优先级之前，相对于它们的左操作数，表现得像<code class="literal">NOT</code>，
      但是相对于它们的右操作数，它们类似于它们的基本操作符。
      可以启用新的配置参数<a class="xref" href="runtime-config-compatible.html#GUC-OPERATOR-PRECEDENCE-WARNING">operator_precedence_warning</a>
      以警告有关这些优先级更改导致不同解析选择的查询。
     </p></li><li class="listitem"><p>
      将<a class="xref" href="app-pg-ctl.html" title="pg_ctl"><span class="refentrytitle"><span class="application">pg_ctl</span></span></a>的缺省关闭模式从<code class="literal">smart</code>
      改为<code class="literal">fast</code> (Bruce Momjian)
     </p><p>

      这意味着默认行为将强制取消现有的数据库会话，而不是简单地等待他们退出。
     </p></li><li class="listitem"><p>
      在<span class="application">PL/pgSQL</span>分配中对数据类型转换使用赋值转换行为，
      而不是转换为文本转换 (Tom Lane)
     </p><p>

      此更改会导致布尔转换为字符串产生<code class="literal">true</code>或<code class="literal">false</code>，
      而不是<code class="literal">t</code>或<code class="literal">f</code>。其他类型转换可能比以前在更多的情况下成功;
      例如，向整数变量分配数值<code class="literal">3.9</code>现在将分配4而不是失败。
      如果没有为特定的源和目标类型定义分配等级转换，则<span class="application">PL/pgSQL</span>
      将回退到其旧的I/O转换行为。
     </p></li><li class="listitem"><p>


      允许<a class="link" href="libpq-connect.html#LIBPQ-CONNECT-OPTIONS">服务器命令行选项</a>
      中的字符用反斜杠转义 (Andres Freund)
     </p><p>      以前，选项字符串中的空格总是分隔开的选项，因此没有办法在选项值中包含空格。
      在选项值中包含反斜杠现在需要写入<code class="literal">\\</code>。
     </p></li><li class="listitem"><p>      修改GSSAPI <a class="link" href="auth-methods.html#GSSAPI-AUTH" title="20.3.3. GSSAPI 认证"><code class="varname">include_realm</code></a>
      参数的缺省值为1，所以缺省情况下，范围不会从<acronym class="acronym">GSS</acronym>
      或<acronym class="acronym">SSPI</acronym>主体名称中删除 (Stephen Frost)
     </p></li><li class="listitem"><p>      用<a class="xref" href="runtime-config-wal.html#GUC-MIN-WAL-SIZE">min_wal_size</a>和<a class="xref" href="runtime-config-wal.html#GUC-MAX-WAL-SIZE">max_wal_size</a>
      替换配置参数<code class="varname">checkpoint_segments</code> (Heikki Linnakangas)
     </p><p>      如果您先前调整了<code class="varname">checkpoint_segments</code>，
      以下公式将为您提供大致相等的设置:
</p><pre class="programlisting">max_wal_size = (3 * checkpoint_segments) * 16MB</pre><p>
      请注意，<code class="varname">max_wal_size</code>的默认设置远高于之前的默认值
      <code class="varname">checkpoint_segments</code>，因此可能不再需要进行调整。
     </p></li><li class="listitem"><p>


        通过新的环境变量<a class="link" href="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT" title="18.4.4. Linux 内存过量使用"><code class="envar">PG_OOM_ADJUST_FILE</code></a>和
        <a class="link" href="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT" title="18.4.4. Linux 内存过量使用"><code class="envar">PG_OOM_ADJUST_VALUE</code></a>
        控制Linux <acronym class="acronym">OOM</acronym> killer，而不是编译时选项<code class="literal">LINUX_OOM_SCORE_ADJ</code>
        和<code class="literal">LINUX_OOM_ADJ</code>
        (Gurjeet Singh)
       </p></li><li class="listitem"><p>

      停用服务器配置参数<code class="varname">ssl_renegotiation_limit</code>，
      在早期版本中已弃用 (Andres Freund)
     </p><p>

      虽然SSL重新协商在理论上是一个好主意，
      但它已经导致足够的错误在实践中被认为是一个净负面，
      并且它是由于从相关标准的未来版本中删除。因此，
      我们已从<span class="productname">PostgreSQL</span>中删除了对它的支持。
      <code class="varname">ssl_renegotiation_limit</code>参数仍然存在，
      但不能设置为零（禁用）。也不再记录它了。
     </p></li><li class="listitem"><p>


      删除服务器配置参数<code class="varname">autocommit</code>，它早已被弃用和不可操作 (Tom Lane)
     </p></li><li class="listitem"><p>

      删除<a class="link" href="catalog-pg-authid.html" title="51.8. pg_authid"><code class="structname">pg_authid</code></a>
      目录的<code class="structfield">rolcatupdate</code>字段，因为它没什么用处了
      (Adam Brightwell)
     </p></li><li class="listitem"><p>

      <a class="link" href="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE" title="表 28.2. 已收集统计信息的视图"><code class="structname">pg_stat_replication</code></a>
      系统视图的<code class="structfield">sent</code>字段在它没有有效值时，现在是NULL，不是零 (Magnus Hagander)
     </p></li><li class="listitem"><p>





      允许<code class="type">json</code>和<code class="type">jsonb</code>数组提取运算符接受负下标，
      从JSON数组的末尾开始计数
      (Peter Geoghegan, Andrew Dunstan)
     </p><p>      以前，这些运算符为负的下标返回<code class="literal">NULL</code>。
     </p></li></ul></div></div><div class="sect2" id="idp66120192"><div class="titlepage"><div><div><h3 class="title">E.20.3. 变化</h3></div></div></div><p>    下面您将看到<span class="productname">PostgreSQL</span>
    9.5和以前的主要版本之间的更改的详细信息。
   </p><div class="sect3" id="idp66121776"><div class="titlepage"><div><div><h4 class="title">E.20.3.1. 服务器</h4></div></div></div><div class="sect4" id="idp66122192"><div class="titlepage"><div><div><h5 class="title">E.20.3.1.1. 索引</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        新增<a class="link" href="brin.html" title="第 65 章 BRIN 索引">Block Range Indexes</a> (<acronym class="acronym">BRIN</acronym>)
        (Álvaro Herrera)
       </p><p>





        <acronym class="acronym">BRIN</acronym>索引仅存储堆块范围的汇总数据（如最小值和最大值）。
        因此，它们非常紧凑和便宜更新; 但是如果数据是自然聚类的，
        它们仍然可以提供大量的搜索加速。
       </p></li><li class="listitem"><p>
        允许查询使用<a class="link" href="gist.html" title="第 62 章 GiST 索引">GiST</a>索引对边界框索引对象
        （多边形，圆）执行精确的距离过滤 (Alexander Korotkov, Heikki
        Linnakangas)
       </p><p>





        以前，为了利用这样的索引，必须使用子查询来选择通过边界框距离排序的大量行，
        并且然后必须用更精确的距离计算进一步过滤结果。
       </p></li><li class="listitem"><p>

        允许<a class="link" href="gist.html" title="第 62 章 GiST 索引">GiST</a>索引执行仅索引的扫描
        (Anastasia Lubennikova, Heikki Linnakangas, Andreas Karlsson)
       </p></li><li class="listitem"><p>
        添加配置参数<a class="xref" href="runtime-config-client.html#GUC-GIN-PENDING-LIST-LIMIT">gin_pending_list_limit</a>
        控制<acronym class="acronym">GIN</acronym>待处理列表的大小 (Fujii Masao)
       </p><p>

        此值也可以基于每个索引设置为索引存储参数。以前，待处理列表大小由
        <a class="xref" href="runtime-config-resource.html#GUC-WORK-MEM">work_mem</a>控制，这是尴尬的，因为
        <code class="varname"> work_mem </code>的适当值通常太大，无法实现此目的。
       </p></li><li class="listitem"><p>
        在创建<a class="link" href="indexes-types.html" title="11.2. 索引类型">hash</a>索引期间发出警告，
        因为它们不是崩溃安全的 (Bruce Momjian)
       </p></li></ul></div></div><div class="sect4" id="idp66133472"><div class="titlepage"><div><div><h5 class="title">E.20.3.1.2. 一般性能</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>


        通过<span class="quote">“<span class="quote">abbreviated</span>”</span>关键字提升<code class="type">varchar</code>、
        <code class="type">text</code>和<code class="type">numeric</code>字段的排序顺序
        (Peter Geoghegan, Andrew Gierth, Robert Haas)
       </p></li><li class="listitem"><p>

        扩展基础架构允许通过内联执行排序，非<acronym class="acronym">SQL</acronym>
        可调用比较函数覆盖<code class="command">CREATE INDEX</code>，<code class="command">REINDEX</code>
        和<code class="command">CLUSTER</code> (Peter Geoghegan)
       </p></li><li class="listitem"><p>

        提高散列连接的性能 (Tomas Vondra, Robert Haas)
       </p></li><li class="listitem"><p>

        提高共享缓冲区替换的并发性
        (Robert Haas, Amit Kapila, Andres Freund)
       </p></li><li class="listitem"><p>


        在索引扫描期间减少页锁和引脚数 (Kevin Grittner)
       </p><p>
        这样做的主要好处是允许不太频繁的阻塞索引清空。
       </p></li><li class="listitem"><p>


        使缓冲器针脚的后端跟踪更具记忆效率
        (Andres Freund)
       </p></li><li class="listitem"><p>

        提高锁可扩展性 (Andres Freund)
       </p><p>        这尤其涉及在具有多个<acronym class="acronym">CPU</acronym>套接字的系统上运行时的可扩展性问题。
       </p></li><li class="listitem"><p>



        允许优化程序删除对左连接子查询的不必要引用 (David Rowley)
       </p></li><li class="listitem"><p>        适当时，允许使用<a class="link" href="tutorial-window.html" title="3.5. 窗口函数">窗口函数</a>
        将查询限制下推到子查询中
        (David Rowley)
       </p></li><li class="listitem"><p>
        如果该功能未接收到任何视图输出列，
        则允许将防漏功能下推到安全屏障视图中 (Dean Rasheed)
       </p></li><li class="listitem"><p>



        当匹配的函数调用出现在<code class="literal">WHERE</code>中时，
        教导计划器使用从布尔返回函数的表达式索引获得的统计信息。 (Tom Lane)
       </p></li><li class="listitem"><p>

        使<code class="command">ANALYZE</code>计算基本统计（空分数和平均列宽），
        即使对于数据类型缺少等式函数的列 (Oleksandr Shulgin)
       </p></li><li class="listitem"><p>

        加速<acronym class="acronym">CRC</acronym>（循环冗余校验）计算并切换到CRC-32C
        (Abhijit Menon-Sen, Heikki Linnakangas)
       </p></li><li class="listitem"><p>

        提高位图索引扫描性能 (Teodor Sigaev, Tom Lane)
       </p></li><li class="listitem"><p>




        通过避免不必要的内存复制加速<code class="command">CREATE INDEX</code> (Robert Haas)
       </p></li><li class="listitem"><p>

        增加缓冲区映射分区的数量 (Amit Kapila,
        Andres Freund, Robert Haas)
       </p><p>

        这提高了高并发工作负载的性能。
       </p></li></ul></div></div><div class="sect4" id="idp66152688"><div class="titlepage"><div><div><h5 class="title">E.20.3.1.3. 监控</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        通过新的<code class="varname">log_min_autovacuum_duration</code>
        存储参数添加每表自动记录日志控制
        (Michael Paquier)
       </p></li><li class="listitem"><p>




        添加新的配置参数<a class="xref" href="runtime-config-logging.html#GUC-CLUSTER-NAME">cluster_name</a>
        (Thomas Munro)
       </p><p>

        通常在<a class="link" href="config-setting.html#CONFIG-SETTING-CONFIGURATION-FILE" title="19.1.2. 通过配置文件影响参数"><code class="filename">postgresql.conf</code></a>
        中设置的此字符串，允许客户端标识集群。该名称也显示在所有服务器进程的进程标题中，
        从而可以更轻松地识别属于同一集群的进程。
       </p></li><li class="listitem"><p>



        阻止非超级用户在连接启动时修改<a class="xref" href="runtime-config-logging.html#GUC-LOG-DISCONNECTIONS">log_disconnections</a> (Fujii Masao)
       </p></li></ul></div></div><div class="sect4" id="idp66158752"><div class="titlepage"><div><div><h5 class="title">E.20.3.1.4. <acronym class="acronym">SSL</acronym></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>


        检查<acronym class="acronym">SSL</acronym>服务器证书中的<a class="link" href="libpq-ssl.html" title="33.18. SSL 支持"><span class="quote">“<span class="quote">Subject Alternative
        Names</span>”</span></a>，如果有
        (Alexey Klyukin)
       </p><p>
        当它们存在时，它将替换对证书的<span class="quote">“<span class="quote">公用名称</span>”</span>的检查。
       </p></li><li class="listitem"><p>

        添加系统视图<a class="link" href="monitoring-stats.html#PG-STAT-SSL-VIEW" title="表 28.8. pg_stat_ssl 视图"><code class="structname">pg_stat_ssl</code></a>报告
        <acronym class="acronym">SSL</acronym>连接信息 (Magnus Hagander)
       </p></li><li class="listitem"><p>


        添加<span class="application">libpq</span>函数以独立于实现的方式返回<acronym class="acronym">SSL</acronym>信息 (Heikki Linnakangas)
       </p><p>


        虽然<a class="link" href="libpq-status.html#LIBPQ-PQGETSSL"><code class="function">PQgetssl()</code></a>
        仍可用于调用<span class="productname">OpenSSL</span>函数，但现在被视为已弃用，
        因为<span class="application">libpq</span>的未来版本可能支持其他<acronym class="acronym">SSL</acronym>实现。
        如有可能，请使用新函数<a class="link" href="libpq-status.html#LIBPQ-PQSSLATTRIBUTE"><code class="function">PQsslAttribute()</code></a>、<a class="link" href="libpq-status.html#LIBPQ-PQSSLATTRIBUTENAMES"><code class="function">PQsslAttributeNames()</code></a>
        和<a class="link" href="libpq-status.html#LIBPQ-PQSSLINUSE"><code class="function">PQsslInUse()</code></a>
        以<acronym class="acronym">SSL</acronym>实现无关的方式获得<acronym class="acronym">SSL</acronym>信息。
       </p></li><li class="listitem"><p>

        使<span class="application">libpq</span>遵循任何<span class="productname">OpenSSL</span>
        线程回调 (Jan Urbanski)
       </p><p>

        以前，他们是被重写的。
       </p></li></ul></div></div><div class="sect4" id="idp66176224"><div class="titlepage"><div><div><h5 class="title">E.20.3.1.5. 服务器设置</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>


        用<a class="xref" href="runtime-config-wal.html#GUC-MIN-WAL-SIZE">min_wal_size</a>和<a class="xref" href="runtime-config-wal.html#GUC-MAX-WAL-SIZE">max_wal_size</a>
        替换配置参数<code class="varname">checkpoint_segments</code> (Heikki Linnakangas)
       </p><p>

        这个改变允许分配大量的<acronym class="acronym">WAL</acronym>文件，
        而不需要在它们不再需要时保留它们。因此，<code class="varname">max_wal_size</code>
        的默认值设置为<code class="literal">1GB</code>，远远大于<code class="varname">checkpoint_segments</code>
        的旧默认值。另请注意，备用服务器执行重新启动点，
        以尝试将其WAL空间消耗限制为<code class="varname">max_wal_size</code>; 
        以前他们没有注意<code class="varname">checkpoint_segments</code>。
       </p></li><li class="listitem"><p>

        通过新的环境变量<a class="link" href="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT" title="18.4.4. Linux 内存过量使用"><code class="envar">PG_OOM_ADJUST_FILE</code></a>
        和<a class="link" href="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT" title="18.4.4. Linux 内存过量使用"><code class="envar">PG_OOM_ADJUST_VALUE</code></a>
        控制Linux <acronym class="acronym">OOM</acronym> killer
        (Gurjeet Singh)
       </p><p>

        以前的<acronym class="acronym">OOM</acronym>控制基础设施涉及编译时选项
        <code class="literal">LINUX_OOM_SCORE_ADJ</code>和<code class="literal">LINUX_OOM_ADJ</code>，
        其不再被支持。新行为在所有构建中都可用。
       </p></li><li class="listitem"><p>

        允许启用配置参数<a class="xref" href="runtime-config-replication.html#GUC-TRACK-COMMIT-TIMESTAMP">track_commit_timestamp</a>
        时记录事务提交时间戳 (Álvaro Herrera, Petr Jelínek)
       </p><p>

        使用函数<a class="link" href="functions-info.html#FUNCTIONS-COMMIT-TIMESTAMP" title="表 9.71. 已提交事务信息"><code class="function">pg_xact_commit_timestamp()</code></a>
        和<code class="function">pg_last_committed_xact()</code>可以访问时间戳信息。
       </p></li><li class="listitem"><p>


        允许通过<code class="command">ALTER ROLE SET</code>设置
        <a class="xref" href="runtime-config-client.html#GUC-LOCAL-PRELOAD-LIBRARIES">local_preload_libraries</a>
        (Peter Eisentraut, Kyotaro Horiguchi)
       </p></li><li class="listitem"><p>

        允许<a class="link" href="routine-vacuuming.html#AUTOVACUUM" title="24.1.6. 自动清理后台进程">autovacuum workers</a>
        在运行期间响应配置参数修改
        (Michael Paquier)
       </p></li><li class="listitem"><p>

        使配置参数<a class="xref" href="runtime-config-preset.html#GUC-DEBUG-ASSERTIONS">debug_assertions</a>只读
        (Andres Freund)
       </p><p>

        这意味着，如果在编译时启用断言，则不能再关闭断言，从而实现更高效的代码优化。
        此更改也会删除<a class="link" href="app-postgres.html#APP-POSTGRES-OPTIONS" title="选项">postgres</a> <code class="option">-A</code>选项。
       </p></li><li class="listitem"><p>
        允许在没有任何影响的系统上设置
        <a class="xref" href="runtime-config-resource.html#GUC-EFFECTIVE-IO-CONCURRENCY">effective_io_concurrency</a> (Peter Eisentraut)
       </p></li><li class="listitem"><p>


        允许系统视图<a class="link" href="view-pg-file-settings.html" title="51.69. pg_file_settings"><code class="structname">pg_file_settings</code></a>
        显示服务器配置文件的内容
        (Sawada Masahiko)
       </p></li><li class="listitem"><p>        添加<code class="structname">pending_restart</code>到系统视图<a class="link" href="view-pg-settings.html" title="51.85. pg_settings"><code class="structname">pg_settings</code></a>，
        表示已进行更改，但在数据库重新启动后才会生效 (Peter Eisentraut)
       </p></li><li class="listitem"><p>
        允许<a class="link" href="sql-altersystem.html" title="ALTER SYSTEM"><code class="command">ALTER SYSTEM</code></a>
        值使用<code class="command">ALTER SYSTEM RESET</code>重新设置 (Vik
        Fearing)
       </p><p>



        这个命令从<code class="filename">postgresql.auto.conf</code>中删除了指定设置。
       </p></li></ul></div></div></div><div class="sect3" id="idp66206192"><div class="titlepage"><div><div><h4 class="title">E.20.3.2. 复制和恢复</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        创建追踪<a class="link" href="replication-origins.html" title="第 49 章 复制进度追踪">复制进程</a>的机制，
        包括用于在逻辑复制期间识别个体变化的起源的方法 (Andres Freund)
       </p><p>

        这在实施复制解决方案时很有用。
       </p></li><li class="listitem"><p>

        重做截断multixact提交日志以正确WAL记录 (Andres Freund)
       </p><p>



        这使得事情显得更简单和更健壮。
       </p></li><li class="listitem"><p>

        添加<a class="link" href="recovery-config.html" title="第 27 章 恢复配置"><code class="filename">recovery.conf</code></a>
        参数<a class="link" href="recovery-target-settings.html#RECOVERY-TARGET-ACTION"><code class="varname">recovery_target_action</code></a>
        以控制恢复后活动 (Petr Jelínek)
       </p><p>

        这替换了旧参数<code class="varname">pause_at_recovery_target</code>。
       </p></li><li class="listitem"><p>

        添加新的<a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-MODE">archive_mode</a>值
        <code class="literal">always</code>，允许备用服务器总是归档接收到的
        <acronym class="acronym">WAL</acronym>文件 (Fujii Masao)
       </p></li><li class="listitem"><p>





        添加配置参数<a class="xref" href="runtime-config-replication.html#GUC-WAL-RETRIEVE-RETRY-INTERVAL">wal_retrieve_retry_interval</a>，
        控制<acronym class="acronym">WAL</acronym>读取在失败后重试
        (Alexey Vasiliev, Michael Paquier)
       </p><p>

        这对于热备份特别有用。
       </p></li><li class="listitem"><p>

        允许压缩存储在<acronym class="acronym">WAL</acronym>中的全页图像
        (Rahila Syed, Michael Paquier)
       </p><p>

        此功能减少了WAL体积，以花费在WAL日志和WAL重放上的更多CPU时间为代价。
        它由一个新的配置参数<a class="xref" href="runtime-config-wal.html#GUC-WAL-COMPRESSION">wal_compression</a>控制，
        该参数目前默认情况下是关闭的。
       </p></li><li class="listitem"><p>

        在备用服务器提升期间用后缀<code class="literal">.partial</code>归档
        <acronym class="acronym">WAL</acronym>文件 (Heikki Linnakangas)
       </p></li><li class="listitem"><p>

        添加配置参数<a class="xref" href="runtime-config-logging.html#GUC-LOG-REPLICATION-COMMANDS">log_replication_commands</a>
        记录复制命令 (Fujii Masao)
       </p><p>


        缺省的，复制命令，比如<a class="link" href="protocol-replication.html" title="52.4. 流复制协议"><code class="literal">IDENTIFY_SYSTEM</code></a>，
        是不记录的，即使<a class="xref" href="runtime-config-logging.html#GUC-LOG-STATEMENT">log_statement</a>
        设置为<code class="literal">all</code>。
       </p></li><li class="listitem"><p>

        在<a class="link" href="view-pg-replication-slots.html" title="51.80. pg_replication_slots"><code class="structname">pg_replication_slots</code></a>
        中报告持有复制槽的进程
        (Craig Ringer)
       </p><p>
        新的输出字段是<code class="structname">active_pid</code>。
       </p></li><li class="listitem"><p>


        允许<code class="filename">recovery.conf</code>的<a class="link" href="standby-settings.html#PRIMARY-CONNINFO"><code class="varname">primary_conninfo</code></a>
        设置为使用连接<acronym class="acronym">URI</acronym>，例如<code class="literal">postgres://</code>
        (Alexander Shulgin)
       </p></li></ul></div></div><div class="sect3" id="idp66231504"><div class="titlepage"><div><div><h4 class="title">E.20.3.3. 查询</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>




        允许会产生约束冲突的<a class="link" href="sql-insert.html#SQL-ON-CONFLICT" title="ON CONFLICT 子句"><code class="command">INSERT</code></a>s
        被转换为<code class="command">UPDATE</code>s或者忽略 (Peter Geoghegan, Heikki
        Linnakangas, Andres Freund)
       </p><p>

        语法是<code class="command">INSERT ... ON CONFLICT DO NOTHING/UPDATE</code>。
        这是<code class="command">UPSERT</code>命令的Postgres实现。
       </p></li><li class="listitem"><p>        添加<code class="literal">GROUP BY</code>分析功能<a class="link" href="queries-table-expressions.html#QUERIES-GROUPING-SETS" title="7.2.4. GROUPING SETS、CUBE和ROLLUP"><code class="literal">GROUPING SETS</code></a>、
        <a class="link" href="queries-table-expressions.html#QUERIES-GROUPING-SETS" title="7.2.4. GROUPING SETS、CUBE和ROLLUP"><code class="literal">CUBE</code></a>和
        <a class="link" href="queries-table-expressions.html#QUERIES-GROUPING-SETS" title="7.2.4. GROUPING SETS、CUBE和ROLLUP"><code class="literal">ROLLUP</code></a>
        (Andrew Gierth, Atri Sharma)
       </p></li><li class="listitem"><p>
        允许在<a class="link" href="sql-update.html" title="UPDATE"><code class="command">UPDATE</code></a>
        中设置多个来自单个子选择结果的目标列 (Tom Lane)
       </p><p>




        这是使用语法<code class="command">UPDATE tab SET
        (col1, col2, ...) = (SELECT ...)</code>完成的。
       </p></li><li class="listitem"><p>

        添加<a class="link" href="sql-select.html" title="SELECT"><code class="command">SELECT</code></a>选项
        <code class="literal">SKIP LOCKED</code>跳过锁定的行 (Thomas Munro)
       </p><p>


        这并不像<code class="literal">NOWAIT</code>那样为锁定的行抛出一个错误。
       </p></li><li class="listitem"><p>


        添加<a class="link" href="sql-select.html" title="SELECT"><code class="command">SELECT</code></a>选项
        <code class="literal">TABLESAMPLE</code>返回一个表的子设置 (Petr
        Jelínek)
       </p><p>
        此功能支持SQL标准表采样方法。此外，
        还有<a class="link" href="tablesample-method.html" title="第 57 章 编写一种表采样方法">用户定义的表抽样方法</a>。
       </p></li><li class="listitem"><p>




        为错误的列名称建议可能的匹配项 (Peter
        Geoghegan, Robert Haas)
       </p></li></ul></div></div><div class="sect3" id="idp66252080"><div class="titlepage"><div><div><h4 class="title">E.20.3.4. 实用命令</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>



        在<a class="link" href="sql-explain.html" title="EXPLAIN"><code class="command">EXPLAIN</code></a>
        输出中添加更多关于排序顺序的详细信息 (Marius Timmer,
        Lukas Kreft, Arne Scheffer)
       </p><p>


        详细信息包括<code class="literal">COLLATE</code>、<code class="literal">DESC</code>、
        <code class="literal">USING</code>和<code class="literal">NULLS FIRST</code><code class="literal">/LAST</code>。
       </p></li><li class="listitem"><p>


        让<a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM</code></a>
        记录由于引脚跳过的页面数 (Jim Nasby)
       </p></li><li class="listitem"><p>
        让<a class="link" href="sql-truncate.html" title="TRUNCATE"><code class="command">TRUNCATE</code></a>正确的更新
        <code class="literal">pg_stat</code>* 元组计数器 (Alexander Shulgin)
       </p></li></ul></div><div class="sect4" id="idp66262544"><div class="titlepage"><div><div><h5 class="title">E.20.3.4.1. <a class="xref" href="sql-reindex.html" title="REINDEX"><span class="refentrytitle">REINDEX</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        允许<code class="command">REINDEX</code>使用<code class="literal">SCHEMA</code>
        选项重新索引一个完整模式 (Sawada Masahiko)
       </p></li><li class="listitem"><p>        添加<code class="literal">VERBOSE</code>选项到<code class="command">REINDEX</code> (Sawada



        Masahiko)
       </p></li><li class="listitem"><p>



        阻止<code class="command">REINDEX DATABASE</code>和<code class="command">SCHEMA</code>
        输出对象名，除非使用了<code class="literal">VERBOSE</code>
        (Simon Riggs)
       </p></li><li class="listitem"><p>



        从<code class="command">REINDEX</code>中删除废弃的<code class="literal">FORCE</code>选项
        (Fujii Masao)
       </p></li></ul></div></div></div><div class="sect3" id="idp66271888"><div class="titlepage"><div><div><h4 class="title">E.20.3.5. 对象操作</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>


        添加<a class="link" href="ddl-rowsecurity.html" title="5.7. 行安全性策略">行级安全控制</a>
        (Craig Ringer, KaiGai Kohei, Adam Brightwell, Dean Rasheed,
        Stephen Frost)
       </p><p>
        此功能允许逐行控制哪些用户可以添加，修改或甚至查看表中的行。
        这是通过新的命令<a class="link" href="sql-createpolicy.html" title="CREATE POLICY"><code class="command">CREATE</code></a>/<a class="link" href="sql-alterpolicy.html" title="ALTER POLICY"><code class="command">ALTER</code></a>/<a class="link" href="sql-droppolicy.html" title="DROP POLICY"><code class="command">DROP POLICY</code></a>和<a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE ... ENABLE/DISABLE
        ROW SECURITY</code></a>来控制的。
       </p></li><li class="listitem"><p>



        在用<a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE ... SET LOGGED /
        UNLOGGED</code></a>创建之后，允许修改该表的<acronym class="acronym">WAL</acronym>
        登录状态 (Fabrízio de Royes Mello)
       </p></li><li class="listitem"><p>


        添加<code class="literal">IF NOT EXISTS</code>子句到<a class="link" href="sql-createtableas.html" title="CREATE TABLE AS"><code class="command">CREATE TABLE AS</code></a>、
        <a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX</code></a>、
        <a class="link" href="sql-createsequence.html" title="CREATE SEQUENCE"><code class="command">CREATE SEQUENCE</code></a>
        和<a class="link" href="sql-creatematerializedview.html" title="CREATE MATERIALIZED VIEW"><code class="command">CREATE
        MATERIALIZED VIEW</code></a> (Fabrízio de Royes Mello)
       </p></li><li class="listitem"><p>

        添加对<code class="literal">IF EXISTS</code>的支持到<a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE ... RENAME
        CONSTRAINT</code></a> (Bruce Momjian)
       </p></li><li class="listitem"><p>


        允许一些DDL命令接受<code class="literal">CURRENT_USER</code>或<code class="literal">SESSION_USER</code>，
        意为当前用户或会话用户，替换指定的用户名 (Kyotaro Horiguchi,
        Álvaro Herrera)
       </p><p>

        这个特性现在在
        <a class="xref" href="sql-alteruser.html" title="ALTER USER"><span class="refentrytitle">ALTER USER</span></a>、<a class="xref" href="sql-altergroup.html" title="ALTER GROUP"><span class="refentrytitle">ALTER GROUP</span></a>、
        <a class="xref" href="sql-alterrole.html" title="ALTER ROLE"><span class="refentrytitle">ALTER ROLE</span></a>、<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>
        和<code class="command">ALTER <em class="replaceable"><code>object</code></em> OWNER TO</code>命令中支持。
       </p></li><li class="listitem"><p>


        支持<a class="link" href="sql-createdomain.html" title="CREATE DOMAIN">域约束</a>上的注释 (Álvaro Herrera)
       </p></li><li class="listitem"><p>

        减少一些创建和更改触发器和外键命令的锁级别 (Simon Riggs, Andreas Karlsson)
       </p></li><li class="listitem"><p>


        对于在目标表上具有<code class="command">INSERT</code>权限的用户，
        允许<a class="link" href="sql-lock.html" title="LOCK"><code class="command">LOCK TABLE ... ROW EXCLUSIVE
        MODE</code></a> (Stephen Frost)
       </p><p>

        以前，此命令需要<code class="command">UPDATE</code>，<code class="command">DELETE</code>或<code class="command">TRUNCATE</code>特权。
       </p></li><li class="listitem"><p>

        通过名称按顺序应用表和域<code class="literal">CHECK</code>约束
        (Tom Lane)
       </p><p>
        以前的排序是不确定的。
       </p></li><li class="listitem"><p>

        允许<a class="link" href="sql-createdatabase.html" title="CREATE DATABASE"><code class="command">CREATE</code></a>/<a class="link" href="sql-alterdatabase.html" title="ALTER DATABASE"><code class="command">ALTER DATABASE</code></a>
        操纵<code class="structname">datistemplate</code>和
        <code class="structname">datallowconn</code> (Vik Fearing)
       </p><p>

        这允许在不手动修改<a class="link" href="catalog-pg-database.html" title="51.15. pg_database"><code class="structname">pg_database</code></a>
        系统目录的情况下更改这些每数据库设置。
       </p></li></ul></div><div class="sect4" id="idp66309904"><div class="titlepage"><div><div><h5 class="title">E.20.3.5.1. <a class="link" href="ddl-foreign-data.html" title="5.11. 外部数据">外部表</a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        添加对<a class="xref" href="sql-importforeignschema.html" title="IMPORT FOREIGN SCHEMA"><span class="refentrytitle">IMPORT FOREIGN SCHEMA</span></a>的支持
        (Ronan Dunklau, Michael Paquier, Tom Lane)
       </p><p>
        此命令允许自动创建与远程服务器上现有表的结构匹配的本地外部表。
       </p></li><li class="listitem"><p>

        允许将<code class="literal">CHECK</code>约束放在外部表上
        (Shigeru Hanada, Etsuro Fujita)
       </p><p>





        假定这样的约束在远程服务器上实施，并且不在本地实施。
        然而，假定它们用于查询优化的目的，
        比如<a class="link" href="ddl-partitioning.html#DDL-PARTITIONING-CONSTRAINT-EXCLUSION" title="5.10.4. 划分和约束排除">约束排除</a>。
       </p></li><li class="listitem"><p>

        允许外表参与继承 (Shigeru Hanada,
        Etsuro Fujita)
       </p><p>



        为了自然地工作，外部表现在允许具有被标记为无效的检查约束，
        并且设置存储和<code class="type">OID</code>特性，即使这些操作实际上是对外表的无操作。
       </p></li><li class="listitem"><p>


        允许外部数据包装器和自定义扫描实施连接下推 (KaiGai Kohei)
       </p></li></ul></div></div><div class="sect4" id="idp66317488"><div class="titlepage"><div><div><h5 class="title">E.20.3.5.2. <a class="link" href="event-triggers.html" title="第 39 章 事件触发器">事件触发器</a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

         每当安装<code class="literal">ddl_command_end</code>事件触发器时，
         捕获<acronym class="acronym">DDL</acronym>活动的详细信息以便检查
         (Álvaro Herrera)
        </p><p>         此信息可通过设置返回函数<a class="link" href="functions-event-triggers.html#PG-EVENT-TRIGGER-DDL-COMMAND-END-FUNCTIONS" title="9.28.1. 捕获命令结尾的改变"><code class="function">pg_event_trigger_ddl_commands()</code></a>，
         或者通过检查C数据结构（如果该函数不提供足够的细节）获得。
        </p></li><li class="listitem"><p>         允许由<a class="link" href="sql-altertable.html" title="ALTER TABLE"><code class="command">ALTER TABLE</code></a>
         引起表重写的事件触发器 (Dimitri Fontaine)
        </p></li><li class="listitem"><p>         为数据库级别<a class="link" href="sql-comment.html" title="COMMENT"><code class="command">COMMENT</code></a>、<a class="link" href="sql-security-label.html" title="SECURITY LABEL"><code class="command">SECURITY LABEL</code></a>
         和<a class="link" href="sql-grant.html" title="GRANT"><code class="command">GRANT</code></a>/<a class="link" href="sql-revoke.html" title="REVOKE"><code class="command">REVOKE</code></a>添加事件触发器支持 (Álvaro Herrera)
        </p></li><li class="listitem"><p>         添加字段到<a class="link" href="functions-event-triggers.html#PG-EVENT-TRIGGER-SQL-DROP-FUNCTIONS" title="9.28.2. 通过DDL命令删除处理的对象"><code class="function">pg_event_trigger_dropped_objects</code></a>
         的输出 (Álvaro Herrera)
        </p><p>         这允许简单的删除操作处理。
        </p></li></ul></div></div></div><div class="sect3" id="idp66331600"><div class="titlepage"><div><div><h4 class="title">E.20.3.6. 数据类型</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>


       允许<a class="link" href="datatype-xml.html" title="8.13. XML类型"><code class="type">xml</code></a>
       数据类型接受空或者所有都是空格的文本值 (Peter Eisentraut)
      </p><p>

       这是<acronym class="acronym">SQL</acronym>/<acronym class="acronym">XML</acronym>声明所要求的。
      </p></li><li class="listitem"><p>

       允许<a class="link" href="datatype-net-types.html#DATATYPE-MACADDR" title="8.9.4. macaddr"><code class="type">macaddr</code></a>
       输入使用格式<code class="literal">xxxx-xxxx-xxxx</code> (Herwin Weststrate)
      </p></li><li class="listitem"><p>









       禁止使用精度和字段规范的<a class="link" href="datatype-datetime.html#DATATYPE-INTERVAL-INPUT" title="8.5.4. 间隔输入"><code class="type">interval</code></a>
       的非SQL标准语法 (Bruce Momjian)
      </p><p>

       根据标准，这种类型规格应该写为，例如，
       <code class="literal">INTERVAL MINUTE TO SECOND(2)</code>。
       <span class="productname">PostgreSQL</span>以前允许这样写
       <code class="literal">INTERVAL(2) MINUTE TO SECOND</code>，但现在必须是以标准方式写。
      </p></li><li class="listitem"><p>
       为运算符添加<a class="link" href="datatype-net-types.html#DATATYPE-INET" title="8.9.1. inet"><code class="type">inet</code></a>/<a class="link" href="datatype-net-types.html#DATATYPE-CIDR" title="8.9.2. cidr"><code class="type">cidr</code></a>选择性估计值，
       并改进文本搜索功能的估计 (Emre Hasegeli, Tom Lane)
      </p></li><li class="listitem"><p>

       添加数据类型<a class="link" href="datatype-oid.html#DATATYPE-OID-TABLE" title="表 8.24. 对象标识符类型"><code class="type">regrole</code></a>
       和<a class="link" href="datatype-oid.html#DATATYPE-OID-TABLE" title="表 8.24. 对象标识符类型"><code class="type">regnamespace</code></a>
       以简化输入和适当打印角色或名字空间的<code class="type">OID</code> (Kyotaro Horiguchi)
      </p></li></ul></div><div class="sect4" id="idp66346656"><div class="titlepage"><div><div><h5 class="title">E.20.3.6.1. <a class="link" href="datatype-json.html" title="8.14. JSON 类型"><acronym class="acronym">JSON</acronym></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        添加<code class="type">jsonb</code>函数<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表 9.46. JSON 处理函数"><code class="function">jsonb_set()</code></a>
        和<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表 9.46. JSON 处理函数"><code class="function">jsonb_pretty()</code></a>
        (Dmitry Dolgov, Andrew Dunstan, Petr Jelínek)
       </p></li><li class="listitem"><p>

        添加<code class="type">jsonb</code>生成函数<a class="link" href="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE" title="表 9.45. JSON 创建函数"><code class="function">to_jsonb()</code></a>、
        <a class="link" href="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE" title="表 9.45. JSON 创建函数"><code class="function">jsonb_object()</code></a>、
        <a class="link" href="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE" title="表 9.45. JSON 创建函数"><code class="function">jsonb_build_object()</code></a>、
        <a class="link" href="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE" title="表 9.45. JSON 创建函数"><code class="function">jsonb_build_array()</code></a>、
        <a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE" title="表 9.52. 通用聚集函数"><code class="function">jsonb_agg()</code></a>
        和<a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE" title="表 9.52. 通用聚集函数"><code class="function">jsonb_object_agg()</code></a>
        (Andrew Dunstan)
       </p><p>
        类型<code class="type">json</code>的等效函数早已存在。
       </p></li><li class="listitem"><p>
        减少<a class="link" href="datatype-json.html" title="8.14. JSON 类型"><code class="type">json</code></a>和<a class="link" href="datatype-json.html" title="8.14. JSON 类型"><code class="type">jsonb</code></a>的转换需求 (Tom Lane)
       </p></li><li class="listitem"><p>

        允许<code class="type">text</code>、<code class="type">text</code>数组和<code class="type">integer</code>
        值从<code class="type">jsonb</code>文档中<a class="link" href="functions-json.html#FUNCTIONS-JSONB-OP-TABLE" title="表 9.44. 额外的jsonb操作符">减去</a>
        (Dmitry Dolgov, Andrew Dunstan)
       </p></li><li class="listitem"><p>

        添加<code class="type">jsonb</code> <a class="link" href="functions-json.html#FUNCTIONS-JSONB-OP-TABLE" title="表 9.44. 额外的jsonb操作符"><code class="literal">||</code></a>操作符
        (Dmitry Dolgov, Andrew Dunstan)
       </p></li><li class="listitem"><p>
        添加<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表 9.46. JSON 处理函数"><code class="function">json_strip_nulls()</code></a>
        和<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表 9.46. JSON 处理函数"><code class="function">jsonb_strip_nulls()</code></a>
        函数从文档中删除JSON空值
        (Andrew Dunstan)
       </p></li></ul></div></div></div><div class="sect3" id="idp66371376"><div class="titlepage"><div><div><h4 class="title">E.20.3.7. 函数</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        为<code class="type">numeric</code>值添加
        <a class="link" href="functions-srf.html" title="9.24. 集合返回函数"><code class="function">generate_series()</code></a>
        (Plato Malugin)
       </p></li><li class="listitem"><p>


        允许<a class="link" href="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE" title="表 9.52. 通用聚集函数"><code class="function">array_agg()</code></a>和
        <code class="function">ARRAY()</code>将数组作为输入 (Ali Akbar, Tom Lane)
       </p></li><li class="listitem"><p>

        添加函数<a class="link" href="functions-array.html#ARRAY-FUNCTIONS-TABLE" title="表 9.49. 数组函数"><code class="function">array_position()</code></a>
        和<a class="link" href="functions-array.html#ARRAY-FUNCTIONS-TABLE" title="表 9.49. 数组函数"><code class="function">array_positions()</code></a>
        返回数组值的下标 (Pavel Stehule)
       </p></li><li class="listitem"><p>



        添加<code class="type">point</code>-to-<code class="type">polygon</code>距离操作符
        <a class="link" href="functions-geometry.html#FUNCTIONS-GEOMETRY-OP-TABLE" title="表 9.33. 几何操作符">&lt;-&gt;</a>
        (Alexander Korotkov)
       </p></li><li class="listitem"><p>
        允许多字节字符在<a class="link" href="functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP" title="9.7.2. SIMILAR TO正则表达式"><code class="literal">SIMILAR TO</code></a>
        和<a class="link" href="functions-string.html#FUNCTIONS-STRING-SQL" title="表 9.8. SQL字符串函数和操作符"><code class="literal">SUBSTRING</code></a>
        中作为转义
        (Jeff Davis)
       </p><p>
        以前，只允许使用单字节字符作为转义。
       </p></li><li class="listitem"><p>



        添加<a class="link" href="functions-math.html#FUNCTIONS-MATH-FUNC-TABLE" title="表 9.5. 数学函数"><code class="function">width_bucket()</code></a>
        变体，支持任何可排序的数据类型和非均匀的桶宽度 (Petr Jelínek)
       </p></li><li class="listitem"><p>

        添加可选的<em class="replaceable"><code>missing_ok</code></em>参数到<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-GENFILE-TABLE" title="表 9.88. 通用文件访问函数"><code class="function">pg_read_file()</code></a>
        和相关的函数 (Michael Paquier, Heikki Linnakangas)
       </p></li><li class="listitem"><p>

        允许<a class="link" href="sql-syntax-calling-funcs.html" title="4.3. 调用函数"><code class="literal">=&gt;</code></a>
        在函数调用中指定命名的参数 (Pavel Stehule)
       </p><p>

        以前只能使用<code class="literal">:=</code>。这需要消除<code class="literal">=&gt;</code>
        为用户定义的运算符的可能性。自PostgreSQL 9.0起，
        用户定义的<code class="literal">=&gt;</code>运算符已发出警告。
       </p></li><li class="listitem"><p>

        对使用PostgreSQL提供的舍入函数的平台，
        添加<acronym class="acronym">POSIX</acronym>兼容的舍入 (Pedro Gimeno Fortea)
       </p></li></ul></div><div class="sect4" id="idp66394912"><div class="titlepage"><div><div><h5 class="title">E.20.3.7.1. 系统信息函数和视图</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        添加函数<a class="link" href="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE" title="表 9.67. 对象信息和地址函数"><code class="function">pg_get_object_address()</code></a>
        返回唯一标识一个对象的<code class="type">OID</code>，函数<a class="link" href="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE" title="表 9.67. 对象信息和地址函数"><code class="function">pg_identify_object_as_address()</code></a>
        返回基于<code class="type">OID</code>的对象信息 (Álvaro
        Herrera)
       </p></li><li class="listitem"><p>


        在<a class="link" href="monitoring-stats.html#PG-STAT-ACTIVITY-VIEW" title="表 28.3. pg_stat_activity 视图"><code class="structname">pg_stat_activity</code></a>
        中放松对查看查询的安全检查，执行<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL-TABLE" title="表 9.78. 服务器信号函数"><code class="function">pg_cancel_backend()</code></a>，
        并执行<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL-TABLE" title="表 9.78. 服务器信号函数"><code class="function">pg_terminate_backend()</code></a>
        (Stephen Frost)
       </p><p>

        以前，只有拥有目标会话的特定角色才能执行这些操作；现在成为该角色的成员就足够了。
       </p></li><li class="listitem"><p>

        添加<a class="link" href="monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE" title="表 28.19. 额外统计函数"><code class="function">pg_stat_get_snapshot_timestamp()</code></a>
        输出统计状态快照的时间戳 (Matt Kelly)
       </p><p>





        这表示最近的快照文件写入到了文件系统里。
       </p></li><li class="listitem"><p>
        添加<a class="link" href="routine-vacuuming.html#VACUUM-FOR-MULTIXACT-WRAPAROUND" title="24.1.5.1. 多事务和回卷"><code class="function">mxid_age()</code></a>
        计算多xid的age (Bruce Momjian)
       </p></li></ul></div></div><div class="sect4" id="idp66408080"><div class="titlepage"><div><div><h5 class="title">E.20.3.7.2. 聚合</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        为<a class="link" href="datatype-net-types.html#DATATYPE-INET" title="8.9.1. inet"><code class="type">inet</code></a>/<a class="link" href="datatype-net-types.html#DATATYPE-CIDR" title="8.9.2. cidr"><code class="type">cidr</code></a>数据类型添加
        <code class="function">min()</code>/<code class="function">max()</code>聚合 (Haribabu
        Kommi)
       </p></li><li class="listitem"><p>

        支持时，使用128位整数作为一些聚合函数的累加器 (Andreas Karlsson)
       </p></li></ul></div></div></div><div class="sect3" id="idp66412944"><div class="titlepage"><div><div><h4 class="title">E.20.3.8. 服务器端语言</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>       改进<a class="link" href="plpython.html" title="第 45 章 PL/Python - Python 过程语言"><span class="application">PL/Python</span></a>
       中对复合类型的支持 (Ed Behn, Ronan
       Dunklau)
      </p><p>       这允许<span class="application">PL/Python</span>函数返回复合类型的数组。
      </p></li><li class="listitem"><p>

       减少<a class="link" href="plpython.html" title="第 45 章 PL/Python - Python 过程语言"><span class="application">PL/Python</span></a>
       浮点数值转换的丢失 (Marko Kreen)
      </p></li><li class="listitem"><p>

       允许在<acronym class="acronym">SQL</acronym>数据类型和过程语言的数据类型之间指定转换例程 (Peter Eisentraut)
      </p><p>       这个修改添加了新的命令<a class="link" href="sql-createtransform.html" title="CREATE TRANSFORM"><code class="command">CREATE</code></a>/<a class="link" href="sql-droptransform.html" title="DROP TRANSFORM"><code class="command">DROP TRANSFORM</code></a>。
       这也增加了<a class="link" href="hstore.html" title="F.17. hstore"><span class="application">hstore</span></a>、<a class="link" href="ltree.html" title="F.22. ltree"><span class="application">ltree</span></a>类型和<a class="link" href="plperl.html" title="第 44 章 PL/Perl - Perl 过程语言"><span class="application">PL/Perl</span></a>、<a class="link" href="plpython.html" title="第 45 章 PL/Python - Python 过程语言"><span class="application">PL/Python</span></a>
       之间的可选转换。
      </p></li></ul></div><div class="sect4" id="idp66426992"><div class="titlepage"><div><div><h5 class="title">E.20.3.8.1. <a class="link" href="plpgsql.html" title="第 42 章 PL/pgSQL - SQL过程语言">PL/pgSQL</a> 服务器端语言</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
       改进<a class="link" href="plpgsql.html" title="第 42 章 PL/pgSQL - SQL过程语言"><span class="application">PL/pgSQL</span></a>数组性能 (Tom Lane)
      </p></li><li class="listitem"><p>       在<span class="application">PL/pgSQL</span>中添加一个
       <a class="link" href="plpgsql-errors-and-messages.html#PLPGSQL-STATEMENTS-ASSERT" title="42.8.2. 检查断言"><code class="command">ASSERT</code></a>
       声明 (Pavel Stehule)
      </p></li><li class="listitem"><p>       允许更多<a class="link" href="plpgsql.html" title="第 42 章 PL/pgSQL - SQL过程语言"><span class="application">PL/pgSQL</span></a>
       关键字用作标识符 (Tom Lane)
      </p></li></ul></div></div></div><div class="sect3" id="idp66434240"><div class="titlepage"><div><div><h4 class="title">E.20.3.9. 客户端应用</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
       从<code class="filename">contrib</code>中移动<a class="link" href="pgarchivecleanup.html" title="pg_archivecleanup"><span class="application">pg_archivecleanup</span></a>、
       <a class="link" href="pgtestfsync.html" title="pg_test_fsync"><span class="application">pg_test_fsync</span></a>、
       <a class="link" href="pgtesttiming.html" title="pg_test_timing"><span class="application">pg_test_timing</span></a>
       和<a class="link" href="pgwaldump.html" title="pg_waldump"><span class="application">pg_xlogdump</span></a>
       到<code class="filename">src/bin</code> (Peter Eisentraut)
      </p><p>       这将导致在大多数安装中默认安装这些程序。
      </p></li><li class="listitem"><p>


       添加<a class="link" href="app-pgrewind.html" title="pg_rewind"><span class="application">pg_rewind</span></a>，
       其允许在故障恢复之后重新同步主服务器
       (Heikki Linnakangas)
      </p></li><li class="listitem"><p>

       允许<a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>
       管理物理复制槽 (Michael Paquier)
      </p><p>       这是通过新的<code class="option">--create-slot</code>和
       <code class="option">--drop-slot</code>选项控制的。
      </p></li><li class="listitem"><p>       允许<a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>


       使用新的<code class="option">--synchronous</code>选项同步冲刷存储<acronym class="acronym">WAL</acronym>
       (Furuya Osamu, Fujii Masao)
      </p><p>       没有这个，<acronym class="acronym">WAL</acronym>文件仅在关闭时同步。
      </p></li><li class="listitem"><p>       允许<a class="link" href="app-vacuumdb.html" title="vacuumdb"><span class="application">vacuumdb</span></a>
       使用新的<code class="option">--jobs</code>选项并行清理 (Dilip Kumar)
      </p></li><li class="listitem"><p>       在<a class="link" href="app-vacuumdb.html" title="vacuumdb"><span class="application">vacuumdb</span></a>中，
       当需要多个连接时，不要重复提示输入相同的密码 (Haribabu Kommi, Michael Paquier)
      </p></li><li class="listitem"><p>       添加<code class="option">--verbose</code>选项到<a class="link" href="app-reindexdb.html" title="reindexdb"><span class="application">reindexdb</span></a> (Sawada
       Masahiko)
      </p></li><li class="listitem"><p>       在使用<span class="application">tar</span>格式时，让
       <a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>
       使用一个表空间映射文件，以在<span class="systemitem">MS Windows</span>
       上支持长度100+字符的符号连接和文件路径 (Amit Kapila)
      </p></li><li class="listitem"><p>       添加<a class="link" href="pgwaldump.html" title="pg_waldump"><span class="application">pg_xlogdump</span></a>选项
       <code class="option">--stats</code>，显示总结状态信息 (Abhijit Menon-Sen)
      </p></li></ul></div><div class="sect4" id="idp66461792"><div class="titlepage"><div><div><h5 class="title">E.20.3.9.1. <a class="xref" href="app-psql.html" title="psql"><span class="refentrytitle"><span class="application">psql</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>         允许<span class="application">psql</span>产生AsciiDoc输出 (Szymon Guz)
        </p></li><li class="listitem"><p>         添加一个<code class="literal">errors</code>模式，仅向<span class="application">psql</span>
         的<code class="varname">ECHO</code>变量显示失败的命令
         (Pavel Stehule)
        </p><p>         这个行为也可以用<span class="application">psql</span>的<code class="option">-b</code>选项来选择。
        </p></li><li class="listitem"><p>


         在<span class="application">psql</span>的unicode线型中提供单独的列、标题和边框线型控制 (Pavel Stehule)
        </p><p>         支持单行或双行，缺省是<code class="literal">single</code>。
        </p></li><li class="listitem"><p>
         在<span class="application">psql</span>的<a class="link" href="app-psql.html#APP-PSQL-VARIABLES" title="变量"><code class="envar">PROMPT</code></a>
         变量中添加新的选项<code class="literal">%l</code>，显示当前多行语句行号
         (Sawada Masahiko)
        </p></li><li class="listitem"><p>


         添加<code class="literal">\pset</code>选项<a class="link" href="app-psql.html#APP-PSQL-META-COMMANDS" title="元命令"><code class="varname">pager_min_lines</code></a>
         控制分页调用 (Andrew Dunstan)
        </p></li><li class="listitem"><p>
         改进<span class="application">psql</span>行计数在决定调用分页时的使用 (Andrew Dunstan)
        </p></li><li class="listitem"><p>
         如果<code class="option">--output</code>或<code class="option">--log-file</code>
         开关指定的文件不能写入，则<span class="application">psql</span>会失败
         (Tom Lane, Daniel Vérité)
        </p><p>         以前，在这种情况下，它有效地忽略了开关。
        </p></li><li class="listitem"><p>

         在设置<a class="xref" href="runtime-config-client.html#GUC-SEARCH-PATH">search_path</a>变量时，
         添加了<span class="application">psql</span> tab完成 (Jeff Janes)
        </p><p>         当前仅有第一个模式可以tab完成。
        </p></li><li class="listitem"><p>
         改进<span class="application">psql</span>对触发器和规则的tab完成
         (Andreas Karlsson)
        </p></li></ul></div><div class="sect5" id="idp66482608"><div class="titlepage"><div><div><h6 class="title">E.20.3.9.1.1. <a class="link" href="app-psql.html#APP-PSQL-META-COMMANDS" title="元命令">反斜杠命令</a></h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

         添加<span class="application">psql</span> <code class="command">\?</code>帮助章节
         <code class="literal">variables</code>和<code class="literal">options</code> (Pavel Stehule)
        </p><p>
         <code class="literal">\? variables</code>显示<span class="application">psql</span>的特殊变量，
         <code class="literal">\? options</code>显示命令行选项。
         <code class="command">\? commands</code>显示元命令，这是传统的输出并且是默认的。
         这些帮助显示也可以使用命令行选项
         <code class="literal">--help=<em class="replaceable"><code>section</code></em></code>获得。
        </p></li><li class="listitem"><p>

         在<span class="application">psql</span>的<code class="literal">\db+</code>中显示表空间大小
         (Fabrízio de Royes Mello)
        </p></li><li class="listitem"><p>
         在<span class="application">psql</span>的<code class="literal">\dT+</code>中显示数据类型所有者
         (Magnus Hagander)
        </p></li><li class="listitem"><p>         允许<span class="application">psql</span>的<code class="command">\watch</code>输出
         <code class="command">\timing</code>信息 (Fujii Masao)
        </p><p>         阻止<code class="option">--echo-hidden</code>输出
         <code class="command">\watch</code>查询，因为这通常是不必要的。
        </p></li><li class="listitem"><p>         让<span class="application">psql</span>的<code class="literal">\sf</code>和<code class="literal">\ef</code>
         命令遵守<code class="envar">ECHO_HIDDEN</code> (Andrew Dunstan)
        </p></li><li class="listitem"><p>         改进<span class="application">psql</span>对<code class="command">\set</code>、<code class="command">\unset</code>
         和<code class="literal">:variable</code>名的tab完成 (Pavel
         Stehule)
        </p></li><li class="listitem"><p>         允许<span class="application">psql</span> <code class="literal">\c</code>命令中的角色名tab完成 (Ian Barwick)
        </p></li></ul></div></div></div><div class="sect4" id="idp66507392"><div class="titlepage"><div><div><h5 class="title">E.20.3.9.2. <a class="xref" href="app-pgdump.html" title="pg_dump"><span class="refentrytitle">pg_dump</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        允许<span class="application">pg_dump</span>使用<code class="option">--snapshot</code>
        共享由另一个会话拍摄的快照 (Simon Riggs, Michael Paquier)
       </p><p>





        远程快照必须已通过<code class="function">pg_export_snapshot()</code>
        或逻辑复制插槽创建导出。这可以用于跨多个<span class="application">pg_dump</span>进程共享一致的快照。
       </p></li><li class="listitem"><p>



        支持tar归档格式的表大小超过8GB (Tom Lane)
       </p><p>


        用于tar格式的POSIX标准不允许tar存档的元素超过8GB，
        但是tar的大多数现代实现都支持允许它的扩展。
        必要时使用扩展格式，而不是失败。
       </p></li><li class="listitem"><p>

        让<span class="application">pg_dump</span>总是打印服务器和
        <span class="application">pg_dump</span>版本 (Jing Wang)
       </p><p>


        以前，版本信息仅在<code class="option">--verbose</code>模式下打印。
       </p></li><li class="listitem"><p>
        从<span class="application">pg_dump</span>、<span class="application">pg_dumpall</span>
        和<span class="application">pg_restore</span>删除长期忽视的<code class="option">-i</code>/<code class="option">--ignore-version</code>
        选项 (Fujii Masao)
       </p></li></ul></div></div><div class="sect4" id="idp66519456"><div class="titlepage"><div><div><h5 class="title">E.20.3.9.3. <a class="xref" href="app-pg-ctl.html" title="pg_ctl"><span class="refentrytitle"><span class="application">pg_ctl</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        支持多个<span class="application">pg_ctl</span> <code class="option">-o</code>选项，
        串联他们的值 (Bruce Momjian)
       </p></li><li class="listitem"><p>

        允许在<span class="systemitem">MS Windows</span>
        上控制<span class="application">pg_ctl</span>的事件源日志记录
        (MauMau)
       </p><p>

        这仅仅控制<span class="application">pg_ctl</span>，没有服务器，
        服务器在<code class="filename">postgresql.conf</code>中有单独的设置。
       </p></li><li class="listitem"><p>
        如果服务器监听地址设置为通配符值
        (IPv4中是<code class="literal">0.0.0.0</code>或者IPv6中是<code class="literal">::</code>)，
        通过回调地址连接，而不是尝试使用通配符地址 (Kondo Yuta)
       </p><p>


        这个修复主要影响Windows，因为在其他平台上
        <span class="application">pg_ctl</span>更倾向于使用Unix域套接字。
       </p></li></ul></div></div><div class="sect4" id="idp66529280"><div class="titlepage"><div><div><h5 class="title">E.20.3.9.4. <a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>


        从<code class="filename">contrib</code>中移动<span class="application">pg_upgrade</span>到
        <code class="filename">src/bin</code> (Peter Eisentraut)
       </p><p>



        与此修改相关，<span class="application">pg_upgrade_support</span>
        模块以前提供的功能已经移动到了核心服务器中。
       </p></li><li class="listitem"><p>


        支持多个<span class="application">pg_upgrade</span>
        <code class="option">-o</code>/<code class="option">-O</code>选项，
        串联他们的值 (Bruce Momjian)
       </p></li><li class="listitem"><p>

        改善<span class="application">pg_upgrade</span>中数据库排序规则的比较 (Heikki Linnakangas)
       </p></li><li class="listitem"><p>


        删除从8.3群集升级的支持 (Bruce Momjian)
       </p></li></ul></div></div><div class="sect4" id="idp66537712"><div class="titlepage"><div><div><h5 class="title">E.20.3.9.5. <a class="xref" href="pgbench.html" title="pgbench"><span class="refentrytitle"><span class="application">pgbench</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        从<code class="filename">contrib</code>中移动pgbench到<code class="filename">src/bin</code>
        (Peter Eisentraut)
       </p></li><li class="listitem"><p>

        修复TPS数量<span class="quote">“<span class="quote">排除连接建立</span>”</span>的计算 (Tatsuo Ishii, Fabien Coelho)
       </p><p>

        每当pgbench线程的数量小于客户端连接的数量时，连接建立的开销就被错误计算。
        虽然这显然是一个错误，但我们不会将它修补到9.5之前的分支，
        因为它使TPS数字与以前的结果不可比。
       </p></li><li class="listitem"><p>

        允许计数接管指定时间量的pgbench事务 (Fabien Coelho)
       </p><p>
        这是通过新的<code class="option">--latency-limit</code>选项控制的。
       </p></li><li class="listitem"><p>


        允许pgbench使用<code class="command">\setrandom</code>生成高斯/指数发布
        (Kondo Mitsumasa, Fabien Coelho)
       </p></li><li class="listitem"><p>
        允许<span class="application">pgbench</span>的<code class="command">\set</code>
        命令处理包含多个运算符的算术表达式，并且添加<code class="literal">%</code> (modulo)
        到它支持的运算符集 (Robert Haas, Fabien Coelho)
       </p></li></ul></div></div></div><div class="sect3" id="idp66547680"><div class="titlepage"><div><div><h4 class="title">E.20.3.10. 源代码</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>



        简化<a class="link" href="wal.html" title="第 30 章 可靠性和预写式日志"><acronym class="acronym">WAL</acronym></a>记录格式
        (Heikki Linnakangas)
       </p><p>
        这允许外部工具更容易地跟踪哪些块被修改。
       </p></li><li class="listitem"><p>


        改进事务提交和中止WAL记录的表示 (Andres Freund)
       </p></li><li class="listitem"><p>
        添加原子内存操作<acronym class="acronym">API</acronym> (Andres Freund)
       </p></li><li class="listitem"><p>


        允许自定义路径和扫描方法 (KaiGai Kohei, Tom Lane)
       </p><p>


        这允许扩展更好地控制优化器和执行器。
       </p></li><li class="listitem"><p>



        允许外部数据包装器执行后过滤器锁定 (Etsuro
        Fujita)
       </p></li><li class="listitem"><p>


        外部表现在可以参与<code class="command">INSERT ... ON CONFLICT
        DO NOTHING</code>查询 (Peter Geoghegan, Heikki Linnakangas,
        Andres Freund)
       </p><p>




        必须修改外部数据包装才能处理此问题。
        在外部表上不支持<code class="command">INSERT ... ON CONFLICT DO UPDATE</code>。
       </p></li><li class="listitem"><p>

        改进<code class="function">hash_create()</code>的一个用于选择简单二进制秘钥哈希函数的API
        (Teodor Sigaev, Tom Lane)
       </p></li><li class="listitem"><p>


        改进并行执行基础架构 (Robert Haas, Amit
        Kapila, Noah Misch, Rushabh Lathia, Jeevan Chalke)
       </p></li><li class="listitem"><p>
        删除<span class="productname">Alpha</span> (<acronym class="acronym">CPU</acronym>)和<span class="systemitem">Tru64</span> (OS) 接口 (Andres Freund)
       </p></li><li class="listitem"><p>

        删除<acronym class="acronym">ARM</acronym>v5和更早版本<acronym class="acronym">CPU</acronym>的基于交换字节的自旋锁实现
        (Robert Haas)
       </p><p>

        <acronym class="acronym">ARM</acronym>v5的弱内存排序使得这个锁定实现不安全。
        自旋锁支持仍然可能在更新的gcc实现与原子的支持。
       </p></li><li class="listitem"><p>

        当过长（100+个字符）的文件路径写入tar文件时生成错误 (Peter Eisentraut)
       </p><p>
        Tar不支持这种超长的路径。
       </p></li><li class="listitem"><p>


        为字段<a class="link" href="catalog-pg-seclabel.html" title="51.45. pg_seclabel"><code class="structname">pg_seclabel</code></a>.<code class="structname">provider</code>
        和<a class="link" href="catalog-pg-shseclabel.html" title="51.49. pg_shseclabel"><code class="structname">pg_shseclabel</code></a>.<code class="structname">provider</code>
        修改索引操作符类为<code class="literal">text_pattern_ops</code> (Tom Lane)
       </p><p>        当集群的不同数据库具有不同的缺省排序时，可以避免这些索引可能出现的问题。
       </p></li><li class="listitem"><p>



        更改自旋锁基元以充当编译器障碍
        (Robert Haas)
       </p></li></ul></div><div class="sect4" id="idp66568464"><div class="titlepage"><div><div><h5 class="title">E.20.3.10.1. MS Windows</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>

        在<span class="systemitem">Windows 8</span>、
        <span class="systemitem">Windows Server 2012</span>
        和更高版本的Windows系统上允许更高精度的时间戳分辨率 (Craig Ringer)
       </p></li><li class="listitem"><p>
        在<span class="systemitem">MS Windows</span>
        上安装共享的库到<code class="filename">bin</code> (Peter Eisentraut, Michael Paquier)
       </p></li><li class="listitem"><p>

        在<span class="productname">MSVC</span>构建上安装<code class="filename">src/test/modules</code>
        和<code class="filename">contrib</code> (Michael Paquier)
       </p></li><li class="listitem"><p>


        允许<span class="productname">MSVC</span>构建遵守<a class="link" href="install-procedure.html" title="16.4. 安装过程">configure</a>的
        <code class="option">--with-extra-version</code>选项 (Michael Paquier)
       </p></li><li class="listitem"><p>

        传递<code class="envar">PGFILEDESC</code>到<span class="productname">MSVC</span>贡献构建中
        (Michael Paquier)
       </p></li><li class="listitem"><p>
        添加图标到所有<span class="productname">MSVC</span>构造的二进制文件，添加版本信息到所有
        <span class="systemitem">MS Windows</span>二进制文件 (Noah Misch)
       </p><p>
        MinGW已经有这样的图标。
       </p></li><li class="listitem"><p>
        向内部<code class="function">getopt_long()</code>实现添加可选的参数支持 (Michael Paquier,
        Andres Freund)
       </p><p>
        这是<span class="productname">MSVC</span>构建所使用的。
       </p></li></ul></div></div></div><div class="sect3" id="idp66585376"><div class="titlepage"><div><div><h4 class="title">E.20.3.11. 其他模块</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>       添加最小，最大，平均和标准偏差时间的统计信息到<a class="link" href="pgstatstatements.html#PGSTATSTATEMENTS-COLUMNS" title="表 F.22. pg_stat_statements列"><span class="application">pg_stat_statements</span></a>
       (Mitsumasa Kondo, Andrew Dunstan)
      </p></li><li class="listitem"><p>       添加<a class="link" href="pgcrypto.html" title="F.26. pgcrypto"><span class="application">pgcrypto</span></a>函数
       <code class="function">pgp_armor_headers()</code>提取<span class="productname">PGP</span>
       armor头 (Marko Tiikkaja, Heikki Linnakangas)
      </p></li><li class="listitem"><p>       在<a class="link" href="unaccent.html" title="F.44. unaccent"><span class="application">unaccent</span></a>
       中允许空的替换字符串 (Mohammad Alhashash)
      </p><p>       这在将附加符号表示为单独字符的语言中很有用。
      </p></li><li class="listitem"><p>       在<a class="link" href="unaccent.html" title="F.44. unaccent"><span class="application">unaccent</span></a>
       中允许多字符源字符串 (Tom Lane)
      </p><p>       这在将附加符号表示为单独字符的语言中很有用。它还允许更复杂的无关字典。
      </p></li><li class="listitem"><p>       添加<code class="filename">contrib</code>模块<a class="link" href="tsm-system-rows.html" title="F.42. tsm_system_rows"><span class="application">tsm_system_rows</span></a>和
       <a class="link" href="tsm-system-time.html" title="F.43. tsm_system_time"><span class="application">tsm_system_time</span></a>，
       以允许额外的表采样方法 (Petr Jelínek)
      </p></li><li class="listitem"><p>       添加<a class="link" href="gin.html" title="第 64 章 GIN 索引"><acronym class="acronym">GIN</acronym></a>
       索引观察函数到<a class="link" href="pageinspect.html" title="F.23. pageinspect"><span class="application">pageinspect</span></a> (Heikki
       Linnakangas, Peter Geoghegan, Michael Paquier)
      </p></li><li class="listitem"><p>       将有关缓冲区引脚的信息添加到<a class="link" href="pgbuffercache.html" title="F.25. pg_buffercache"><span class="application">pg_buffercache</span></a>显示
       (Andres Freund)
      </p></li><li class="listitem"><p>       允许<a class="link" href="pgstattuple.html" title="F.31. pgstattuple"><span class="application">pgstattuple</span></a>
       使用<code class="function">pgstattuple_approx()</code>
       以较少的开销报告近似答案 (Abhijit Menon-Sen)
      </p></li><li class="listitem"><p>       从<code class="filename">contrib</code>中移动<span class="application">dummy_seclabel</span>、
       <span class="application">test_shm_mq</span>、<span class="application">test_parser</span>和
       <span class="application">worker_spi</span>到<code class="filename">src/test/modules</code>
       (Álvaro Herrera)
      </p><p>       这些模块仅用于服务器测试，因此在包装<span class="productname">PostgreSQL</span>时，
       不需要构建或安装这些模块。
      </p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-5-1.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-4-15.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">E.19. 版本 9.5.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> E.21. 版本 9.4.15</td></tr></table></div></body></html>
